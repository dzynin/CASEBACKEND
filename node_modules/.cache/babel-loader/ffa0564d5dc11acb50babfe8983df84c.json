{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/ProfileView.js\";\nimport React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { Card, Col, Row, Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\n\nfunction ProfileView() {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [showModal, setShowModal] = useState(false);\n  const [shareFile, setShareFile] = useState(null);\n  const {\n    auth\n  } = state;\n\n  const handleFileShare = fileName => {\n    setShowModal(true);\n    setShareFile(fileName);\n    console.log(fileName);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-view bg-dark2 p-5\",\n    style: {\n      width: \"100%\",\n      minHeight: \"100vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }\n  }, auth && /*#__PURE__*/React.createElement(Card, {\n    className: \"p-5\",\n    style: {\n      background: \"#191c24\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      height: \"100px\",\n      width: \"100px\"\n    },\n    src: require(\"../images/faces/face15.jpg\"),\n    className: \"rounded-circle\",\n    alt: \"face\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, `${auth.fname} ${auth.lname}`), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, auth.email))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"bg-dark2 mb-0 mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h3 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 10\n    }\n  }, \"Profile info\")), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"bg-dark2 mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }\n  }, `@${auth.username}`))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, `${auth.fname} ${auth.lname}`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, auth.email)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Organisation\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, auth.organisation)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, auth.city)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Country\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h4 profile-text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, auth.country)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 10\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      height: \"100%\"\n    },\n    className: \"bg-dark2 text-center p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"h3 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"My Files\", /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Card.Body, {\n    className: \"p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, state.files && state.files.length > 0 ? state.files.map((pdf, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"bg-secondary rounded-0 d-flex align-items-center justify-content-between py-2 px-3 my-1 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, pdf.name), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => handleFileShare(pdf.name),\n    className: \"profile-icon d-flex justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 14\n    }\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }\n  }, \"No Pdfs uploaded!\")), /*#__PURE__*/React.createElement(FileShareModal, {\n    filename: shareFile,\n    show: showModal,\n    setShow: setShowModal,\n    setFile: setShareFile,\n    auth: state.auth,\n    dispatch: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 10\n    }\n  })))))));\n}\n\nfunction FileShareModal({\n  filename,\n  show,\n  setShow,\n  setFile,\n  auth,\n  dispatch\n}) {\n  const handleClose = () => {\n    setFile(null);\n    setShow(false);\n  };\n\n  const [message, setMessage] = useState(\"\");\n\n  const handleShare = async () => {\n    console.log(`Sharing File ${filename}`);\n\n    try {\n      const result = await axios(`${BASE_URL_DEV}/file/share/${auth.userPublicId}/${filename}`, {\n        headers: {\n          \"x-access-token\": auth.authToken\n        }\n      });\n      const createdPost = result.data && result.data.post;\n      console.log(createdPost);\n\n      if (createdPost) {\n        dispatch({\n          type: \"ADD_My_POSTS\",\n          payload: createdPost\n        });\n      }\n\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      if (error.response && error.response.data.message) setMessage(error.response.data.message);else setMessage(error.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    backdrop: \"static\",\n    keyboard: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h3 text-center text-dark my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 6\n    }\n  }, `Share ${filename}?`), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-dark my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, message)), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 6\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: () => handleShare(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 6\n    }\n  }, \"Share\"))));\n}\n\nexport default ProfileView;","map":{"version":3,"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/ProfileView.js"],"names":["React","useContext","useState","axios","Card","Col","Row","Modal","Button","UserContext","BASE_URL_DEV","ProfileView","state","dispatch","showModal","setShowModal","shareFile","setShareFile","auth","handleFileShare","fileName","console","log","width","minHeight","background","height","require","fname","lname","email","username","organisation","city","country","files","length","map","pdf","index","margin","name","FileShareModal","filename","show","setShow","setFile","handleClose","message","setMessage","handleShare","result","userPublicId","headers","authToken","createdPost","data","post","type","payload","error","response"],"mappings":"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","sourcesContent":["// @flow\nimport React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { Card, Col, Row, Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\n\nfunction ProfileView() {\n\tconst { state, dispatch } = useContext(UserContext);\n\tconst [showModal, setShowModal] = useState(false);\n\tconst [shareFile, setShareFile] = useState(null);\n\tconst { auth } = state;\n\n\tconst handleFileShare = (fileName) => {\n\t\tsetShowModal(true);\n\t\tsetShareFile(fileName);\n\t\tconsole.log(fileName);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"dashboard-view bg-dark2 p-5\"\n\t\t\tstyle={{ width: \"100%\", minHeight: \"100vh\" }}\n\t\t>\n\t\t\t{auth && (\n\t\t\t\t<Card className=\"p-5\" style={{ background: \"#191c24\" }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={6} xs={12} sm={12}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"text-center mb-3\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: \"100px\",\n\t\t\t\t\t\t\t\t\t\t\twidth: \"100px\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tsrc={require(\"../images/faces/face15.jpg\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\n\t\t\t\t\t\t\t\t\t\talt=\"face\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"my-3\">\n\t\t\t\t\t\t\t\t\t\t<h3>{`${auth.fname} ${auth.lname}`}</h3>\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"profile-text-dark\">{auth.email}</h5>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<hr className=\"bg-dark2 mb-0 mt-4\" />\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"h3 mb-0\">Profile info</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr className=\"bg-dark2 mt-0\" />\n\t\t\t\t\t\t\t\t<div className=\"px-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 text-white\">Username</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 profile-text-dark\">\n\t\t\t\t\t\t\t\t\t\t\t<em>{`@${auth.username}`}</em>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 text-white\">Name</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 profile-text-dark\">{`${auth.fname} ${auth.lname}`}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 text-white\">Email</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 profile-text-dark\">{auth.email}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 text-white\">Organisation</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 profile-text-dark\">\n\t\t\t\t\t\t\t\t\t\t\t{auth.organisation}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 text-white\">City</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 profile-text-dark\">{auth.city}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 text-white\">Country</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"h4 profile-text-dark\">{auth.country}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={6} xs={12} sm={12}>\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\tstyle={{ height: \"100%\" }}\n\t\t\t\t\t\t\t\tclassName=\"bg-dark2 text-center p-3\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Card.Header className=\"h3 p-0\">\n\t\t\t\t\t\t\t\t\tMy Files\n\t\t\t\t\t\t\t\t\t<hr className=\"bg-light\" />\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Card.Body className=\"p-0\">\n\t\t\t\t\t\t\t\t\t{state.files && state.files.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\tstate.files.map((pdf, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-secondary rounded-0 d-flex align-items-center justify-content-between py-2 px-3 my-1 mb-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<p style={{ margin: 0 }}>{pdf.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleFileShare(pdf.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"profile-icon d-flex justify-content-center align-items-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"mdi mdi-share\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-100 p-2\">\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ margin: 0 }}>No Pdfs uploaded!</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<FileShareModal\n\t\t\t\t\t\t\t\t\t\tfilename={shareFile}\n\t\t\t\t\t\t\t\t\t\tshow={showModal}\n\t\t\t\t\t\t\t\t\t\tsetShow={setShowModal}\n\t\t\t\t\t\t\t\t\t\tsetFile={setShareFile}\n\t\t\t\t\t\t\t\t\t\tauth={state.auth}\n\t\t\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nfunction FileShareModal({ filename, show, setShow, setFile, auth, dispatch }) {\n\tconst handleClose = () => {\n\t\tsetFile(null);\n\t\tsetShow(false);\n\t};\n\tconst [message, setMessage] = useState(\"\");\n\n\tconst handleShare = async () => {\n\t\tconsole.log(`Sharing File ${filename}`);\n\t\ttry {\n\t\t\tconst result = await axios(\n\t\t\t\t`${BASE_URL_DEV}/file/share/${auth.userPublicId}/${filename}`,\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"x-access-token\": auth.authToken,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst createdPost = result.data && result.data.post;\n\t\t\tconsole.log(createdPost);\n\t\t\tif (createdPost) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_My_POSTS\",\n\t\t\t\t\tpayload: createdPost,\n\t\t\t\t});\n\t\t\t}\n\t\t\thandleClose();\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tif (error.response && error.response.data.message) setMessage(error.response.data.message);\n\t\t\telse setMessage(error.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Modal\n\t\t\t\tshow={show}\n\t\t\t\tonHide={handleClose}\n\t\t\t\tbackdrop=\"static\"\n\t\t\t\tkeyboard={false}\n\t\t\t>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<div className=\"h3 text-center text-dark my-3\">{`Share ${filename}?`}</div>\n\t\t\t\t\t{message && (\n\t\t\t\t\t\t<div className=\"text-center text-dark my-3\">{message}</div>\n\t\t\t\t\t)}\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"primary\" onClick={() => handleShare()}>\n\t\t\t\t\t\tShare\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n\nexport default ProfileView;\n"]},"metadata":{},"sourceType":"module"}