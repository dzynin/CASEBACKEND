{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/PdfViewer.js\";\nimport React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { PdfLoader, PdfHighlighter, Highlight, Popup, AreaHighlight } from \"react-pdf-highlighter\";\nimport StickyNote from './StickyNote';\nimport { Container } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport Spinner from \"../shared/Spinner\";\nimport Tip from \"./Tip\";\nimport processMd from \"./markdown\";\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport PdfViewerSide from \"./PdfViewerSide\";\nconst getNextId = () => String(Math.random()).slice(2);\nconst parseIdFromHash = () => document.location.hash.slice(\"#pdf-highlight-\".length);\nconst resetHash = () => {\n  document.location.hash = \"\";\n};\nconst HighlightPopup = ({\n  comment\n}) => comment.text ? /*#__PURE__*/React.createElement(\"div\", {\n  className: \"Highlight__popup\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }\n}, comment.emoji, \" \", processMd(comment.text)) : null;\nconst Wrapper = styled.div`\n  .Highlight__part {\n    background: ${props => props.highlightColors.default || \"#000000\"};\n  }\n  .AreaHighlight {\n    border: 3px solid ${props => props.highlightColors.default || \"#000000\"};\n  }\n  .Highlight__part.OTHER {\n    background: rgb(93, 115, 240);\n  }\n  .Highlight__part.LEGALTEST {\n    background: ${props => props.highlightColors.legalTest};\n  }\n  .Highlight__part.ISSUE {\n    background: ${props => props.highlightColors.issue};\n  }\n  .Highlight__part.CONCLUSION {\n    background: ${props => props.highlightColors.conclusion};\n  }\n`;\nfunction PdfViewer() {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [currFile, setCurrFile] = useState(null);\n  const [highlights, setHighlights] = useState([]);\n  useEffect(() => {\n    if (highlights.length > 0) {\n      var _state$currentFile;\n      dispatch({\n        type: \"SET_FILE_HIGHLIGHTS\",\n        payload: {\n          highlights,\n          name: (_state$currentFile = state.currentFile) === null || _state$currentFile === void 0 ? void 0 : _state$currentFile.name\n        }\n      });\n    }\n  }, [highlights]);\n  useEffect(() => {\n    if (state.currentFile) {\n      if (state.currentFile.url) {\n        setCurrFile(`${BASE_URL_DEV}/${state.currentFile.url}`);\n      } else {\n        const file = state.currentFile;\n        if (file instanceof Blob) {\n          const reader = new FileReader();\n          reader.onload = () => {\n            setCurrFile(reader.result);\n          };\n          reader.readAsDataURL(file);\n        } else {\n          console.error('Current file is not a Blob', file);\n        }\n      }\n    } else {\n      setCurrFile(null);\n    }\n  }, [state.currentFile]);\n  useEffect(() => {\n    if (state.currentFile) {\n      const fileHighlights = state.fileHighlights.find(item => item.name === state.currentFile.name);\n      setHighlights(fileHighlights ? fileHighlights.highlights : []);\n    } else {\n      setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n  const pdfHighlighter = useRef(null);\n  const getHighlightById = id => highlights.find(highlight => highlight.id === id);\n  const scrollToHighlightFromHash = () => {\n    const highlight = getHighlightById(parseIdFromHash());\n    if (highlight) {\n      pdfHighlighter.current.scrollTo(highlight);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"hashchange\", scrollToHighlightFromHash, false);\n    return () => window.removeEventListener(\"hashchange\", scrollToHighlightFromHash);\n  }, [highlights]);\n  const addHighlight = highlight => {\n    setHighlights([{\n      ...highlight,\n      id: getNextId()\n    }, ...highlights]);\n  };\n  const updateHighlight = (highlightId, position, content) => {\n    setHighlights(highlights.map(h => h.id === highlightId ? {\n      ...h,\n      position: {\n        ...h.position,\n        ...position\n      },\n      content: {\n        ...h.content,\n        ...content\n      }\n    } : h));\n  };\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    highlightColors: state.highlightColors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minHeight: \"calc(100vh - 70px)\",\n      color: \"#000000\",\n      width: \"80%\"\n    },\n    className: \"pdf-viewer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, currFile ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PdfLoader, {\n    className: \"my-pdf-viewer\",\n    url: currFile,\n    beforeLoad: /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 93\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, pdfDocument => /*#__PURE__*/React.createElement(PdfHighlighter, {\n    ref: pdfHighlighter,\n    pdfDocument: pdfDocument,\n    enableAreaSelection: event => event.altKey,\n    onScrollChange: resetHash,\n    scrollRef: scrollTo => {},\n    onSelectionFinished: (position, content, hideTipAndSelection, transformSelection) => /*#__PURE__*/React.createElement(Tip, {\n      onOpen: transformSelection,\n      onConfirm: comment => {\n        addHighlight({\n          content,\n          position,\n          comment\n        });\n        hideTipAndSelection();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 45\n      }\n    }),\n    highlightTransform: (highlight, index, setTip, hideTip, viewportToScaled, screenshot, isScrolledTo) => {\n      const isTextHighlight = !Boolean(highlight.content && highlight.content.image);\n      const component = isTextHighlight ? /*#__PURE__*/React.createElement(StickyNote, {\n        isScrolledTo: isScrolledTo,\n        position: highlight.position,\n        comment: highlight.comment,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 49\n        }\n      }) : /*#__PURE__*/React.createElement(AreaHighlight, {\n        highlight: highlight,\n        onChange: boundingRect => {\n          updateHighlight(highlight.id, {\n            boundingRect: viewportToScaled(boundingRect)\n          }, {\n            image: screenshot(boundingRect)\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 49\n        }\n      });\n      return /*#__PURE__*/React.createElement(Popup, {\n        popupContent: /*#__PURE__*/React.createElement(HighlightPopup, Object.assign({}, highlight, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 67\n          }\n        })),\n        onMouseOver: popupContent => setTip(highlight, highlight => popupContent),\n        onMouseOut: hideTip,\n        key: index,\n        children: component,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 49\n        }\n      });\n    },\n    highlights: highlights,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }))) : state.files && state.files.length === 0 ? /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h3 text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, \"No File Selected!!\")) : /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(PdfViewerSide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  })));\n}\nexport default PdfViewer;","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","PdfLoader","PdfHighlighter","Highlight","Popup","AreaHighlight","StickyNote","Container","styled","Spinner","Tip","processMd","UserContext","BASE_URL_DEV","PdfViewerSide","getNextId","String","Math","random","slice","parseIdFromHash","document","location","hash","length","resetHash","HighlightPopup","comment","text","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","emoji","Wrapper","div","props","highlightColors","default","legalTest","issue","conclusion","PdfViewer","state","dispatch","currFile","setCurrFile","highlights","setHighlights","_state$currentFile","type","payload","name","currentFile","url","file","Blob","reader","FileReader","onload","result","readAsDataURL","console","error","fileHighlights","find","item","pdfHighlighter","getHighlightById","id","highlight","scrollToHighlightFromHash","current","scrollTo","window","addEventListener","removeEventListener","addHighlight","updateHighlight","highlightId","position","content","map","h","style","minHeight","color","width","Fragment","beforeLoad","pdfDocument","ref","enableAreaSelection","event","altKey","onScrollChange","scrollRef","onSelectionFinished","hideTipAndSelection","transformSelection","onOpen","onConfirm","highlightTransform","index","setTip","hideTip","viewportToScaled","screenshot","isScrolledTo","isTextHighlight","Boolean","image","component","onChange","boundingRect","popupContent","Object","assign","onMouseOver","onMouseOut","key","children","files"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/PdfViewer.js"],"sourcesContent":["import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport {\n    PdfLoader,\n    PdfHighlighter,\n    Highlight,\n    Popup,\n    AreaHighlight,\n} from \"react-pdf-highlighter\";\n\nimport StickyNote from './StickyNote';\nimport { Container } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport Spinner from \"../shared/Spinner\";\nimport Tip from \"./Tip\";\nimport processMd from \"./markdown\";\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport PdfViewerSide from \"./PdfViewerSide\";\n\nconst getNextId = () => String(Math.random()).slice(2);\n\nconst parseIdFromHash = () =>\n    document.location.hash.slice(\"#pdf-highlight-\".length);\n\nconst resetHash = () => {\n    document.location.hash = \"\";\n};\n\nconst HighlightPopup = ({ comment }) =>\n    comment.text ? (\n        <div className=\"Highlight__popup\">\n            {comment.emoji} {processMd(comment.text)}\n        </div>\n    ) : null;\n\nconst Wrapper = styled.div`\n  .Highlight__part {\n    background: ${props => props.highlightColors.default || \"#000000\"};\n  }\n  .AreaHighlight {\n    border: 3px solid ${props => props.highlightColors.default || \"#000000\"};\n  }\n  .Highlight__part.OTHER {\n    background: rgb(93, 115, 240);\n  }\n  .Highlight__part.LEGALTEST {\n    background: ${props => props.highlightColors.legalTest};\n  }\n  .Highlight__part.ISSUE {\n    background: ${props => props.highlightColors.issue};\n  }\n  .Highlight__part.CONCLUSION {\n    background: ${props => props.highlightColors.conclusion};\n  }\n`\n\nfunction PdfViewer() {\n    const { state, dispatch } = useContext(UserContext);\n    const [currFile, setCurrFile] = useState(null);\n    const [highlights, setHighlights] = useState([]);\n\n    useEffect(() => {\n        if (highlights.length > 0) {\n            dispatch({\n                type: \"SET_FILE_HIGHLIGHTS\",\n                payload: {\n                    highlights,\n                    name: state.currentFile?.name,\n                },\n            });\n        }\n    }, [highlights]);\n\n    useEffect(() => {\n        if (state.currentFile) {\n            if (state.currentFile.url) {\n                setCurrFile(`${BASE_URL_DEV}/${state.currentFile.url}`);\n            } else {\n                const file = state.currentFile;\n                if (file instanceof Blob) {\n                    const reader = new FileReader();\n                    reader.onload = () => {\n                        setCurrFile(reader.result);\n                    };\n                    reader.readAsDataURL(file);\n                } else {\n                    console.error('Current file is not a Blob',file);\n                }\n            }\n        } else {\n            setCurrFile(null);\n        }\n    }, [state.currentFile]);\n\n    useEffect(() => {\n        if (state.currentFile) {\n            const fileHighlights = state.fileHighlights.find(item => item.name === state.currentFile.name);\n            setHighlights(fileHighlights ? fileHighlights.highlights : []);\n        } else {\n            setHighlights([]);\n        }\n    }, [state.currentFile, state.fileHighlights]);\n\n    const pdfHighlighter = useRef(null);\n    const getHighlightById = (id) => highlights.find((highlight) => highlight.id === id);\n\n    const scrollToHighlightFromHash = () => {\n        const highlight = getHighlightById(parseIdFromHash());\n        if (highlight) {\n            pdfHighlighter.current.scrollTo(highlight);\n        }\n    };\n\n    useEffect(() => {\n        window.addEventListener(\"hashchange\", scrollToHighlightFromHash, false);\n        return () => window.removeEventListener(\"hashchange\", scrollToHighlightFromHash);\n    }, [highlights]);\n\n    const addHighlight = (highlight) => {\n        setHighlights([{ ...highlight, id: getNextId() }, ...highlights]);\n    };\n\n    const updateHighlight = (highlightId, position, content) => {\n        setHighlights(highlights.map((h) =>\n            h.id === highlightId\n                ? { ...h, position: { ...h.position, ...position }, content: { ...h.content, ...content } }\n                : h\n        ));\n    };\n\n    return (\n        <Wrapper highlightColors={state.highlightColors}>\n            <div className=\"d-flex\">\n                <div style={{ minHeight: \"calc(100vh - 70px)\", color: \"#000000\", width: \"80%\" }} className=\"pdf-viewer\">\n                    {currFile ? (\n                        <>\n                            <PdfLoader className=\"my-pdf-viewer\" url={currFile} beforeLoad={<Spinner />}>\n                                {(pdfDocument) => (\n                                    <PdfHighlighter\n                                        ref={pdfHighlighter}\n                                        pdfDocument={pdfDocument}\n                                        enableAreaSelection={(event) => event.altKey}\n                                        onScrollChange={resetHash}\n                                        scrollRef={(scrollTo) => { }}\n                                        onSelectionFinished={(\n                                            position,\n                                            content,\n                                            hideTipAndSelection,\n                                            transformSelection\n                                        ) => (\n                                            <Tip\n                                                onOpen={transformSelection}\n                                                onConfirm={(comment) => {\n                                                    addHighlight({ content, position, comment });\n                                                    hideTipAndSelection();\n                                                }}\n                                            />\n                                        )}\n                                        highlightTransform={(\n                                            highlight,\n                                            index,\n                                            setTip,\n                                            hideTip,\n                                            viewportToScaled,\n                                            screenshot,\n                                            isScrolledTo\n                                        ) => {\n                                            const isTextHighlight = !Boolean(highlight.content && highlight.content.image);\n                                            const component = isTextHighlight ? (\n                                                <StickyNote\n                                                    isScrolledTo={isScrolledTo}\n                                                    position={highlight.position}\n                                                    comment={highlight.comment}\n                                                />\n                                            ) : (\n                                                <AreaHighlight\n                                                    highlight={highlight}\n                                                    onChange={(boundingRect) => {\n                                                        updateHighlight(\n                                                            highlight.id,\n                                                            { boundingRect: viewportToScaled(boundingRect) },\n                                                            { image: screenshot(boundingRect) }\n                                                        );\n                                                    }}\n                                                />\n                                            );\n\n                                            return (\n                                                <Popup\n                                                    popupContent={<HighlightPopup {...highlight} />}\n                                                    onMouseOver={(popupContent) =>\n                                                        setTip(highlight, (highlight) => popupContent)\n                                                    }\n                                                    onMouseOut={hideTip}\n                                                    key={index}\n                                                    children={component}\n                                                />\n                                            );\n                                        }}\n                                        highlights={highlights}\n                                    />\n                                )}\n                            </PdfLoader>\n                        </>\n                    ) : state.files && state.files.length === 0 ? (\n                        <Container>\n                            <div className=\"h3 text-center mt-5\">No File Selected!!</div>\n                        </Container>\n                    ) : (\n                        <Spinner />\n                    )}\n                </div>\n                <PdfViewerSide />\n            </div>\n        </Wrapper>\n    );\n}\n\nexport default PdfViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}