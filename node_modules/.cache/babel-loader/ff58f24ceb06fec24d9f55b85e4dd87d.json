{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nfunction FileViewer() {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 250\n  });\n  const [show, setShow] = useState(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      const newHighlights = state.fileHighlights.filter(hl => hl.name === state.currentFile.name && hl.comment && hl.comment.text !== \"OTHER\");\n      setHighlights(newHighlights);\n      setCurrentHighlightIndex(0);\n    } else {\n      setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n  const nextHighlight = () => setCurrentHighlightIndex(prev => (prev + 1) % highlights.length);\n  const prevHighlight = () => setCurrentHighlightIndex(prev => (prev - 1 + highlights.length) % highlights.length);\n  return /*#__PURE__*/React.createElement(Resizable, {\n    className: \"box\",\n    height: dimensions.height,\n    width: dimensions.width,\n    onResize: (e, {\n      size\n    }) => setDimensions(size),\n    resizeHandles: [\"e\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-slider\",\n    style: {\n      height: dimensions.height,\n      overflowY: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, highlights.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, processMd(highlights[currentHighlightIndex].comment.text)), /*#__PURE__*/React.createElement(\"blockquote\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, `${highlights[currentHighlightIndex].content.text.slice(0, 90).trim()}…`), highlights[currentHighlightIndex].content.image && /*#__PURE__*/React.createElement(\"img\", {\n    src: highlights[currentHighlightIndex].content.image,\n    alt: \"Highlight\",\n    style: {\n      maxWidth: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, \"Page \", highlights[currentHighlightIndex].position.pageNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, highlights.length > 1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: prevHighlight,\n    className: \"slider__nav-btn prev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: nextHighlight,\n    className: \"slider__nav-btn next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"No Highlights Available for Selected Pdf!\")));\n}\nexport default FileViewer;","map":{"version":3,"names":["React","useContext","useState","useEffect","Modal","Button","UserContext","Resizable","processMd","axios","FontAwesomeIcon","faChevronLeft","faChevronRight","FileViewer","state","dispatch","highlights","setHighlights","currentHighlightIndex","setCurrentHighlightIndex","dimensions","setDimensions","height","width","show","setShow","currentFile","newHighlights","fileHighlights","filter","hl","name","comment","text","nextHighlight","prev","length","prevHighlight","createElement","className","onResize","e","size","resizeHandles","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","overflowY","Fragment","content","slice","trim","image","src","alt","maxWidth","position","pageNumber","onClick","icon"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nfunction FileViewer() {\n  const { state, dispatch } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [dimensions, setDimensions] = useState({ height: 720, width: 250 });\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    if (state.currentFile) {\n      const newHighlights = state.fileHighlights.filter(hl => \n        hl.name === state.currentFile.name && hl.comment && hl.comment.text !== \"OTHER\"\n      );\n      setHighlights(newHighlights);\n      setCurrentHighlightIndex(0);\n    } else {\n      setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n\n  const nextHighlight = () => setCurrentHighlightIndex((prev) => (prev + 1) % highlights.length);\n  const prevHighlight = () => setCurrentHighlightIndex((prev) => (prev - 1 + highlights.length) % highlights.length);\n\n  return (\n    <Resizable className=\"box\" height={dimensions.height} width={dimensions.width} onResize={(e, { size }) => setDimensions(size)} resizeHandles={[\"e\"]}>\n      <div className=\"sidebar-slider\" style={{ height: dimensions.height, overflowY: \"auto\" }}>\n        {highlights.length > 0 ? (\n          <>\n            <div className=\"highlight\">\n              <strong>{processMd(highlights[currentHighlightIndex].comment.text)}</strong>\n              <blockquote>{`${highlights[currentHighlightIndex].content.text.slice(0, 90).trim()}…`}</blockquote>\n              {highlights[currentHighlightIndex].content.image && (\n                <img src={highlights[currentHighlightIndex].content.image} alt=\"Highlight\" style={{ maxWidth: \"100%\" }} />\n              )}\n              <p>Page {highlights[currentHighlightIndex].position.pageNumber}</p>\n            </div>\n            <div className=\"navigation\">\n              {highlights.length > 1 && (\n                <>\n                  <Button onClick={prevHighlight} className=\"slider__nav-btn prev\">\n                    <FontAwesomeIcon icon={faChevronLeft} />\n                  </Button>\n                  <Button onClick={nextHighlight} className=\"slider__nav-btn next\">\n                    <FontAwesomeIcon icon={faChevronRight} />\n                  </Button>\n                </>\n              )}\n            </div>\n          </>\n        ) : (\n          <p>No Highlights Available for Selected Pdf!</p>\n        )}\n      </div>\n    </Resizable>\n  );\n}\n\nexport default FileViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}