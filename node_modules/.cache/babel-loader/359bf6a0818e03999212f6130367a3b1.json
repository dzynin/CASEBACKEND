{"ast":null,"code":"import React, { useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { fetchAuth } from \"../utils\";\nimport { UserContext } from \"../App\";\n// import React, { useContext, useEffect } from 'react';\n\nconst ENDPOINT_URL = \"http://localhost:8000/generate\";\nconst useAsyncEndpoint = fn => {\n  const [res, setRes] = React.useState({\n    data: null,\n    complete: false,\n    pending: false,\n    error: false\n  });\n  const [req, setReq] = React.useState();\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  React.useEffect(() => {\n    if (!req) return;\n    setRes({\n      data: null,\n      pending: true,\n      error: false,\n      complete: false\n    });\n    if (state && state.auth) {\n      const auth = state.auth;\n      console.log(req.data);\n      axios.post(req.url, req.data, {\n        headers: {\n          \"x-access-token\": auth.authToken\n        }\n      }).then(res => setRes({\n        data: res.data.result,\n        pending: false,\n        error: false,\n        complete: true\n      })).catch(() => setRes({\n        data: null,\n        pending: false,\n        error: true,\n        complete: true\n      }));\n    }\n  }, [req]);\n  return [res, (...args) => setReq(fn(...args))];\n};\nexport const postGenerateTextEndpoint = () => {\n  /* eslint-disable react-hooks/rules-of-hooks */\n  return useAsyncEndpoint(data => ({\n    url: ENDPOINT_URL,\n    method: \"POST\",\n    data\n  }));\n};","map":{"version":3,"names":["React","useContext","useEffect","axios","fetchAuth","UserContext","ENDPOINT_URL","useAsyncEndpoint","fn","res","setRes","useState","data","complete","pending","error","req","setReq","state","dispatch","auth","console","log","post","url","headers","authToken","then","result","catch","args","postGenerateTextEndpoint","method"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/shared/GptUtil.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { fetchAuth } from \"../utils\";\nimport { UserContext } from \"../App\";\n// import React, { useContext, useEffect } from 'react';\n\nconst ENDPOINT_URL = \"http://localhost:8000/generate\";\n\nconst useAsyncEndpoint = fn => {\n    const [res, setRes] = React.useState({ data: null, complete: false, pending: false, error: false });\n    const [req, setReq] = React.useState();\n    const { state, dispatch } = useContext(UserContext);\n\n    React.useEffect(() => {\n        if (!req) return;\n        setRes({ data: null, pending: true, error: false, complete: false });\n        if (state && state.auth) {\n\t\t\tconst auth = state.auth;\n            console.log(req.data)\n            axios.post(req.url, req.data, {\n                headers: {\n                    \"x-access-token\": auth.authToken,\n                },\n            })\n                .then(res =>\n                    setRes({ data: res.data.result, pending: false, error: false, complete: true })\n                )\n                .catch(() =>\n                    setRes({ data: null, pending: false, error: true, complete: true })\n                );\n        }}, [req]);\n\n    return [res, (...args) => setReq(fn(...args))];\n}\n\nexport const postGenerateTextEndpoint = () => {\n    /* eslint-disable react-hooks/rules-of-hooks */\n    return useAsyncEndpoint(data => ({ url: ENDPOINT_URL, method: \"POST\", data }));\n}"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,UAAU;AACpC,SAASC,WAAW,QAAQ,QAAQ;AACpC;;AAEA,MAAMC,YAAY,GAAG,gCAAgC;AAErD,MAAMC,gBAAgB,GAAGC,EAAE,IAAI;EAC3B,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGV,KAAK,CAACW,QAAQ,CAAC;IAAEC,IAAI,EAAE,IAAI;IAAEC,QAAQ,EAAE,KAAK;IAAEC,OAAO,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAM,CAAC,CAAC;EACnG,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGjB,KAAK,CAACW,QAAQ,CAAC,CAAC;EACtC,MAAM;IAAEO,KAAK;IAAEC;EAAS,CAAC,GAAGlB,UAAU,CAACI,WAAW,CAAC;EAEnDL,KAAK,CAACE,SAAS,CAAC,MAAM;IAClB,IAAI,CAACc,GAAG,EAAE;IACVN,MAAM,CAAC;MAAEE,IAAI,EAAE,IAAI;MAAEE,OAAO,EAAE,IAAI;MAAEC,KAAK,EAAE,KAAK;MAAEF,QAAQ,EAAE;IAAM,CAAC,CAAC;IACpE,IAAIK,KAAK,IAAIA,KAAK,CAACE,IAAI,EAAE;MAC9B,MAAMA,IAAI,GAAGF,KAAK,CAACE,IAAI;MACdC,OAAO,CAACC,GAAG,CAACN,GAAG,CAACJ,IAAI,CAAC;MACrBT,KAAK,CAACoB,IAAI,CAACP,GAAG,CAACQ,GAAG,EAAER,GAAG,CAACJ,IAAI,EAAE;QAC1Ba,OAAO,EAAE;UACL,gBAAgB,EAAEL,IAAI,CAACM;QAC3B;MACJ,CAAC,CAAC,CACGC,IAAI,CAAClB,GAAG,IACLC,MAAM,CAAC;QAAEE,IAAI,EAAEH,GAAG,CAACG,IAAI,CAACgB,MAAM;QAAEd,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE,KAAK;QAAEF,QAAQ,EAAE;MAAK,CAAC,CAClF,CAAC,CACAgB,KAAK,CAAC,MACHnB,MAAM,CAAC;QAAEE,IAAI,EAAE,IAAI;QAAEE,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE,IAAI;QAAEF,QAAQ,EAAE;MAAK,CAAC,CACtE,CAAC;IACT;EAAC,CAAC,EAAE,CAACG,GAAG,CAAC,CAAC;EAEd,OAAO,CAACP,GAAG,EAAE,CAAC,GAAGqB,IAAI,KAAKb,MAAM,CAACT,EAAE,CAAC,GAAGsB,IAAI,CAAC,CAAC,CAAC;AAClD,CAAC;AAED,OAAO,MAAMC,wBAAwB,GAAGA,CAAA,KAAM;EAC1C;EACA,OAAOxB,gBAAgB,CAACK,IAAI,KAAK;IAAEY,GAAG,EAAElB,YAAY;IAAE0B,MAAM,EAAE,MAAM;IAAEpB;EAAK,CAAC,CAAC,CAAC;AAClF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}