{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/Login.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { BASE_URL_DEV, fetchAuth } from \"../utils\";\nimport { UserContext } from \"../App\";\n\nconst Login = () => {\n  const history = useHistory();\n  const {\n    dispatch\n  } = useContext(UserContext);\n  const [userDetails, setUserDetails] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  useEffect(() => {\n    const auth = fetchAuth();\n\n    if (auth && auth.authToken && auth.userPublicId) {\n      history.push(\"/dashboard\");\n      console.log(auth);\n    }\n  }, [history]);\n\n  const loginUser = async e => {\n    e.preventDefault();\n    if (!userDetails.username || !userDetails.password) return null;\n    const response = await fetch(`${BASE_URL_DEV}/api/user/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"Authorization\"\n      },\n      body: JSON.stringify(userDetails)\n    });\n    const json = await response.json();\n    console.log(json);\n\n    if (response.ok) {\n      dispatch({\n        type: \"AUTH\",\n        payload: json\n      });\n      history.push(\"/dashboard\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 auth-page\",\n    style: {\n      height: \"85vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center auth px-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row w-100 mx-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-5 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card text-center py-3 mt-3 bg-dark2 px-3 px-sm-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"brand-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require(\"../images/scaletransm2.png\"),\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"Copilot for Lawyers\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"pt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"d-flex search-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Username\",\n    size: \"lg\",\n    className: \"h-auto\",\n    onChange: e => setUserDetails({ ...userDetails,\n      username: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"d-flex search-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    size: \"lg\",\n    className: \"h-auto\",\n    onChange: e => setUserDetails({ ...userDetails,\n      password: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\",\n    onClick: loginUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, \"SIGN IN\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-4 font-weight-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Don't have an account?\", \" \", \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 47\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"Create your account\"))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/Login.js"],"names":["React","useState","useContext","useEffect","Link","useHistory","Form","Button","BASE_URL_DEV","fetchAuth","UserContext","Login","history","dispatch","userDetails","setUserDetails","username","password","auth","authToken","userPublicId","push","console","log","loginUser","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","json","ok","type","payload","height","require","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,UAAxC;AACA,SAASC,WAAT,QAA4B,QAA5B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAeX,UAAU,CAACQ,WAAD,CAA/B;AAEA,QAAM,CAACI,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC;AAC7Ce,IAAAA,QAAQ,EAAE,EADmC;AAE7CC,IAAAA,QAAQ,EAAE;AAFmC,GAAD,CAA9C;AAKAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,IAAI,GAAGT,SAAS,EAAtB;;AACA,QAAIS,IAAI,IAAIA,IAAI,CAACC,SAAb,IAA0BD,IAAI,CAACE,YAAnC,EAAiD;AAC/CR,MAAAA,OAAO,CAACS,IAAR,CAAa,YAAb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACD;AACF,GANQ,EAMN,CAACN,OAAD,CANM,CAAT;;AAQA,QAAMY,SAAS,GAAG,MAAOC,CAAP,IAAa;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAI,CAACZ,WAAW,CAACE,QAAb,IAAyB,CAACF,WAAW,CAACG,QAA1C,EAAoD,OAAO,IAAP;AACpD,UAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEpB,YAAa,iBAAjB,EAAmC;AAC7DqB,MAAAA,MAAM,EAAE,MADqD;AAE7DC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFoD;AAK7DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAenB,WAAf;AALuD,KAAnC,CAA5B;AAOA,UAAMoB,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAT,EAAnB;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,IAAZ;;AACA,QAAIP,QAAQ,CAACQ,EAAb,EAAiB;AACftB,MAAAA,QAAQ,CAAC;AAAEuB,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,OAAO,EAAEH;AAAzB,OAAD,CAAR;AACAtB,MAAAA,OAAO,CAACS,IAAR,CAAa,YAAb;AACD;AACF,GAhBD;;AAkBA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,KAAK,EAAE;AAAEiB,MAAAA,MAAM,EAAE;AAAV,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEC,OAAO,CAAC,4BAAD,CAAjB;AAAiD,IAAA,GAAG,EAAC,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJF,eAME,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,qBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,IAAI,EAAC,IAHP;AAIE,IAAA,SAAS,EAAC,QAJZ;AAKE,IAAA,QAAQ,EAAGd,CAAD,IACRV,cAAc,CAAC,EACb,GAAGD,WADU;AAEbE,MAAAA,QAAQ,EAAES,CAAC,CAACe,MAAF,CAASC;AAFN,KAAD,CANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAeE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,qBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,IAAI,EAAC,IAHP;AAIE,IAAA,SAAS,EAAC,QAJZ;AAKE,IAAA,QAAQ,EAAGhB,CAAD,IACRV,cAAc,CAAC,EACb,GAAGD,WADU;AAEbG,MAAAA,QAAQ,EAAEQ,CAAC,CAACe,MAAF,CAASC;AAFN,KAAD,CANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,eA6BE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,mEADZ;AAEE,IAAA,OAAO,EAAEjB,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CA7BF,eAqCE;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACyB,GADzB,oBAC8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD9B,eAEE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAqB,IAAA,SAAS,EAAC,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFF,CArCF,CANF,CADF,CADF,CADF,CADF,CADF;AA6DD,CAhGD;;AAkGA,eAAeb,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { BASE_URL_DEV, fetchAuth } from \"../utils\";\nimport { UserContext } from \"../App\";\n\nconst Login = () => {\n  const history = useHistory();\n  const { dispatch } = useContext(UserContext);\n\n  const [userDetails, setUserDetails] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  useEffect(() => {\n    const auth = fetchAuth();\n    if (auth && auth.authToken && auth.userPublicId) {\n      history.push(\"/dashboard\");\n      console.log(auth);\n    }\n  }, [history]);\n\n  const loginUser = async (e) => {\n    e.preventDefault();\n    if (!userDetails.username || !userDetails.password) return null;\n    const response = await fetch(`${BASE_URL_DEV}/api/user/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"Authorization\",\n      },\n      body: JSON.stringify(userDetails),\n    });\n    const json = await response.json();\n    console.log(json);\n    if (response.ok) {\n      dispatch({ type: \"AUTH\", payload: json });\n      history.push(\"/dashboard\");\n    }\n  };\n\n  return (\n    <div className=\"mt-5 auth-page\" style={{ height: \"85vh\" }}>\n      <div className=\"d-flex align-items-center auth px-0\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-5 mx-auto\">\n            <div className=\"card text-center py-3 mt-3 bg-dark2 px-3 px-sm-5\">\n              <div className=\"brand-logo\">\n                <img src={require(\"../images/scaletransm2.png\")} alt=\"logo\" />\n              </div>\n              <h4>Copilot for Lawyers</h4>\n              {/* <h6 className=\"font-weight-light\">Please Sign in to continue.</h6> */}\n              <Form className=\"pt-3\">\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        username: e.target.value,\n                      })\n                    }\n                  />\n                </Form.Group>\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        password: e.target.value,\n                      })\n                    }\n                  />\n                </Form.Group>\n                <div className=\"mt-3\">\n                  <Button\n                    className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                    onClick={loginUser}\n                  >\n                    SIGN IN\n                  </Button>\n                </div>\n                <div className=\"text-center mt-4 font-weight-light\">\n                  Don't have an account?{\" \"} <br></br>\n                  <Link to=\"/register\" className=\"text-primary\">\n                    Create your account\n                  </Link>\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}