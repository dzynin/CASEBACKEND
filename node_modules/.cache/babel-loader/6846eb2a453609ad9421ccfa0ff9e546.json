{"ast":null,"code":"import { updateState, updateHighlightStatus } from '../shared/Utility';\nimport { InitialState } from './InitialState';\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_FILE':\n      if (!Array.isArray(action.payload)) action.payload = [action.payload];\n      let Allfiles = [...state.files, ...action.payload];\n      let fileNames = [];\n      let files = Allfiles.filter(file => {\n        if (fileNames.includes(file.name)) return false;\n        fileNames.push(file.name);\n        return true;\n      });\n      return {\n        ...state,\n        files,\n        currentFile: state.currentFile || action.payload[0]\n      };\n    case 'AUTH':\n      const auth = {\n        userId: action.payload.userId,\n        authToken: action.payload.auth_token,\n        userPublicId: action.payload.userPublicId,\n        username: action.payload.username,\n        email: action.payload.email,\n        expiry: action.payload.expiry || Date.parse(new Date()) + 60 * 60 * 1000,\n        fname: action.payload.fname,\n        lname: action.payload.lname,\n        city: action.payload.city,\n        country: action.payload.country,\n        organisation: action.payload.organisation\n      };\n      localStorage.setItem(\"authDetails\", JSON.stringify(auth));\n      return updateState(state, {\n        auth: auth\n      });\n    case 'LOG_OUT':\n      localStorage.removeItem(\"authDetails\");\n      return InitialState;\n    case \"TOGGLE_HIGHLIGHT\":\n      return {\n        ...state,\n        showHighlight: action.payload\n      };\n    case 'SET_CURR_FILE':\n      return updateState(state, {\n        currentFile: action.payload\n      });\n    case 'ALL_POSTS':\n      return updateState(state, {\n        allPosts: action.payload\n      });\n    case 'ADD_My_POSTS':\n      return updateState(state, {\n        myPosts: [...state.myPosts, action.payload]\n      });\n    case 'FETCH_FILE_HIGHLIGHTS':\n      return updateState(state, {\n        fileHighlights: action.payload\n      });\n    case 'SET_FILE_HIGHLIGHTS':\n      let highlights = [];\n      if (state.fileHighlights.length > 0) {\n        let fileUpdated = false;\n        highlights = state.fileHighlights.map(singleFile => {\n          if (singleFile.name === action.payload.name) {\n            singleFile.highlights = action.payload.highlights;\n            fileUpdated = true;\n          }\n          return singleFile;\n        });\n        if (!fileUpdated) {\n          highlights = [...state.fileHighlights, action.payload];\n        }\n      } else {\n        highlights = [action.payload];\n      }\n      return updateState(state, {\n        fileHighlights: highlights\n      });\n    case 'ERROR':\n      return updateState(state, {\n        error: action.payload\n      });\n    case 'MESSAGE':\n      return updateState(state, {\n        message: action.payload\n      });\n    case 'SET_SEARCH_QUERY':\n      return updateState(state, {\n        searchQuery: action.payload\n      });\n    case 'SET_NODE_DATA':\n      return updateState(state, {\n        nodeData: action.payload\n      });\n    case 'SET_GRAPH_DATA':\n      return updateState(state, {\n        graphData: action.payload\n      });\n    case 'SET_NODES_DATA':\n      return updateState(state, {\n        nodesData: action.payload\n      });\n    case 'CHANGE_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          default: action.payload\n        });\n      }\n    case 'CHANGE_LEGAL_TEST_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          legalTest: action.payload\n        });\n      }\n    case 'CHANGE_ISSUE_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          issue: action.payload\n        });\n      }\n    case 'CHANGE_CONCLUSION_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          conclusion: action.payload\n        });\n      }\n    case 'SET_MODAL':\n      return updateState(state, {\n        isModalOpen: action.payload\n      });\n    case 'SET_HIGHLIGHT_TEXT':\n      return {\n        ...state,\n        highlightTextForEditor: action.payload\n      };\n    case 'ADD_HIGHLIGHT_TEXT':\n      const newHighlight = action.payload;\n      const updatedHighlights = [...(state.highlightTextsForEditor || []), newHighlight]; // Fallback to empty array if not defined\n      return {\n        ...state,\n        highlightTextsForEditor: updatedHighlights\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["updateState","updateHighlightStatus","InitialState","reducer","state","action","type","Array","isArray","payload","Allfiles","files","fileNames","filter","file","includes","name","push","currentFile","auth","userId","authToken","auth_token","userPublicId","username","email","expiry","Date","parse","fname","lname","city","country","organisation","localStorage","setItem","JSON","stringify","removeItem","showHighlight","allPosts","myPosts","fileHighlights","highlights","length","fileUpdated","map","singleFile","error","message","searchQuery","nodeData","graphData","nodesData","highlightColors","default","legalTest","issue","conclusion","isModalOpen","highlightTextForEditor","newHighlight","updatedHighlights","highlightTextsForEditor"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Reducer/Reducers.js"],"sourcesContent":["import { updateState, updateHighlightStatus } from '../shared/Utility';\nimport { InitialState } from './InitialState';\n\nexport const reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'ADD_FILE':\n\t\t\tif (!Array.isArray(action.payload)) action.payload = [action.payload];\n\t\t\tlet Allfiles = [...state.files, ...action.payload];\n\t\t\tlet fileNames = [];\n\t\t\tlet files = Allfiles.filter((file) => {\n\t\t\t\tif (fileNames.includes(file.name)) return false;\n\t\t\t\tfileNames.push(file.name);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles,\n\t\t\t\tcurrentFile: state.currentFile || action.payload[0],\n\t\t\t};\n\n\t\tcase 'AUTH':\n\t\t\tconst auth = {\n\t\t\t\tuserId: action.payload.userId,\n\t\t\t\tauthToken: action.payload.auth_token,\n\t\t\t\tuserPublicId: action.payload.userPublicId,\n\t\t\t\tusername: action.payload.username,\n\t\t\t\temail: action.payload.email,\n\t\t\t\texpiry: action.payload.expiry || Date.parse(new Date()) + 60 * 60 * 1000,\n\t\t\t\tfname: action.payload.fname,\n\t\t\t\tlname: action.payload.lname,\n\t\t\t\tcity: action.payload.city,\n\t\t\t\tcountry: action.payload.country,\n\t\t\t\torganisation: action.payload.organisation,\n\t\t\t};\n\t\t\tlocalStorage.setItem(\"authDetails\", JSON.stringify(auth));\n\t\t\treturn updateState(state, { auth: auth });\n\n\t\tcase 'LOG_OUT':\n\t\t\tlocalStorage.removeItem(\"authDetails\")\n\t\t\treturn InitialState;\n\t\tcase \"TOGGLE_HIGHLIGHT\":\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tshowHighlight: action.payload,\n\t\t\t\t};\n\t\n\t\tcase 'SET_CURR_FILE':\n\t\t\treturn updateState(state, { currentFile: action.payload });\n\t\tcase 'ALL_POSTS':\n\t\t\treturn updateState(state, { allPosts: action.payload });\n\t\tcase 'ADD_My_POSTS':\n\t\t\treturn updateState(state, { myPosts: [...state.myPosts, action.payload] });\n\t\tcase 'FETCH_FILE_HIGHLIGHTS':\n\t\t\treturn updateState(state, { fileHighlights: action.payload });\n\t\tcase 'SET_FILE_HIGHLIGHTS':\n\t\t\tlet highlights = [];\n\t\t\tif (state.fileHighlights.length > 0) {\n\t\t\t\tlet fileUpdated = false;\n\t\t\t\thighlights = state.fileHighlights.map((singleFile) => {\n\t\t\t\t\tif (singleFile.name === action.payload.name) {\n\t\t\t\t\t\tsingleFile.highlights = action.payload.highlights;\n\t\t\t\t\t\tfileUpdated = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn singleFile;\n\t\t\t\t});\n\t\t\t\tif (!fileUpdated) {\n\t\t\t\t\thighlights = [...state.fileHighlights, action.payload];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thighlights = [action.payload];\n\t\t\t}\n\t\t\treturn updateState(state, { fileHighlights: highlights });\n\t\tcase 'ERROR':\n\t\t\treturn updateState(state, { error: action.payload });\n\t\tcase 'MESSAGE':\n\t\t\treturn updateState(state, { message: action.payload });\n\t\tcase 'SET_SEARCH_QUERY':\n\t\t\treturn updateState(state, { searchQuery: action.payload });\n\t\tcase 'SET_NODE_DATA':\n\t\t\treturn updateState(state, { nodeData: action.payload });\n\t\tcase 'SET_GRAPH_DATA':\n\t\t\treturn updateState(state, { graphData: action.payload });\n\t\tcase 'SET_NODES_DATA':\n\t\t\treturn updateState(state, { nodesData: action.payload });\n\t\tcase 'CHANGE_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, default: action.payload });\n\t\t}\n\t\tcase 'CHANGE_LEGAL_TEST_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, legalTest: action.payload });\n\t\t}\n\t\tcase 'CHANGE_ISSUE_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, issue: action.payload })\n\t\t}\n\t\tcase 'CHANGE_CONCLUSION_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, conclusion: action.payload })\n\t\t}\n\t\tcase 'SET_MODAL':\n\t\t\treturn updateState(state, { isModalOpen: action.payload });\n\n\t\tcase 'SET_HIGHLIGHT_TEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thighlightTextForEditor: action.payload,\n\t\t\t};\n\t\tcase 'ADD_HIGHLIGHT_TEXT':\n\t\t\tconst newHighlight = action.payload;\n\t\t\tconst updatedHighlights = [...(state.highlightTextsForEditor || []), newHighlight]; // Fallback to empty array if not defined\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thighlightTextsForEditor: updatedHighlights,\n\t\t\t};\n\t\t\t\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}