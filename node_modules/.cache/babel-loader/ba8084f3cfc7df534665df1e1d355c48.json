{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport \"../style/resizable.css\";\nconst updateHash = highlight => {\n  document.location.hash = `pdf-highlight-${highlight.id}`;\n};\nfunction FileViewer() {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 250\n  });\n  const [selectPdf, setSelectPdf] = useState(false);\n  const [show, setShow] = useState(false);\n  const [index, setIndex] = useState();\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [filter, setFilter] = useState(\"\");\n  const handlePreviousHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const prevIndex = (currentFilteredIndex - 1 + filteredHighlights.length) % filteredHighlights.length;\n    const prevHighlight = filteredHighlights[prevIndex];\n    setCurrentHighlightIndex(highlights.indexOf(prevHighlight));\n  };\n  const handleNextHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const nextIndex = (currentFilteredIndex + 1) % filteredHighlights.length;\n    if (nextIndex === 0 && currentFilteredIndex === filteredHighlights.length - 1) {\n      alert(`End of '${filter}' highlights`);\n      return; // Stop at the last highlight if next would cycle back to the first\n    }\n    const nextHighlight = filteredHighlights[nextIndex];\n    setCurrentHighlightIndex(highlights.indexOf(nextHighlight));\n  };\n  const handleClose = () => setShow(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      let highlightUpdated = false;\n      state.fileHighlights.forEach(item => {\n        if (item.name === state.currentFile.name) {\n          const filteredHighlights = item.highlights.filter(highlight => highlight.comment.text !== \"OTHER\" && (!filter || highlight.comment.text.toUpperCase().includes(filter)));\n          setHighlights(filteredHighlights);\n          highlightUpdated = true;\n        }\n      });\n      if (!highlightUpdated) setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights, filter]); // Include 'filter' in dependency array\n\n  const handleFileClick = async index => {\n    dispatch({\n      type: \"SET_CURR_FILE\",\n      payload: state.files[index]\n    });\n    dispatch({\n      type: \"SET_MODAL\",\n      payload: false\n    });\n    setSelectPdf(false);\n  };\n  const handleRemove = index => {\n    setShow(true);\n    setIndex(index);\n  };\n  const handleRemoveFile = data => {\n    console.log(data, \"File Remove....\");\n    if (state.files.length > 0) {\n      let arr = state.files;\n      arr.splice(arr.findIndex(a => a.name === data.name), 1);\n      dispatch({\n        type: \"ADD_FILE\",\n        payload: arr\n      });\n      dispatch({\n        type: \"SET_CURR_FILE\",\n        payload: state.files[0]\n      });\n    } else {\n      dispatch({\n        type: \"ADD_FILE\",\n        payload: []\n      });\n      dispatch({\n        type: \"SET_FILE_HIGHLIGHTS\",\n        payload: []\n      });\n      dispatch({\n        type: \"SET_CURR_FILE\",\n        payload: null\n      });\n    }\n    setShow(false);\n    axios.post(`${BASE_URL_DEV}/deletePdfAndGraphData`, {\n      fileName: data.name\n    }, {\n      headers: {\n        'x-access-token': state.auth && state.auth.authToken\n      }\n    }).then(function (response) {\n      console.log(\"delete api response\", response);\n    });\n  };\n  const deleteHighlight = index => {\n    const updatedHighlights = highlights.filter((highlight, idx) => {\n      if (index !== idx) {\n        return highlight;\n      }\n    });\n    setHighlights(updatedHighlights);\n  };\n  const hideModal = () => {\n    setSelectPdf(false);\n    dispatch({\n      type: \"SET_MODAL\",\n      payload: false\n    });\n  };\n  const resetHighlights = () => {\n    setHighlights([]);\n  };\n  const handleSendToEditor = highlight => {\n    if (!highlight.comment || !highlight.content) {\n      console.error(\"Highlight structure is not as expected\", highlight);\n      return;\n    }\n    const payload = {\n      commentText: highlight.comment.text,\n      contentText: highlight.content.text\n    };\n    dispatch({\n      type: 'ADD_HIGHLIGHT_TEXT',\n      payload\n    });\n  };\n  return /*#__PURE__*/React.createElement(Resizable, {\n    className: \"box\",\n    height: dimensions.height,\n    axis: \"x\",\n    width: dimensions.width,\n    onResize: (e, {\n      size\n    }) => {\n      setDimensions({\n        height: size.height,\n        width: size.width\n      });\n    },\n    resizeHandles: [\"e\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarnew\",\n    style: {\n      width: dimensions.width + 'px' || \"25%\",\n      // minWidth: \"20%\",\n      height: dimensions.height + 'px' || \"calc(100vh - 70px)\",\n      overflowY: \"scroll\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      marginBottom: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, \"Highlights\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"To create area highlight hold \\u2325 Option key (Alt), then click and drag.\"))), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    caret: true,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 3\n    }\n  }, \"Filter Highlights\"), /*#__PURE__*/React.createElement(DropdownMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    header: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 5\n    }\n  }, \"Jump to\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => setFilter(\"ISSUE\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 5\n    }\n  }, \"Issue\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => setFilter(\"LEGAL_TEST\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }\n  }, \"Legal Test\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => setFilter(\"CONCLUSION\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 5\n    }\n  }, \"Conclusion\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    divider: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 5\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__highlights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 1\n    }\n  }, highlights.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight-card\",\n    key: currentHighlightIndex,\n    onClick: () => updateHash(highlights[currentHighlightIndex]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  }, processMd(highlights[currentHighlightIndex].comment.text)), highlights[currentHighlightIndex].content.text && /*#__PURE__*/React.createElement(\"blockquote\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  }, `${highlights[currentHighlightIndex].content.text.slice(0, 90).trim()}…`), highlights[currentHighlightIndex].content.image && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight__image\",\n    style: {\n      marginTop: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: highlights[currentHighlightIndex].content.image,\n    alt: \"Screenshot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-highlights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 5\n    }\n  }, \"No Highlights Available for Selected Pdf!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: e => {\n      e.stopPropagation();\n      handlePreviousHighlight();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: e => {\n      e.stopPropagation();\n      handleNextHighlight();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }\n  }, \"Next\")), highlights.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }) : null, /*#__PURE__*/React.createElement(Modal, {\n    style: {\n      color: \"#050505\"\n    },\n    show: selectPdf || state.isModalOpen,\n    onHide: () => hideModal(),\n    backdrop: \"static\",\n    size: \"xl\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"example-modal-sizes-title-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }\n  }, \"Select File\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    style: {\n      padding: '1.75rem 1.2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 25\n    }\n  }, \"PDF NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 25\n    }\n  }, \"CITATION\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 25\n    }\n  }, \"PROVISION\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 25\n    }\n  }, \"ACTION\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 21\n    }\n  }, state.files && state.files.length > 0 ? state.files.map((pdf, index) => state.currentFile && state.currentFile.name === pdf.name ? /*#__PURE__*/React.createElement(\"tr\", {\n    style: {\n      backgroundColor: \"rgba(0, 0, 0, 0.075)\",\n      color: \"#212529\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 31\n    }\n  }, pdf.name), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      lineHeight: 'inherit'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'auto',\n      maxHeight: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 69\n    }\n  }, pdf && pdf.CITATION && pdf.CITATION.length > 0 && pdf.CITATION.map(listValue => {\n    return listValue.target;\n  }).join(' | '))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      lineHeight: 'inherit'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'auto',\n      maxHeight: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 69\n    }\n  }, pdf && pdf.PROVISION && pdf.PROVISION.length > 0 && pdf.PROVISION.map(listValue => {\n    return listValue.target;\n  }).join(' | '))), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handleFileClick(index),\n    className: \"btn btn-info btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 59\n    }\n  }, \"View File\")), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handleRemove(pdf),\n    className: \"btn btn-danger btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 59\n    }\n  }, \"Delete File\"))) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 31\n    }\n  }, pdf.name), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      lineHeight: 'inherit'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'auto',\n      maxHeight: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 69\n    }\n  }, pdf && pdf.CITATION && pdf.CITATION.length > 0 && pdf.CITATION.map(listValue => {\n    return listValue.target;\n  }).join(' | '))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      lineHeight: 'inherit'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'auto',\n      maxHeight: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 69\n    }\n  }, pdf && pdf.PROVISION && pdf.PROVISION.length > 0 && pdf.PROVISION.map(listValue => {\n    return listValue.target;\n  }).join(' | '))), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handleFileClick(index),\n    className: \"btn btn-info btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 59\n    }\n  }, \"View File\")), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handleRemove(pdf),\n    className: \"btn btn-danger btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 59\n    }\n  }, \"Delete File\")))) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: \"4\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 58\n    }\n  }, \"No Pdfs uploaded!\")))))))), console.log(state))), /*#__PURE__*/React.createElement(Modal, {\n    style: {\n      color: \"#050505\"\n    },\n    show: show,\n    onHide: () => handleClose(),\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 13\n    }\n  }, \"Deleting File\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 11\n    }\n  }, \"Are you sure you want to delete ?\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 13\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    onClick: () => handleRemoveFile(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 13\n    }\n  }, \"Delete\")))));\n}\nexport default FileViewer;","map":{"version":3,"names":["React","useContext","useState","useEffect","Modal","Button","UserContext","Resizable","processMd","axios","BASE_URL_DEV","FontAwesomeIcon","faPlus","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","updateHash","highlight","document","location","hash","id","FileViewer","state","dispatch","highlights","setHighlights","dimensions","setDimensions","height","width","selectPdf","setSelectPdf","show","setShow","index","setIndex","currentHighlightIndex","setCurrentHighlightIndex","filter","setFilter","handlePreviousHighlight","filteredHighlights","h","comment","text","toUpperCase","includes","currentFilteredIndex","findIndex","prevIndex","length","prevHighlight","indexOf","handleNextHighlight","nextIndex","alert","nextHighlight","handleClose","currentFile","highlightUpdated","fileHighlights","forEach","item","name","handleFileClick","type","payload","files","handleRemove","handleRemoveFile","data","console","log","arr","splice","a","post","fileName","headers","auth","authToken","then","response","deleteHighlight","updatedHighlights","idx","hideModal","resetHighlights","handleSendToEditor","content","error","commentText","contentText","createElement","className","axis","onResize","e","size","resizeHandles","__self","__source","_jsxFileName","lineNumber","columnNumber","style","overflowY","padding","marginBottom","caret","color","header","onClick","divider","key","slice","trim","image","marginTop","src","alt","stopPropagation","isModalOpen","onHide","backdrop","centered","Header","closeButton","Title","Body","map","pdf","backgroundColor","lineHeight","maxHeight","CITATION","listValue","target","join","PROVISION","colSpan","align","margin","Footer","variant"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js"],"sourcesContent":["// @flow\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nimport \"../style/resizable.css\";\n\nconst updateHash = (highlight) => {\n  document.location.hash = `pdf-highlight-${highlight.id}`;\n};\n\nfunction FileViewer() {\n  const { state, dispatch } = useContext(UserContext);\n\n  const [highlights, setHighlights] = useState([]);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 250,\n  });\n  const [selectPdf, setSelectPdf] = useState(false);\n\n  const [show, setShow] = useState(false);\n  const [index, setIndex] = useState();\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [filter, setFilter] = useState(\"\");\n\n  \n  const handlePreviousHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const prevIndex = (currentFilteredIndex - 1 + filteredHighlights.length) % filteredHighlights.length;\n    const prevHighlight = filteredHighlights[prevIndex];\n    setCurrentHighlightIndex(highlights.indexOf(prevHighlight));\n  };\n  \n  const handleNextHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const nextIndex = (currentFilteredIndex + 1) % filteredHighlights.length;\n  \n    if (nextIndex === 0 && currentFilteredIndex === filteredHighlights.length - 1) {\n      alert(`End of '${filter}' highlights`);\n      return; // Stop at the last highlight if next would cycle back to the first\n    }\n  \n    const nextHighlight = filteredHighlights[nextIndex];\n    setCurrentHighlightIndex(highlights.indexOf(nextHighlight));\n  };\n  \n  const handleClose = () => setShow(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      let highlightUpdated = false;\n      state.fileHighlights.forEach((item) => {\n        if (item.name === state.currentFile.name) {\n          const filteredHighlights = item.highlights.filter(highlight => highlight.comment.text !== \"OTHER\" && (!filter || highlight.comment.text.toUpperCase().includes(filter)));\n          setHighlights(filteredHighlights);\n          highlightUpdated = true;\n        }\n      });\n      if (!highlightUpdated) setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights, filter]);  // Include 'filter' in dependency array\n    \n\n  const handleFileClick = async (index) => {\n    dispatch({ type: \"SET_CURR_FILE\", payload: state.files[index] });\n    dispatch({ type: \"SET_MODAL\", payload: false });\n\n    setSelectPdf(false);\n  };\n\n  const handleRemove = (index) => {\n    setShow(true);\n    setIndex(index);\n  }\n\n  const handleRemoveFile = (data) => {\n    console.log(data, \"File Remove....\")\n\n\n\n    if (state.files.length > 0) {\n      let arr = state.files\n      arr.splice(arr.findIndex(a => a.name === data.name), 1)\n      dispatch({ type: \"ADD_FILE\", payload: arr });\n      dispatch({ type: \"SET_CURR_FILE\", payload: state.files[0] });\n    } else {\n      dispatch({ type: \"ADD_FILE\", payload: [] });\n      dispatch({\n        type: \"SET_FILE_HIGHLIGHTS\",\n        payload: [],\n      });\n      dispatch({ type: \"SET_CURR_FILE\", payload: null });\n    }\n\n\n    setShow(false);\n\n\n    axios.post(`${BASE_URL_DEV}/deletePdfAndGraphData`, { fileName: data.name }, {\n      headers: {\n        'x-access-token': state.auth && state.auth.authToken,\n      }\n    })\n      .then(function (response) {\n        console.log(\"delete api response\", response)\n\n      })\n\n  }\n\n  const deleteHighlight = (index) => {\n    const updatedHighlights = highlights.filter((highlight, idx) => {\n      if (index !== idx) {\n        return highlight;\n      }\n    });\n    setHighlights(updatedHighlights);\n  };\n  const hideModal = () => {\n    setSelectPdf(false);\n    dispatch({ type: \"SET_MODAL\", payload: false });\n\n  }\n  const resetHighlights = () => {\n    setHighlights([]);\n  };\n\n  const handleSendToEditor = (highlight) => {\n    if (!highlight.comment || !highlight.content) {\n        console.error(\"Highlight structure is not as expected\", highlight);\n        return;\n    }\n\n    const payload = {\n        commentText: highlight.comment.text,\n        contentText: highlight.content.text,\n    };\n    dispatch({ type: 'ADD_HIGHLIGHT_TEXT', payload });\n};\n\n\n  return (\n    <Resizable\n      className=\"box\"\n      height={dimensions.height}\n      axis=\"x\"\n      width={dimensions.width}\n      onResize={(e, { size }) => {\n        setDimensions({\n          height: size.height,\n          width: size.width,\n        });\n      }}\n      resizeHandles={[\"e\"]}\n    >\n      <div\n        className=\"sidebarnew\"\n        style={{\n          width: dimensions.width + 'px' || \"25%\",\n          // minWidth: \"20%\",\n          height: dimensions.height + 'px' || \"calc(100vh - 70px)\",\n          overflowY: \"scroll\",\n        }}\n      >\n        <div className=\"description\" style={{ padding: \"1rem\" }}>\n          <h2 style={{ marginBottom: \"1rem\" }}>Highlights</h2>\n          <p>\n            <small>\n              To create area highlight hold ⌥ Option key (Alt), then click and\n              drag.\n            </small>\n          </p>\n        </div>\n\n        {/* <ul className=\"sidebar__highlights\">\n          <li\n            className=\"sidebar__highlight h4 bg-secondary\"\n            onClick={() => setSelectPdf(true)}\n          >\n            Select Another File\n          </li>\n          {highlights.length > 0 ? (\n            highlights.map((highlight, index) => (\n              <li\n                key={index}\n                className=\"sidebar__highlight\"\n                onClick={() => {\n                  updateHash(highlight);\n                }}\n              >\n                <div>\n                  <div style={{ padding: \"0px\" }}>\n                    <button\n                      style={{ float: \"right\" }}\n                      onClick={() => deleteHighlight(index)}\n                      className=\"sidebar__btn\"\n                    >\n                      <i className=\"fa fa-close\"></i>\n                    </button>\n                    </div>\n                    <div>\n                    <button\n                      style={{ marginLeft: \"114px\" }}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleSendToEditor(highlight);\n                      }}\n                      className=\"sidebar__btn_send\"\n                    >\n                      <FontAwesomeIcon icon={faPlus} />\n                    </button>\n\n                  </div>\n                  <strong>{processMd(highlight.comment.text)}</strong>\n                  {highlight.content.text ? (\n                    <blockquote style={{ marginTop: \"0.5rem\" }}>\n                      {`${highlight.content.text.slice(0, 90).trim()}…`}\n                    </blockquote>\n                  ) : null}\n                  {highlight.content.image ? (\n                    <div\n                      className=\"highlight__image\"\n                      style={{ marginTop: \"0.5rem\" }}\n                    >\n                      <img src={highlight.content.image} alt={\"Screenshot\"} />\n                    </div>\n                  ) : null}\n                </div>\n                <div className=\"highlight__location\">\n                  Page {highlight.position.pageNumber}\n                </div>\n              </li>\n            ))\n          ) : (\n            <li className=\"sidebar__highlight\">\n              <div className=\"p-2\">\n                <p style={{ margin: 0 }}>\n                  No Highlights Available for Selected Pdf!\n                </p>\n              </div>\n            </li>\n          )}\n        </ul> */}\n\n{/*  end of old list style for highlights sidebar */}\n\n\n{/* new filter buttons */}\n\n{/* <div className=\"filter-buttons\">\n  <button className=\"btn btn-secondary\" onClick={() => setFilter(\"ISSUE\")}>Issue</button>\n  <button className=\"btn btn-secondary\" onClick={() => setFilter(\"LEGAL_TEST\")}>Legal Test</button>\n  <button className=\"btn btn-secondary\" onClick={() => setFilter(\"CONCLUSION\")}>Conclusion</button>\n  <button className=\"btn btn-secondary\" onClick={() => setFilter(\"\")}>Clear Filter</button>\n</div> */}\n<UncontrolledDropdown>\n  <DropdownToggle caret color=\"secondary\">\n    Filter Highlights\n  </DropdownToggle>\n  <DropdownMenu>\n    <DropdownItem header>Jump to</DropdownItem>\n    <DropdownItem onClick={() => setFilter(\"ISSUE\")}>Issue</DropdownItem>\n    <DropdownItem onClick={() => setFilter(\"LEGAL_TEST\")}>Legal Test</DropdownItem>\n    <DropdownItem onClick={() => setFilter(\"CONCLUSION\")}>Conclusion</DropdownItem>\n    <DropdownItem divider />\n  </DropdownMenu>\n</UncontrolledDropdown>\n\n{/* end of filter buttons */}\n\n{/* begining of new slider card for highlights */}\n<div className=\"sidebar__highlights\">\n  {highlights.length > 0 ? (\n    <div className=\"highlight-card\" key={currentHighlightIndex} onClick={() => updateHash(highlights[currentHighlightIndex])}>\n      <div className=\"card-body\">\n        <strong>{processMd(highlights[currentHighlightIndex].comment.text)}</strong>\n        {highlights[currentHighlightIndex].content.text && (\n          <blockquote>\n            {`${highlights[currentHighlightIndex].content.text.slice(0, 90).trim()}…`}\n          </blockquote>\n        )}\n        {highlights[currentHighlightIndex].content.image && (\n          <div className=\"highlight__image\" style={{ marginTop: \"0.5rem\" }}>\n            <img src={highlights[currentHighlightIndex].content.image} alt=\"Screenshot\" />\n          </div>\n        )}\n        \n      </div>\n    </div>\n  ) : (\n    <div className=\"no-highlights\">\n      No Highlights Available for Selected Pdf!\n    </div>\n  )}\n</div>\n\n<div className=\"highlight-actions\">\n            <button className=\"btn btn-secondary\" onClick={(e) => {\n              e.stopPropagation();\n              handlePreviousHighlight();\n            }}>Previous</button>\n            <button className=\"btn btn-primary\" onClick={(e) => {\n              e.stopPropagation();\n              handleNextHighlight();\n            }}>Next</button>\n          </div>\n\n{/* end of new slider highlight card */}\n\n\n        {highlights.length > 0 ? (\n          <div style={{ padding: \"1rem\" }}>\n           {/* <button variant=\"primary\" onClick={resetHighlights}> Reset highlights</button> */}\n\n            \n          </div>\n        ) : null}\n        <Modal\n          style={{ color: \"#050505\" }}\n          show={selectPdf || state.isModalOpen}\n          onHide={() => hideModal()}\n          backdrop=\"static\"\n          size=\"xl\"\n          centered={true}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title id=\"example-modal-sizes-title-sm\">\n              Select File\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n\n            <div className=\"card\">\n              <div className=\"card-body\" style={{ padding: '1.75rem 1.2rem' }}>\n                <div className=\"table-responsive\">\n\n                  <table className=\"table table-hover\">\n                    <thead>\n                      <tr>\n                        <th>PDF NAME</th>\n                        <th>CITATION</th>\n                        <th>PROVISION</th>\n                        <th>ACTION</th>\n                      </tr>\n                    </thead>\n\n                    <tbody>\n                      {state.files && state.files.length > 0 ? (\n                        state.files.map((pdf, index) => (\n                          state.currentFile && state.currentFile.name === pdf.name ? (\n                            <tr style={{ backgroundColor: \"rgba(0, 0, 0, 0.075)\", color: \"#212529\" }}>\n                              <td>{pdf.name}</td>\n\n                              <td style={{ lineHeight: 'inherit' }}><div style={{ overflowY: 'auto', maxHeight: '100px' }}>{pdf && pdf.CITATION && pdf.CITATION.length > 0 && pdf.CITATION.map((listValue) => { return listValue.target }).join(' | ')}</div></td>\n                              <td style={{ lineHeight: 'inherit' }}><div style={{ overflowY: 'auto', maxHeight: '100px' }}>{pdf && pdf.PROVISION && pdf.PROVISION.length > 0 && pdf.PROVISION.map((listValue) => { return listValue.target }).join(' | ')}</div></td>\n\n                              <td className=\"text-danger\"><button type=\"button\" onClick={() => handleFileClick(index)} className=\"btn btn-info btn-sm\">View File</button></td>\n                              <td className=\"text-danger\"><button type=\"button\" onClick={() => handleRemove(pdf)} className=\"btn btn-danger btn-sm\">Delete File</button></td>\n                            </tr>\n                          ) : (\n                            <tr>\n                              <td>{pdf.name}</td>\n                              <td style={{ lineHeight: 'inherit' }}><div style={{ overflowY: 'auto', maxHeight: '100px' }}>{pdf && pdf.CITATION && pdf.CITATION.length > 0 && pdf.CITATION.map((listValue) => { return listValue.target }).join(' | ')}</div></td>\n                              <td style={{ lineHeight: 'inherit' }}><div style={{ overflowY: 'auto', maxHeight: '100px' }}>{pdf && pdf.PROVISION && pdf.PROVISION.length > 0 && pdf.PROVISION.map((listValue) => { return listValue.target }).join(' | ')}</div></td>\n                              <td className=\"text-danger\"><button type=\"button\" onClick={() => handleFileClick(index)} className=\"btn btn-info btn-sm\">View File</button></td>\n                              <td className=\"text-danger\"><button type=\"button\" onClick={() => handleRemove(pdf)} className=\"btn btn-danger btn-sm\">Delete File</button></td>\n                            </tr>\n                          )\n\n                        ))) : (\n                        <tr>\n                          <td colSpan=\"4\" align=\"center\"><p style={{ margin: \"5px\" }}>No Pdfs uploaded!</p></td>\n                        </tr>\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            {console.log(state)}\n            {/* // <div\n                //   key={index}\n                //   className=\"btn btn-secondary w-100 rounded-0 py-3 my-1\"\n                //   onClick={() => handleFileClick(index)}\n                // >\n                //   {state.currentFile.name === pdf.name ? (\n                //     <strong>\n                //       <p style={{ margin: 0 }}>{pdf.name}</p>\n                //     </strong>\n                //   ) : (\n                //     <p style={{ margin: 0 }}>{pdf.name}</p>\n                //   )}\n                // </div>\n               */}\n\n          </Modal.Body>\n        </Modal>\n        <Modal\n          style={{ color: \"#050505\" }}\n          show={show}\n          onHide={() => handleClose()}\n          centered={true}>\n          <Modal.Header closeButton>\n            <Modal.Title>Deleting File</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Are you sure you want to delete ?</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleClose}>\n              Close\n            </Button>\n            <Button variant=\"danger\" onClick={() => handleRemoveFile(index)}>\n              Delete\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    </Resizable>\n  );\n}\n\nexport default FileViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}