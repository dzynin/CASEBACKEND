{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewerButton.js\";\nimport React, { useContext } from 'react';\nimport { Button } from 'reactstrap';\nimport { UserContext } from '../App';\nimport { showFileViewer } from '../shared/SidebarItemData/data';\nimport { fetchAndSetFileHighlights } from \"../utils/setPdfHighlights\";\nimport { BASE_URL_DEV } from \"../utils\";\nconst FileViewerButton = ({\n  file,\n  sideItemsClick\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const handleViewPDF = async () => {\n    console.log(\"Viewing PDF for file:\", file);\n    await fetchAndSetFileHighlights(dispatch, state, file, () => {});\n    console.log(\"Finished fetching and setting highlights for file:\", file);\n    const updatedFile = {\n      ...file,\n      name: file.name.split('.')[0],\n      // Set only the filename without extension\n      url: `${BASE_URL_DEV}/uploads/${state.auth.userPublicId}/${file.name}`\n    };\n    dispatch({\n      type: 'SET_CURR_FILE',\n      payload: updatedFile\n    });\n    console.log(\"Dispatched SET_CURR_FILE with payload:\", updatedFile);\n    if (typeof sideItemsClick === 'function') {\n      sideItemsClick({\n        showFileViewer: true\n      });\n    }\n    dispatch({\n      type: 'TOGGLE_VIEWER',\n      payload: showFileViewer\n    });\n    console.log(\"Dispatched TOGGLE_VIEWER with payload:\", showFileViewer);\n  };\n  return /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleViewPDF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"View PDF\");\n};\nexport default FileViewerButton;","map":{"version":3,"names":["React","useContext","Button","UserContext","showFileViewer","fetchAndSetFileHighlights","BASE_URL_DEV","FileViewerButton","file","sideItemsClick","state","dispatch","handleViewPDF","console","log","updatedFile","name","split","url","auth","userPublicId","type","payload","createElement","color","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewerButton.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Button } from 'reactstrap';\nimport { UserContext } from '../App';\nimport { showFileViewer } from '../shared/SidebarItemData/data';\nimport { fetchAndSetFileHighlights } from \"../utils/setPdfHighlights\";\nimport { BASE_URL_DEV } from \"../utils\";\n\nconst FileViewerButton = ({ file, sideItemsClick }) => {\n    const { state, dispatch } = useContext(UserContext);\n\n    const handleViewPDF = async () => {\n        console.log(\"Viewing PDF for file:\", file);\n\n        await fetchAndSetFileHighlights(dispatch, state, file, () => {});\n        console.log(\"Finished fetching and setting highlights for file:\", file);\n\n        const updatedFile = {\n            ...file,\n            name: file.name.split('.')[0],  // Set only the filename without extension\n            url: `${BASE_URL_DEV}/uploads/${state.auth.userPublicId}/${file.name}`\n        };\n        dispatch({ type: 'SET_CURR_FILE', payload: updatedFile });\n        console.log(\"Dispatched SET_CURR_FILE with payload:\", updatedFile);\n\n        if (typeof sideItemsClick === 'function') {\n            sideItemsClick({ showFileViewer: true });\n        }\n\n        dispatch({ type: 'TOGGLE_VIEWER', payload: showFileViewer });\n        console.log(\"Dispatched TOGGLE_VIEWER with payload:\", showFileViewer);\n    };\n\n    return (\n        <Button color=\"primary\" onClick={handleViewPDF}>View PDF</Button>\n    );\n};\n\nexport default FileViewerButton;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,MAAM,QAAQ,YAAY;AACnC,SAASC,WAAW,QAAQ,QAAQ;AACpC,SAASC,cAAc,QAAQ,gCAAgC;AAC/D,SAASC,yBAAyB,QAAQ,2BAA2B;AACrE,SAASC,YAAY,QAAQ,UAAU;AAEvC,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAe,CAAC,KAAK;EACnD,MAAM;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAGV,UAAU,CAACE,WAAW,CAAC;EAEnD,MAAMS,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEN,IAAI,CAAC;IAE1C,MAAMH,yBAAyB,CAACM,QAAQ,EAAED,KAAK,EAAEF,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;IAChEK,OAAO,CAACC,GAAG,CAAC,oDAAoD,EAAEN,IAAI,CAAC;IAEvE,MAAMO,WAAW,GAAG;MAChB,GAAGP,IAAI;MACPQ,IAAI,EAAER,IAAI,CAACQ,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAAG;MAChCC,GAAG,EAAG,GAAEZ,YAAa,YAAWI,KAAK,CAACS,IAAI,CAACC,YAAa,IAAGZ,IAAI,CAACQ,IAAK;IACzE,CAAC;IACDL,QAAQ,CAAC;MAAEU,IAAI,EAAE,eAAe;MAAEC,OAAO,EAAEP;IAAY,CAAC,CAAC;IACzDF,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAEC,WAAW,CAAC;IAElE,IAAI,OAAON,cAAc,KAAK,UAAU,EAAE;MACtCA,cAAc,CAAC;QAAEL,cAAc,EAAE;MAAK,CAAC,CAAC;IAC5C;IAEAO,QAAQ,CAAC;MAAEU,IAAI,EAAE,eAAe;MAAEC,OAAO,EAAElB;IAAe,CAAC,CAAC;IAC5DS,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAEV,cAAc,CAAC;EACzE,CAAC;EAED,oBACIJ,KAAA,CAAAuB,aAAA,CAACrB,MAAM;IAACsB,KAAK,EAAC,SAAS;IAACC,OAAO,EAAEb,aAAc;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAgB,CAAC;AAEzE,CAAC;AAED,eAAexB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module"}