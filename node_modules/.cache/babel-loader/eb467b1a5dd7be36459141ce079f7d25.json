{"ast":null,"code":"import { createElement, L10n, isNullOrUndefined, EventHandler, classList, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as EJ2Toolbar } from '@syncfusion/ej2-navigations';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { showSpinner, hideSpinner, DialogUtility } from '@syncfusion/ej2-popups';\nimport { XmlHttpRequestHandler, beforePaneSwitchEvent, toolbarClickEvent, beforeFileOpenEvent } from '../../document-editor/base/index';\nimport { beforeXmlHttpRequestSend, SectionBreakType } from './../../index';\nimport { ListView } from '@syncfusion/ej2-lists';\nvar TOOLBAR_ID = '_toolbar';\nvar NEW_ID = '_new';\nvar OPEN_ID = '_open';\nvar UNDO_ID = '_undo';\nvar REDO_ID = '_redo';\nvar INSERT_IMAGE_ID = '_image';\nvar INSERT_IMAGE_LOCAL_ID = '_image_local';\nvar INSERT_IMAGE_ONLINE_ID = '_image_url';\nvar INSERT_TABLE_ID = '_table';\nvar INSERT_LINK_ID = '_link';\nvar BOOKMARK_ID = '_bookmark';\nvar COMMENT_ID = '_comment';\nvar TRACK_ID = '_track';\nvar TABLE_OF_CONTENT_ID = '_toc';\nvar HEADER_ID = '_header';\nvar FOOTER_ID = '_footer';\nvar PAGE_SET_UP_ID = '_page_setup';\nvar PAGE_NUMBER_ID = '_page_number';\nvar BREAK_ID = '_break';\nvar LISTVIEW_ID = '_listView';\nvar FIND_ID = '_find';\nvar CLIPBOARD_ID = '_use_local_clipboard';\nvar RESTRICT_EDITING_ID = '_restrict_edit';\nvar PAGE_BREAK = '_page_break';\nvar SECTION_BREAK = '_section_break';\nvar SECTION_BREAK_CONTINUOUS = '_section_break_continuous';\nvar COLUMN_BREAK = '_column_break';\nvar READ_ONLY = '_read_only';\nvar PROTECTIONS = '_protections';\nvar FORM_FIELDS_ID = '_form_fields';\nvar UPDATE_FIELDS_ID = '_update_fields';\nvar TEXT_FORM = '_text_form';\nvar CHECKBOX = '_checkbox';\nvar DROPDOWN = '_dropdown';\nvar FOOTNOTE_ID = '_footnote';\nvar ENDNOTE_ID = '_endnote';\nvar COLUMNS_ID = '_columns';\nvar PAGE_SET_UP = '_page_set';\n/**\n * Toolbar Module\n */\nvar Toolbar = /** @class */function () {\n  /**\n   * @private\n   * @param {DocumentEditorContainer} container - DocumentEditorContainer object.\n   */\n  function Toolbar(container) {\n    /**\n     * @private\n     */\n    this.isCommentEditing = false;\n    this.container = container;\n    this.importHandler = new XmlHttpRequestHandler();\n  }\n  Object.defineProperty(Toolbar.prototype, \"documentEditor\", {\n    get: function () {\n      return this.container.documentEditor;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n  /**\n   * Enables or disables the specified Toolbar item.\n   *\n   * @param  {number} itemIndex - Index of the toolbar items that need to be enabled or disabled.\n   * @param  {boolean} isEnable  - Boolean value that determines whether the toolbar item should be enabled or disabled. By default, `isEnable` is set to true.\n   * @returns {void}\n   */\n  Toolbar.prototype.enableItems = function (itemIndex, isEnable) {\n    this.toolbar.enableItems(itemIndex, isEnable);\n  };\n  /**\n   * @private\n   * @param {CustomToolbarItemModel|ToolbarItem} items - Toolbar items\n   * @returns {void}\n   */\n  Toolbar.prototype.initToolBar = function (items) {\n    // items = JSON.parse(HelperMethods.sanitizeString(JSON.stringify(items)));\n    this.toolbarItems = items;\n    this.renderToolBar();\n    this.wireEvent();\n  };\n  Toolbar.prototype.renderToolBar = function () {\n    if (isNullOrUndefined(this.container)) {\n      return;\n    }\n    var toolbarContainer = this.container.toolbarContainer;\n    var toolbarWrapper = createElement('div', {\n      className: 'e-de-tlbr-wrapper'\n    });\n    var toolbarTarget = createElement('div', {\n      className: 'e-de-toolbar'\n    });\n    this.initToolbarItems();\n    toolbarWrapper.appendChild(toolbarTarget);\n    toolbarContainer.appendChild(toolbarWrapper);\n    // Show hide pane button initialization\n    var locale = this.container.localObj;\n    var propertiesPaneDiv = createElement('div', {\n      className: 'e-de-ctnr-properties-pane-btn'\n    });\n    this.buttonElement = createElement('button', {\n      attrs: {\n        type: 'button',\n        'aria-label': locale.getConstant('Hide properties pane'),\n        'aria-pressed': 'true'\n      }\n    });\n    propertiesPaneDiv.appendChild(this.buttonElement);\n    var cssClassName = 'e-tbar-btn e-tbtn-txt e-control e-btn e-de-showhide-btn';\n    var iconCss = 'e-icons e-de-ctnr-showhide';\n    if (this.container.enableRtl) {\n      cssClassName += '-rtl';\n      iconCss = 'e-icons e-de-ctnr-showhide e-de-flip';\n    }\n    this.propertiesPaneButton = new Button({\n      cssClass: cssClassName,\n      iconCss: iconCss\n    });\n    if (this.container.showPropertiesPane) this.buttonElement.title = locale.getConstant('Hide properties pane');else {\n      this.buttonElement.title = locale.getConstant('Show properties pane');\n      propertiesPaneDiv.classList.add('e-de-pane-disable-clr');\n    }\n    this.propertiesPaneButton.appendTo(this.buttonElement);\n    EventHandler.add(this.buttonElement, 'click', this.showHidePropertiesPane, this);\n    toolbarContainer.appendChild(propertiesPaneDiv);\n    this.toolbar.appendTo(toolbarTarget);\n    this.initToolbarDropdown(toolbarTarget);\n  };\n  Toolbar.prototype.initToolbarDropdown = function (toolbarTarget) {\n    var _this = this;\n    if (this.container) {\n      var locale = this.container.localObj;\n      var id_1 = this.container.element.id + TOOLBAR_ID;\n      if (this.toolbarItems.indexOf('Image') >= 0) {\n        this.imgDropDwn = new DropDownButton({\n          items: [{\n            text: locale.getConstant('Upload from computer'),\n            iconCss: 'e-icons e-de-ctnr-upload',\n            id: id_1 + INSERT_IMAGE_LOCAL_ID\n          }],\n          //,{ text: locale.getConstant('By URL'), iconCss: 'e-icons e-de-ctnr-link', id: id + INSERT_IMAGE_ONLINE_ID }],\n          cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n          select: this.onDropDownButtonSelect.bind(this)\n        });\n        this.imgDropDwn.appendTo('#' + id_1 + INSERT_IMAGE_ID);\n      }\n      if (this.toolbarItems.indexOf('PageSetup') >= 0) {\n        this.PageSetUpDropDwn = new DropDownButton({\n          items: [{\n            text: locale.getConstant('Page Setup'),\n            iconCss: 'e-icons e-de-ctnr-page-size',\n            id: id_1 + PAGE_SET_UP\n          }, {\n            text: locale.getConstant('Columns'),\n            iconCss: 'e-icons e-de-ctnr-columns',\n            id: id_1 + COLUMNS_ID\n          }],\n          cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n          select: this.onDropDownButtonSelect.bind(this)\n        });\n        this.PageSetUpDropDwn.appendTo('#' + id_1 + PAGE_SET_UP_ID);\n      }\n      if (this.toolbarItems.indexOf('Break') >= 0) {\n        var break_dataSource = [{\n          text: locale.getConstant('Page'),\n          iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-page-break',\n          id: PAGE_BREAK,\n          category: locale.getConstant('Page Breaks')\n        }, {\n          text: locale.getConstant('Column'),\n          iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-page-break-column',\n          id: COLUMN_BREAK,\n          category: locale.getConstant('Page Breaks')\n        }, {\n          text: locale.getConstant('Next Page'),\n          iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-section-break',\n          id: SECTION_BREAK,\n          category: locale.getConstant('Section Breaks')\n        }, {\n          text: locale.getConstant('Continuous'),\n          iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-section-break-continuous',\n          id: SECTION_BREAK_CONTINUOUS,\n          category: locale.getConstant('Section Breaks')\n        }];\n        var ddbOption = {\n          target: '#' + id_1 + BREAK_ID + LISTVIEW_ID,\n          cssClass: 'e-caret-hide'\n        };\n        this.breakDropDwn = new DropDownButton(ddbOption, '#' + id_1 + BREAK_ID);\n        this.breakListView = new ListView({\n          dataSource: break_dataSource,\n          width: '170px',\n          fields: {\n            iconCss: 'iconCss',\n            groupBy: 'category'\n          },\n          showIcon: true,\n          select: this.onListViewSelection.bind(this)\n        });\n        this.breakListView.appendTo('#' + id_1 + BREAK_ID + LISTVIEW_ID);\n      }\n      this.filePicker = createElement('input', {\n        attrs: {\n          type: 'file',\n          accept: '.doc,.docx,.rtf,.txt,.htm,.html,.sfdt'\n        },\n        className: 'e-de-ctnr-file-picker'\n      });\n      if (Browser.isIE) {\n        document.body.appendChild(this.filePicker);\n      }\n      this.imagePicker = createElement('input', {\n        attrs: {\n          type: 'file',\n          accept: '.jpg,.jpeg,.png,.bmp,.svg'\n        },\n        className: 'e-de-ctnr-file-picker'\n      });\n      if (Browser.isIE) {\n        document.body.appendChild(this.imagePicker);\n      }\n      if (this.toolbarItems.indexOf('LocalClipboard') >= 0) {\n        this.toggleButton(id_1 + CLIPBOARD_ID, this.container.enableLocalPaste);\n      }\n      if (this.toolbarItems.indexOf('TrackChanges') >= 0) {\n        this.toggleButton(id_1 + TRACK_ID, this.container.enableTrackChanges);\n      }\n      if (this.toolbarItems.indexOf('RestrictEditing') >= 0) {\n        this.toggleButton(id_1 + RESTRICT_EDITING_ID, this.container.restrictEditing);\n        var restrictIconCss = '';\n        if (this.container.restrictEditing) {\n          restrictIconCss = ' e-de-selected-item';\n        }\n        this.restrictDropDwn = new DropDownButton({\n          items: [{\n            text: locale.getConstant('Read only'),\n            id: id_1 + READ_ONLY,\n            iconCss: 'e-icons' + restrictIconCss\n          }, {\n            text: locale.getConstant('Protections'),\n            id: id_1 + PROTECTIONS,\n            iconCss: 'e-icons'\n          }],\n          cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n          select: this.onDropDownButtonSelect.bind(this),\n          beforeItemRender: function (args) {\n            _this.onBeforeRenderRestrictDropdown(args, id_1);\n          }\n        });\n        this.restrictDropDwn.appendTo('#' + id_1 + RESTRICT_EDITING_ID);\n      }\n      if (this.toolbarItems.indexOf('FormFields') >= 0) {\n        this.formFieldDropDown = new DropDownButton({\n          items: [{\n            text: locale.getConstant('Text Form'),\n            iconCss: 'e-icons e-de-textform',\n            id: id_1 + TEXT_FORM\n          }, {\n            text: locale.getConstant('Check Box'),\n            iconCss: 'e-icons e-de-checkbox-form',\n            id: id_1 + CHECKBOX\n          }, {\n            text: locale.getConstant('DropDown'),\n            iconCss: 'e-icons e-de-dropdownform',\n            id: id_1 + DROPDOWN\n          }],\n          cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n          select: this.onDropDownButtonSelect.bind(this)\n        });\n        this.formFieldDropDown.appendTo('#' + id_1 + FORM_FIELDS_ID);\n      }\n    }\n  };\n  Toolbar.prototype.onListViewSelection = function (args) {\n    var parentId = this.container.element.id + TOOLBAR_ID;\n    var id = args.item.id;\n    if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + PAGE_BREAK) {\n      this.container.documentEditor.editorModule.insertPageBreak();\n    } else if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + SECTION_BREAK) {\n      this.container.documentEditor.editorModule.insertSectionBreak();\n    } else if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + SECTION_BREAK_CONTINUOUS) {\n      this.container.documentEditor.editorModule.insertSectionBreak(SectionBreakType.Continuous);\n    } else if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + COLUMN_BREAK) {\n      this.container.documentEditor.editorModule.insertColumnBreak();\n    }\n    args.item.classList.remove('e-active');\n  };\n  Toolbar.prototype.onBeforeRenderRestrictDropdown = function (args, id) {\n    var selectedIcon = args.element.getElementsByClassName('e-menu-icon')[0];\n    if (!isNullOrUndefined(selectedIcon)) {\n      if (args.item.id === id + READ_ONLY) {\n        this.toggleRestrictIcon(selectedIcon, this.container.restrictEditing);\n      }\n      if (args.item.id === id + PROTECTIONS) {\n        var restrictPane = document.getElementsByClassName('e-de-restrict-pane')[0];\n        if (!isNullOrUndefined(restrictPane)) {\n          var toggleProtection = !(restrictPane.style.display === 'none');\n          this.toggleRestrictIcon(selectedIcon, toggleProtection);\n        }\n      }\n    }\n  };\n  Toolbar.prototype.toggleRestrictIcon = function (icon, toggle) {\n    if (toggle) {\n      icon.classList.add('e-de-selected-item');\n    } else {\n      icon.classList.remove('e-de-selected-item');\n    }\n  };\n  Toolbar.prototype.showHidePropertiesPane = function () {\n    var paneDiv = document.getElementsByClassName('e-de-ctnr-properties-pane-btn')[0];\n    var locale = this.container.localObj;\n    if (this.container.propertiesPaneContainer.style.display === 'none') {\n      this.container.showPropertiesPane = true;\n      paneDiv.classList.remove('e-de-pane-disable-clr');\n      this.buttonElement.title = locale.getConstant('Hide properties pane');\n      this.buttonElement.setAttribute('aria-label', locale.getConstant('Hide properties pane'));\n      this.buttonElement.setAttribute('aria-pressed', 'true');\n      classList(paneDiv, ['e-de-pane-enable-clr'], []);\n      this.container.trigger(beforePaneSwitchEvent, {\n        type: 'PropertiesPane'\n      });\n    } else if (this.container.previousContext.indexOf('Header') >= 0 || this.container.previousContext.indexOf('Footer') >= 0) {\n      this.container.showHeaderProperties = !this.container.showHeaderProperties;\n    } else {\n      this.container.showPropertiesPane = false;\n      paneDiv.classList.remove('e-de-pane-enable-clr');\n      this.buttonElement.title = locale.getConstant('Show properties pane');\n      this.buttonElement.setAttribute('aria-label', locale.getConstant('Show properties pane'));\n      this.buttonElement.setAttribute('aria-pressed', 'false');\n      classList(paneDiv, ['e-de-pane-disable-clr'], []);\n    }\n    this.enableDisablePropertyPaneButton(this.container.showPropertiesPane);\n    this.container.showPropertiesPaneOnSelection();\n    this.documentEditor.focusIn();\n  };\n  Toolbar.prototype.onWrapText = function (text) {\n    var content = '';\n    var index = text.lastIndexOf(' ');\n    if (index !== -1) {\n      content = text.slice(0, index);\n      text.slice(index);\n      content += '<div class=\"e-de-text-wrap\">' + text.slice(index) + '</div>';\n    } else {\n      content = text;\n    }\n    return content;\n  };\n  Toolbar.prototype.wireEvent = function () {\n    this.propertiesPaneButton.on('click', this.togglePropertiesPane.bind(this));\n    EventHandler.add(this.filePicker, 'change', this.onFileChange, this);\n    EventHandler.add(this.imagePicker, 'change', this.onImageChange, this);\n  };\n  Toolbar.prototype.initToolbarItems = function () {\n    this.toolbar = new EJ2Toolbar({\n      enableRtl: this.container.enableRtl,\n      clicked: this.clickHandler.bind(this),\n      items: this.getToolbarItems()\n    });\n  };\n  /**\n   * @private\n   * @param {CustomToolbarItemModel|ToolbarItem} items - Toolbar items\n   * @returns {void}\n   */\n  Toolbar.prototype.reInitToolbarItems = function (items) {\n    var _this = this;\n    // items = JSON.parse(HelperMethods.sanitizeString(JSON.stringify(items)));\n    for (var i = 0; i < items.length; i++) {\n      switch (items[parseInt(i.toString(), 10)]) {\n        case 'RestrictEditing':\n          if (!isNullOrUndefined(this.restrictDropDwn)) {\n            this.restrictDropDwn.destroy();\n          }\n          break;\n        case 'Break':\n          if (!isNullOrUndefined(this.breakDropDwn)) {\n            this.breakDropDwn.destroy();\n          }\n          break;\n        case 'PageSetup':\n          if (!isNullOrUndefined(this.PageSetUpDropDwn)) {\n            this.PageSetUpDropDwn.destroy();\n          }\n          break;\n        case 'Image':\n          if (!isNullOrUndefined(this.imgDropDwn)) {\n            this.imgDropDwn.destroy();\n          }\n          break;\n        case 'FormFields':\n          if (!isNullOrUndefined(this.formFieldDropDown)) {\n            this.formFieldDropDown.destroy();\n          }\n          break;\n      }\n    }\n    this.toolbarItems = items;\n    var toolbarTarget = this.container.toolbarContainer;\n    this.toolbar.items = this.getToolbarItems();\n    /* eslint-disable @typescript-eslint/indent */\n    this.toolbarTimer = setTimeout(function () {\n      if (_this.toolbarTimer) {\n        clearTimeout(_this.toolbarTimer);\n      }\n      _this.initToolbarDropdown(toolbarTarget);\n      if (items.indexOf('Open') >= 0) {\n        EventHandler.add(_this.filePicker, 'change', _this.onFileChange, _this);\n      }\n      if (items.indexOf('Image') >= 0) {\n        EventHandler.add(_this.imagePicker, 'change', _this.onImageChange, _this);\n      }\n    }, 200);\n  };\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  Toolbar.prototype.getToolbarItems = function () {\n    var locale = this.container.localObj;\n    var id = this.container.element.id + TOOLBAR_ID;\n    var toolbarItems = [];\n    var className;\n    var tItem = this.toolbarItems;\n    for (var i = 0; i < this.toolbarItems.length; i++) {\n      if (i === 0) {\n        className = 'e-de-toolbar-btn-start';\n      } else if (tItem[i + 1] === 'Separator' && tItem[i - 1] === 'Separator') {\n        className = 'e-de-toolbar-btn';\n      } else if (tItem[i + 1] === 'Separator') {\n        className = 'e-de-toolbar-btn-last';\n      } else if (tItem[i - 1] === 'Separator') {\n        className = 'e-de-toolbar-btn-first';\n      } else if (i === this.toolbarItems.length - 1) {\n        className = 'e-de-toolbar-btn-end';\n      } else {\n        className = 'e-de-toolbar-btn-middle';\n      }\n      switch (tItem[parseInt(i.toString(), 10)]) {\n        case 'Separator':\n          toolbarItems.push({\n            type: 'Separator',\n            cssClass: 'e-de-separator'\n          });\n          break;\n        case 'New':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-new',\n            tooltipText: locale.getConstant('Create a new document'),\n            id: id + NEW_ID,\n            text: locale.getConstant('New'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Create a new document')\n            }\n          });\n          break;\n        case 'Open':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-open',\n            tooltipText: locale.getConstant('Open a document'),\n            id: id + OPEN_ID,\n            text: locale.getConstant('Open'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Open a document')\n            }\n          });\n          break;\n        case 'Undo':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-undo',\n            tooltipText: locale.getConstant('Undo Tooltip'),\n            id: id + UNDO_ID,\n            text: locale.getConstant('Undo'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Undo Tooltip')\n            }\n          });\n          break;\n        case 'Redo':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-redo',\n            tooltipText: locale.getConstant('Redo Tooltip'),\n            id: id + REDO_ID,\n            text: locale.getConstant('Redo'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Redo Tooltip')\n            }\n          });\n          break;\n        case 'Comments':\n          toolbarItems.push({\n            prefixIcon: 'e-de-cnt-cmt-add',\n            tooltipText: locale.getConstant('Show comments'),\n            id: id + COMMENT_ID,\n            text: locale.getConstant('Comments'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Show comments')\n            }\n          });\n          break;\n        case 'TrackChanges':\n          toolbarItems.push({\n            prefixIcon: 'e-de-cnt-track',\n            tooltipText: locale.getConstant('Track Changes'),\n            id: id + TRACK_ID,\n            text: this.onWrapText(locale.getConstant('TrackChanges')),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('TrackChanges'),\n              'aria-pressed': this.container.enableTrackChanges,\n              role: \"button\",\n              'aria-hidden': 'true'\n            }\n          });\n          break;\n        case 'Image':\n          toolbarItems.push({\n            template: '<button title=\"' + locale.getConstant('Insert inline picture from a file') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-de-toolbar-btn-first e-caret-hide\" type=\"button\" id=\"' + id + INSERT_IMAGE_ID + '\"><span class=\"e-btn-icon e-icons e-de-ctnr-image e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + locale.getConstant('Image') + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n            id: id + INSERT_IMAGE_ID,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Insert inline picture from a file'),\n              'aria-haspopup': false\n            }\n          });\n          break;\n        case 'Table':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-table',\n            tooltipText: locale.getConstant('Insert a table into the document'),\n            id: id + INSERT_TABLE_ID,\n            text: locale.getConstant('Table'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Insert a table into the document'),\n              'aria-haspopup': true\n            }\n          });\n          break;\n        case 'Hyperlink':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-link',\n            tooltipText: locale.getConstant('Create Hyperlink'),\n            id: id + INSERT_LINK_ID,\n            text: locale.getConstant('Link'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Create Hyperlink'),\n              'aria-haspopup': true\n            }\n          });\n          break;\n        case 'Bookmark':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-bookmark',\n            tooltipText: locale.getConstant('Insert a bookmark in a specific place in this document'),\n            id: id + BOOKMARK_ID,\n            text: locale.getConstant('Bookmark'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Insert a bookmark in a specific place in this document'),\n              'aria-haspopup': true\n            }\n          });\n          break;\n        case 'TableOfContents':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-tableofcontent',\n            tooltipText: locale.getConstant('Provide an overview of your document by adding a table of contents'),\n            id: id + TABLE_OF_CONTENT_ID,\n            text: this.onWrapText(locale.getConstant('Table of Contents')),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Table of Contents')\n            }\n          });\n          break;\n        case 'Header':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-header',\n            tooltipText: locale.getConstant('Add or edit the header'),\n            id: id + HEADER_ID,\n            text: locale.getConstant('Header'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Add or edit the header')\n            }\n          });\n          break;\n        case 'Footer':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-footer',\n            tooltipText: locale.getConstant('Add or edit the footer'),\n            id: id + FOOTER_ID,\n            text: locale.getConstant('Footer'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Add or edit the footer')\n            }\n          });\n          break;\n        case 'PageSetup':\n          toolbarItems.push({\n            template: '<button title=\"' + locale.getConstant('Page Setup') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-caret-hide\" type=\"button\" id=\"' + id + PAGE_SET_UP_ID + '\"><span class=\"e-btn-icon e-icons e-de-ctnr-pagesetup e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + this.onWrapText(locale.getConstant('Page Setup')) + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n            id: id + PAGE_SET_UP_ID,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Page Setup')\n            }\n          });\n          break;\n        case 'PageNumber':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-pagenumber',\n            tooltipText: locale.getConstant('Add page numbers'),\n            id: id + PAGE_NUMBER_ID,\n            text: this.onWrapText(locale.getConstant('Page Number')),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Page Number')\n            }\n          });\n          break;\n        case 'Break':\n          toolbarItems.push({\n            template: '<button title=\"' + locale.getConstant('Break') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-caret-hide\" type=\"button\" id=\"' + id + BREAK_ID + '\"><span class=\"e-btn-icon e-icons e-de-ctnr-break e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + locale.getConstant('Break') + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button><div id=\"' + id + BREAK_ID + LISTVIEW_ID + '\"></div>',\n            id: id + BREAK_ID,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Break')\n            }\n          });\n          break;\n        case 'Find':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-find',\n            tooltipText: locale.getConstant('Find Text'),\n            id: id + FIND_ID,\n            text: locale.getConstant('Find'),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Find Text')\n            }\n          });\n          break;\n        case 'LocalClipboard':\n          toolbarItems.push({\n            prefixIcon: 'e-de-ctnr-paste',\n            tooltipText: locale.getConstant('Toggle between the internal clipboard and system clipboard'),\n            id: id + CLIPBOARD_ID,\n            text: this.onWrapText(locale.getConstant('Local Clipboard')),\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Local Clipboard'),\n              'aria-pressed': this.container.enableLocalPaste,\n              role: \"button\",\n              'aria-hidden': 'true'\n            }\n          });\n          break;\n        case 'RestrictEditing':\n          toolbarItems.push({\n            template: '<button title=\"' + locale.getConstant('Restrict editing') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-de-toolbar-btn-first e-caret-hide\" type=\"button\" id=\"' + id + RESTRICT_EDITING_ID + '\"><span class=\"e-btn-icon e-de-ctnr-lock e-icons e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + this.onWrapText(locale.getConstant('Restrict Editing')) + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Restrict editing')\n            }\n          });\n          break;\n        case 'FormFields':\n          toolbarItems.push({\n            template: '<button title=\"' + locale.getConstant('Form Fields') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-de-toolbar-btn-first e-caret-hide\" type=\"button\" id=\"' + id + FORM_FIELDS_ID + '\"><span class=\"e-btn-icon e-de-formfield e-icons e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + this.onWrapText(locale.getConstant('Form Fields')) + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n            id: id + FORM_FIELDS_ID,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Form Fields')\n            }\n          });\n          break;\n        case 'UpdateFields':\n          toolbarItems.push({\n            prefixIcon: 'e-de-update-field',\n            tooltipText: locale.getConstant('Update cross reference fields'),\n            id: id + UPDATE_FIELDS_ID,\n            text: this.onWrapText(locale.getConstant('Update Fields')),\n            cssClass: className + ' e-de-formfields',\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Update cross reference fields')\n            }\n          });\n          break;\n        case 'InsertFootnote':\n          toolbarItems.push({\n            prefixIcon: 'e-de-footnote',\n            tooltipText: locale.getConstant('Footnote Tooltip'),\n            text: this.onWrapText(locale.getConstant('Insert Footnote')),\n            id: id + FOOTNOTE_ID,\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Insert Footnote')\n            }\n          });\n          break;\n        case 'InsertEndnote':\n          toolbarItems.push({\n            prefixIcon: 'e-de-endnote',\n            tooltipText: locale.getConstant('Endnote Tooltip'),\n            text: this.onWrapText(locale.getConstant('Insert Endnote')),\n            id: id + ENDNOTE_ID,\n            cssClass: className,\n            htmlAttributes: {\n              'aria-label': locale.getConstant('Insert Endnote')\n            }\n          });\n          break;\n        default:\n          //Here we need to process the items\n          toolbarItems.push(tItem[parseInt(i.toString(), 10)]);\n          break;\n      }\n    }\n    /* eslint-disable */\n    for (var i = 0; i < toolbarItems.length; i++) {\n      var tabindex = void 0;\n      if (toolbarItems[i].text !== 'Separator') {\n        tabindex = i.toString();\n        toolbarItems[i].htmlattributes = {\n          'tabindex': tabindex\n        };\n      }\n    }\n    /* eslint-enable */\n    return toolbarItems;\n  };\n  Toolbar.prototype.clickHandler = function (args) {\n    var id = this.container.element.id + TOOLBAR_ID;\n    switch (args.item.id) {\n      case id + NEW_ID:\n        this.container.documentEditor.openBlank();\n        this.documentEditor.focusIn();\n        break;\n      case id + OPEN_ID:\n        this.filePicker.value = '';\n        this.filePicker.click();\n        this.documentEditor.focusIn();\n        break;\n      case id + UNDO_ID:\n        this.container.documentEditor.editorHistoryModule.undo();\n        break;\n      case id + REDO_ID:\n        this.container.documentEditor.editorHistoryModule.redo();\n        break;\n      case id + INSERT_TABLE_ID:\n        this.container.documentEditor.showDialog('Table');\n        break;\n      case id + INSERT_LINK_ID:\n        this.container.documentEditor.showDialog('Hyperlink');\n        break;\n      case id + BOOKMARK_ID:\n        this.container.documentEditor.showDialog('Bookmark');\n        break;\n      case id + COMMENT_ID:\n        this.documentEditor.editorModule.isUserInsert = true;\n        this.documentEditor.editorModule.insertComment('');\n        this.documentEditor.editorModule.isUserInsert = false;\n        break;\n      case id + TRACK_ID:\n        this.toggleTrackChangesInternal(args.item.id);\n        break;\n      case id + HEADER_ID:\n        this.container.documentEditor.selectionModule.goToHeader();\n        this.container.statusBar.toggleWebLayout();\n        break;\n      case id + TABLE_OF_CONTENT_ID:\n        this.onToc();\n        break;\n      case id + FOOTER_ID:\n        this.container.documentEditor.selectionModule.goToFooter();\n        this.container.statusBar.toggleWebLayout();\n        break;\n      // case id + PAGE_SET_UP_ID:\n      //     this.container.documentEditor.showDialog('PageSetup');\n      //     break;\n      case id + PAGE_NUMBER_ID:\n        this.container.documentEditor.editorModule.insertPageNumber();\n        break;\n      case id + FIND_ID:\n        this.container.documentEditor.showOptionsPane();\n        break;\n      case id + CLIPBOARD_ID:\n        this.toggleLocalPaste(args.item.id);\n        break;\n      case id + UPDATE_FIELDS_ID:\n        this.documentEditor.updateFields();\n        break;\n      case id + FOOTNOTE_ID:\n        this.documentEditor.editorModule.insertFootnote();\n        break;\n      case id + ENDNOTE_ID:\n        this.documentEditor.editorModule.insertEndnote();\n        break;\n      default:\n        this.container.trigger(toolbarClickEvent, args);\n        break;\n    }\n    if (args.item.id === id + NEW_ID || args.item.id === id + OPEN_ID || args.item.id === id + UNDO_ID || args.item.id === REDO_ID || args.item.id === id + COMMENT_ID || args.item.id === id + TRACK_ID || args.item.id === id + HEADER_ID || args.item.id === id + TABLE_OF_CONTENT_ID || args.item.id === id + FOOTER_ID || args.item.id === id + PAGE_NUMBER_ID || args.item.id === id + CLIPBOARD_ID || args.item.id === id + UPDATE_FIELDS_ID || args.item.id === id + FOOTNOTE_ID || args.item.id === id + ENDNOTE_ID || args.item.id === id + PAGE_SET_UP_ID || args.item.id === id + BREAK_ID || args.item.id === id + RESTRICT_EDITING_ID || args.item.id === id + FORM_FIELDS_ID) {\n      this.documentEditor.focusIn();\n    }\n  };\n  Toolbar.prototype.toggleLocalPaste = function (id) {\n    this.container.enableLocalPaste = !this.container.enableLocalPaste;\n    this.toggleButton(id, this.container.enableLocalPaste);\n  };\n  Toolbar.prototype.toggleEditing = function () {\n    this.container.restrictEditing = !this.container.restrictEditing;\n    this.container.showPropertiesPane = !this.container.restrictEditing;\n  };\n  /**\n   * @private\n   * @param {boolean} enable - Enable/Disable restrictEditing changes toolbar item.\n   * @returns {void}\n   */\n  Toolbar.prototype.toggleRestrictEditing = function (enable) {\n    var restrictEditingId = this.container.element.id + TOOLBAR_ID + RESTRICT_EDITING_ID;\n    var element = document.getElementById(restrictEditingId);\n    if (element) {\n      this.toggleButton(restrictEditingId, enable);\n    }\n  };\n  Toolbar.prototype.toggleButton = function (id, toggle) {\n    var element = document.getElementById(id);\n    if (toggle) {\n      classList(element, ['e-btn-toggle'], []);\n      element.setAttribute('aria-pressed', 'true');\n    } else {\n      classList(element, [], ['e-btn-toggle']);\n      element.setAttribute('aria-pressed', 'false');\n    }\n  };\n  Toolbar.prototype.toggleTrackChangesInternal = function (id, enable) {\n    if (!isNullOrUndefined(enable)) {\n      this.container.enableTrackChanges = !enable;\n    }\n    this.container.enableTrackChanges = !this.container.enableTrackChanges;\n    this.toggleButton(id, this.container.enableTrackChanges);\n  };\n  Toolbar.prototype.togglePropertiesPane = function () {\n    this.container.showPropertiesPane = !this.container.showPropertiesPane;\n  };\n  Toolbar.prototype.onDropDownButtonSelect = function (args) {\n    var _this = this;\n    var parentId = this.container.element.id + TOOLBAR_ID;\n    var id = args.item.id;\n    if (id === parentId + INSERT_IMAGE_LOCAL_ID) {\n      this.imagePicker.value = '';\n      this.imagePicker.click();\n    } else if (id === parentId + PAGE_SET_UP) {\n      this.container.documentEditor.showDialog('PageSetup');\n    } else if (id === parentId + COLUMNS_ID) {\n      this.container.documentEditor.showDialog('Columns');\n    } else if (id === parentId + INSERT_IMAGE_ONLINE_ID) {\n      // Need to implement image dialog;\n    } else if (id === parentId + READ_ONLY) {\n      this.toggleEditing();\n    } else if (id === parentId + PROTECTIONS) {\n      this.documentEditor.documentHelper.restrictEditingPane.showHideRestrictPane(true);\n    } else if (id === parentId + CHECKBOX) {\n      this.documentEditor.editorModule.insertFormField('CheckBox');\n    } else if (id === parentId + DROPDOWN) {\n      this.documentEditor.editorModule.insertFormField('DropDown');\n    } else if (id === parentId + TEXT_FORM) {\n      this.documentEditor.editorModule.insertFormField('Text');\n    }\n    setTimeout(function () {\n      _this.documentEditor.focusIn();\n    }, 30);\n  };\n  Toolbar.prototype.onFileChange = function () {\n    var _this = this;\n    var file = this.filePicker.files[0];\n    var filesize = file.size;\n    var check;\n    var eventArgs = {\n      fileSize: filesize,\n      isCanceled: check\n    };\n    this.documentEditor.trigger(beforeFileOpenEvent, eventArgs);\n    if (eventArgs.isCanceled) {\n      return;\n    }\n    if (file) {\n      var formatType_1 = file.name.substr(file.name.lastIndexOf('.'));\n      if (formatType_1 === '.sfdt' || formatType_1 === '.txt') {\n        var fileReader_1 = new FileReader();\n        fileReader_1.onload = function () {\n          if (formatType_1 === '.txt') {\n            _this.container.documentEditor.documentHelper.openTextFile(fileReader_1.result);\n          } else {\n            /* eslint-disable */\n            _this.container.documentEditor.open(fileReader_1.result);\n            /* eslint-enable */\n          }\n        };\n        fileReader_1.readAsText(file);\n      } else {\n        if (this.isSupportedFormatType(formatType_1.toLowerCase())) {\n          this.convertToSfdt(file);\n        } else {\n          var localizeValue = new L10n('documenteditor', this.documentEditor.defaultLocale);\n          DialogUtility.alert({\n            content: localizeValue.getConstant('Unsupported format'),\n            closeOnEscape: true,\n            showCloseIcon: true,\n            position: {\n              X: 'center',\n              Y: 'center'\n            }\n          }).enableRtl = this.container.enableRtl;\n        }\n      }\n      this.container.documentEditor.documentName = file.name.substr(0, file.name.lastIndexOf('.'));\n    }\n  };\n  Toolbar.prototype.isSupportedFormatType = function (formatType) {\n    switch (formatType) {\n      case \".dotx\":\n      case \".docx\":\n      case \".docm\":\n      case \".dotm\":\n      case \".dot\":\n      case \".doc\":\n      case \".rtf\":\n      case \".txt\":\n      case \".xml\":\n      case \".html\":\n        return true;\n      default:\n        return false;\n    }\n  };\n  Toolbar.prototype.convertToSfdt = function (file) {\n    showSpinner(this.container.containerTarget);\n    this.importHandler.url = this.container.serviceUrl + this.container.serverActionSettings.import;\n    this.importHandler.onSuccess = this.successHandler.bind(this);\n    this.importHandler.onFailure = this.failureHandler.bind(this);\n    this.importHandler.onError = this.failureHandler.bind(this);\n    this.importHandler.customHeaders = this.container.headers;\n    var httprequestEventArgs = {\n      serverActionType: 'Import',\n      headers: this.container.headers,\n      timeout: 0,\n      cancel: false,\n      withCredentials: false\n    };\n    this.container.trigger(beforeXmlHttpRequestSend, httprequestEventArgs);\n    var formData = new FormData();\n    formData.append('files', file);\n    if (httprequestEventArgs.cancel) {\n      hideSpinner(this.container.containerTarget);\n    } else {\n      this.importHandler.send(formData, httprequestEventArgs);\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  Toolbar.prototype.failureHandler = function (args) {\n    if (args.name === 'onError') {\n      DialogUtility.alert({\n        content: this.container.localObj.getConstant('Error in establishing connection with web server'),\n        closeOnEscape: true,\n        showCloseIcon: true,\n        position: {\n          X: 'center',\n          Y: 'center'\n        }\n      }).enableRtl = this.container.enableRtl;\n    } else {\n      alert('Failed to load the file');\n      this.documentEditor.fireServiceFailure(args);\n    }\n    hideSpinner(this.container.containerTarget);\n  };\n  Toolbar.prototype.successHandler = function (result) {\n    /* eslint-disable */\n    this.container.documentEditor.open(result.data);\n    hideSpinner(this.container.containerTarget);\n    /* eslint-enable */\n  };\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n  Toolbar.prototype.onImageChange = function () {\n    var _this = this;\n    var file = this.imagePicker.files[0];\n    var fileReader = new FileReader();\n    fileReader.onload = function () {\n      _this.insertImage(fileReader.result);\n    };\n    fileReader.readAsDataURL(file);\n  };\n  Toolbar.prototype.insertImage = function (data) {\n    var image = document.createElement('img');\n    var container = this.container;\n    image.addEventListener('load', function () {\n      container.documentEditor.editorModule.insertImageInternal(data, true, this.width, this.height, this.alt);\n    });\n    image.src = data;\n  };\n  Toolbar.prototype.enableDisableFormField = function (enable) {\n    var ele = document.getElementById('container_toolbar_form_fields');\n    if (!isNullOrUndefined(ele)) {\n      this.toolbar.enableItems(ele.parentElement, enable);\n    }\n  };\n  /**\n   * @private\n   * @param {boolean} enable - Emable/Disable insert comment toolbar item.\n   * @returns {void}\n   */\n  Toolbar.prototype.enableDisableInsertComment = function (enable) {\n    this.isCommentEditing = !enable;\n    var id = this.container.element.id + TOOLBAR_ID;\n    var commentId = id + COMMENT_ID;\n    var element = document.getElementById(commentId);\n    if (!this.container.enableComment && element) {\n      this.toolbar.removeItems(element.parentElement);\n    } else if (element) {\n      if (!isNullOrUndefined(this.documentEditor) && (this.documentEditor.isReadOnly || this.documentEditor.documentHelper.isDocumentProtected)) {\n        enable = this.documentEditor.documentHelper.isCommentOnlyMode || !this.documentEditor.isReadOnlyMode;\n      }\n      this.toolbar.enableItems(element.parentElement, enable);\n    }\n  };\n  /**\n   * @private\n   * @param {boolean} enable - Emable/Disable track changes toolbar item.\n   * @returns {void}\n   */\n  Toolbar.prototype.toggleTrackChanges = function (enable) {\n    var trackId = this.container.element.id + TOOLBAR_ID + TRACK_ID;\n    var element = document.getElementById(trackId);\n    if (element) {\n      this.toggleTrackChangesInternal(trackId, enable);\n    }\n  };\n  // /**\n  //  * @private\n  //  */\n  // public enableDisableTrackChanges(enable: boolean): void {\n  //     let id: string = this.container.element.id + TOOLBAR_ID + TRACK_ID;\n  //     if (!isNullOrUndefined(this.documentEditor) && (this.documentEditor.isReadOnly ||\n  //         this.documentEditor.documentHelper.isDocumentProtected)) {\n  //         enable = false;\n  //     }\n  //     this.toggleTrackChanges(id, enable);\n  // }\n  /**\n   * @private\n   * @param {boolean} enable - Enable/Diable toolbar items.\n   * @param {boolean} isProtectedContent - Define whether document is protected.\n   * @returns {void}\n   */\n  Toolbar.prototype.enableDisableToolBarItem = function (enable, isProtectedContent) {\n    var id = this.container.element.id + TOOLBAR_ID;\n    for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n      var item = _a[_i];\n      var itemId = item.id;\n      if (itemId !== id + NEW_ID && itemId !== id + OPEN_ID && itemId !== id + FIND_ID && itemId !== id + CLIPBOARD_ID && itemId !== id + RESTRICT_EDITING_ID && item.type !== 'Separator') {\n        if (enable && this.isCommentEditing && itemId === id + COMMENT_ID) {\n          continue;\n        }\n        if (itemId !== id + UNDO_ID && itemId !== id + REDO_ID && itemId !== id + INSERT_TABLE_ID && itemId !== id + INSERT_LINK_ID && itemId !== id + BOOKMARK_ID && itemId !== id + COMMENT_ID && itemId !== id + HEADER_ID && itemId !== id + TABLE_OF_CONTENT_ID && itemId !== id + FOOTER_ID && itemId !== id + PAGE_SET_UP_ID && itemId !== id + PAGE_NUMBER_ID && itemId !== id + INSERT_IMAGE_ID && itemId !== id + FORM_FIELDS_ID && itemId !== id + BREAK_ID && itemId !== id + TRACK_ID && itemId !== id + FOOTNOTE_ID && itemId !== id + ENDNOTE_ID && itemId !== id + UPDATE_FIELDS_ID) {\n          continue;\n        }\n        if (isProtectedContent && this.documentEditor.documentHelper.isFormFillProtectedMode && itemId === id + UPDATE_FIELDS_ID) {\n          continue;\n        }\n        var element = document.getElementById(item.id);\n        if (!isNullOrUndefined(element) && !isNullOrUndefined(element.parentElement)) {\n          this.toolbar.enableItems(element.parentElement, enable);\n        }\n      }\n    }\n    if (!isNullOrUndefined(this.documentEditor)) {\n      this.enableDisableFormField(!this.documentEditor.enableHeaderAndFooter && enable && !this.documentEditor.isReadOnlyMode);\n    }\n    if (this.documentEditor.selectionModule.isinFootnote || this.documentEditor.selectionModule.isinEndnote || this.documentEditor.enableHeaderAndFooter) {\n      if (this.containsItem(id + ENDNOTE_ID)) {\n        this.toolbar.enableItems(document.getElementById(id + ENDNOTE_ID).parentElement, false);\n      }\n      if (this.containsItem(id + FOOTNOTE_ID)) {\n        this.toolbar.enableItems(document.getElementById(id + FOOTNOTE_ID).parentElement, false);\n      }\n      if (this.containsItem(id + BREAK_ID)) {\n        this.toolbar.enableItems(document.getElementById(id + BREAK_ID).parentElement, false);\n      }\n    }\n    if (!isProtectedContent || this.container.showPropertiesPane) {\n      if (isProtectedContent) {\n        enable = this.container.showPropertiesPane;\n      }\n      classList(this.propertiesPaneButton.element.parentElement, !enable ? ['e-de-overlay'] : [], !enable ? [] : ['e-de-overlay']);\n    }\n    var protectionType = this.documentEditor.documentHelper.protectionType;\n    if (enable || this.documentEditor.documentHelper.isDocumentProtected && (protectionType === 'FormFieldsOnly' || protectionType === 'CommentsOnly')) {\n      this.enableDisableUndoRedo();\n    }\n    if (this.documentEditor.documentHelper.isTrackedOnlyMode && this.containsItem(id + TRACK_ID)) {\n      this.toolbar.enableItems(document.getElementById(id + TRACK_ID).parentElement, false);\n    }\n  };\n  Toolbar.prototype.containsItem = function (id) {\n    for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n      var item = _a[_i];\n      if (item.id === id) {\n        return true;\n      }\n    }\n    return false;\n  };\n  /**\n   * @private\n   * @returns {void}\n   */\n  Toolbar.prototype.enableDisableUndoRedo = function () {\n    var id = this.container.element.id + TOOLBAR_ID;\n    if (this.toolbarItems.indexOf('Undo') >= 0) {\n      var undoElement = document.getElementById(id + UNDO_ID);\n      // We can optimize this condition check to single bool validation instead of array collection.\n      /* eslint-disable-next-line max-len */\n      if (!isNullOrUndefined(undoElement)) {\n        this.toolbar.enableItems(undoElement.parentElement, this.container.documentEditor.editorHistoryModule.canUndo());\n      }\n    }\n    if (this.toolbarItems.indexOf('Redo') >= 0) {\n      var redoElement = document.getElementById(id + REDO_ID);\n      // We can optimize this condition check to single bool validation instead of array collection.\n      /* eslint-disable-next-line max-len */\n      if (!isNullOrUndefined(redoElement)) {\n        this.toolbar.enableItems(redoElement.parentElement, this.container.documentEditor.editorHistoryModule.canRedo());\n      }\n    }\n  };\n  Toolbar.prototype.onToc = function () {\n    if (this.container.previousContext === 'TableOfContents' && this.container.propertiesPaneContainer.style.display === 'none') {\n      this.container.showPropertiesPane = false;\n      this.documentEditor.focusIn();\n      return;\n    }\n    if (this.container.headerFooterProperties.element.style.display === 'block') {\n      this.documentEditor.selectionModule.closeHeaderFooter();\n    }\n    this.enableDisablePropertyPaneButton(false);\n    this.container.showProperties('toc');\n  };\n  /**\n   * @private\n   * @param {boolean} isShow - show/hide property pane.\n   * @returns {void}\n   */\n  Toolbar.prototype.enableDisablePropertyPaneButton = function (isShow) {\n    if (isShow) {\n      classList(this.propertiesPaneButton.element.firstChild, ['e-pane-enabled'], ['e-pane-disabled']);\n    } else {\n      classList(this.propertiesPaneButton.element.firstChild, ['e-pane-disabled'], ['e-pane-enabled']);\n    }\n  };\n  /**\n   * @private\n   * @returns { void }\n   */\n  Toolbar.prototype.destroy = function () {\n    if (this.restrictDropDwn) {\n      this.restrictDropDwn.destroy();\n      this.restrictDropDwn = undefined;\n    }\n    if (this.imgDropDwn) {\n      this.imgDropDwn.destroy();\n      this.imgDropDwn = undefined;\n    }\n    if (this.PageSetUpDropDwn) {\n      this.PageSetUpDropDwn.destroy();\n      this.PageSetUpDropDwn = undefined;\n    }\n    if (this.breakDropDwn) {\n      this.breakDropDwn.destroy();\n      this.breakDropDwn = undefined;\n    }\n    if (this.formFieldDropDown) {\n      this.formFieldDropDown.destroy();\n      this.formFieldDropDown = undefined;\n    }\n    if (this.toolbar) {\n      var toolbarElement = this.toolbar.element;\n      this.toolbar.destroy();\n      this.toolbar = undefined;\n      toolbarElement.parentElement.removeChild(toolbarElement);\n    }\n    if (this.container.toolbarContainer) {\n      this.container.containerTarget.removeChild(this.container.toolbarContainer);\n      this.container.toolbarContainer = undefined;\n    }\n    if (this.container.toolbarModule) {\n      this.container.toolbarModule = undefined;\n    }\n    if (this.propertiesPaneButton) {\n      this.propertiesPaneButton.destroy();\n    }\n    if (this.breakListView) {\n      this.breakListView.destroy();\n      this.breakListView = undefined;\n    }\n    this.propertiesPaneButton = undefined;\n    this.toolbarItems = [];\n    this.toolbarItems = undefined;\n    this.container = undefined;\n  };\n  return Toolbar;\n}();\nexport { Toolbar };","map":{"version":3,"names":["createElement","L10n","isNullOrUndefined","EventHandler","classList","Browser","Toolbar","EJ2Toolbar","Button","DropDownButton","showSpinner","hideSpinner","DialogUtility","XmlHttpRequestHandler","beforePaneSwitchEvent","toolbarClickEvent","beforeFileOpenEvent","beforeXmlHttpRequestSend","SectionBreakType","ListView","TOOLBAR_ID","NEW_ID","OPEN_ID","UNDO_ID","REDO_ID","INSERT_IMAGE_ID","INSERT_IMAGE_LOCAL_ID","INSERT_IMAGE_ONLINE_ID","INSERT_TABLE_ID","INSERT_LINK_ID","BOOKMARK_ID","COMMENT_ID","TRACK_ID","TABLE_OF_CONTENT_ID","HEADER_ID","FOOTER_ID","PAGE_SET_UP_ID","PAGE_NUMBER_ID","BREAK_ID","LISTVIEW_ID","FIND_ID","CLIPBOARD_ID","RESTRICT_EDITING_ID","PAGE_BREAK","SECTION_BREAK","SECTION_BREAK_CONTINUOUS","COLUMN_BREAK","READ_ONLY","PROTECTIONS","FORM_FIELDS_ID","UPDATE_FIELDS_ID","TEXT_FORM","CHECKBOX","DROPDOWN","FOOTNOTE_ID","ENDNOTE_ID","COLUMNS_ID","PAGE_SET_UP","container","isCommentEditing","importHandler","Object","defineProperty","prototype","get","documentEditor","enumerable","configurable","getModuleName","enableItems","itemIndex","isEnable","toolbar","initToolBar","items","toolbarItems","renderToolBar","wireEvent","toolbarContainer","toolbarWrapper","className","toolbarTarget","initToolbarItems","appendChild","locale","localObj","propertiesPaneDiv","buttonElement","attrs","type","getConstant","cssClassName","iconCss","enableRtl","propertiesPaneButton","cssClass","showPropertiesPane","title","add","appendTo","showHidePropertiesPane","initToolbarDropdown","_this","id_1","element","id","indexOf","imgDropDwn","text","select","onDropDownButtonSelect","bind","PageSetUpDropDwn","break_dataSource","category","ddbOption","target","breakDropDwn","breakListView","dataSource","width","fields","groupBy","showIcon","onListViewSelection","filePicker","accept","isIE","document","body","imagePicker","toggleButton","enableLocalPaste","enableTrackChanges","restrictEditing","restrictIconCss","restrictDropDwn","beforeItemRender","args","onBeforeRenderRestrictDropdown","formFieldDropDown","parentId","item","editorModule","insertPageBreak","insertSectionBreak","Continuous","insertColumnBreak","remove","selectedIcon","getElementsByClassName","toggleRestrictIcon","restrictPane","toggleProtection","style","display","icon","toggle","paneDiv","propertiesPaneContainer","setAttribute","trigger","previousContext","showHeaderProperties","enableDisablePropertyPaneButton","showPropertiesPaneOnSelection","focusIn","onWrapText","content","index","lastIndexOf","slice","on","togglePropertiesPane","onFileChange","onImageChange","clicked","clickHandler","getToolbarItems","reInitToolbarItems","i","length","parseInt","toString","destroy","toolbarTimer","setTimeout","clearTimeout","tItem","push","prefixIcon","tooltipText","htmlAttributes","role","template","tabindex","htmlattributes","openBlank","value","click","editorHistoryModule","undo","redo","showDialog","isUserInsert","insertComment","toggleTrackChangesInternal","selectionModule","goToHeader","statusBar","toggleWebLayout","onToc","goToFooter","insertPageNumber","showOptionsPane","toggleLocalPaste","updateFields","insertFootnote","insertEndnote","toggleEditing","toggleRestrictEditing","enable","restrictEditingId","getElementById","documentHelper","restrictEditingPane","showHideRestrictPane","insertFormField","file","files","filesize","size","check","eventArgs","fileSize","isCanceled","formatType_1","name","substr","fileReader_1","FileReader","onload","openTextFile","result","open","readAsText","isSupportedFormatType","toLowerCase","convertToSfdt","localizeValue","defaultLocale","alert","closeOnEscape","showCloseIcon","position","X","Y","documentName","formatType","containerTarget","url","serviceUrl","serverActionSettings","import","onSuccess","successHandler","onFailure","failureHandler","onError","customHeaders","headers","httprequestEventArgs","serverActionType","timeout","cancel","withCredentials","formData","FormData","append","send","fireServiceFailure","data","fileReader","insertImage","readAsDataURL","image","addEventListener","insertImageInternal","height","alt","src","enableDisableFormField","ele","parentElement","enableDisableInsertComment","commentId","enableComment","removeItems","isReadOnly","isDocumentProtected","isCommentOnlyMode","isReadOnlyMode","toggleTrackChanges","trackId","enableDisableToolBarItem","isProtectedContent","_i","_a","itemId","isFormFillProtectedMode","enableHeaderAndFooter","isinFootnote","isinEndnote","containsItem","protectionType","enableDisableUndoRedo","isTrackedOnlyMode","undoElement","canUndo","redoElement","canRedo","headerFooterProperties","closeHeaderFooter","showProperties","isShow","firstChild","undefined","toolbarElement","removeChild","toolbarModule"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-documenteditor/src/document-editor-container/tool-bar/tool-bar.js"],"sourcesContent":["import { createElement, L10n, isNullOrUndefined, EventHandler, classList, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as EJ2Toolbar } from '@syncfusion/ej2-navigations';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { showSpinner, hideSpinner, DialogUtility } from '@syncfusion/ej2-popups';\nimport { XmlHttpRequestHandler, beforePaneSwitchEvent, toolbarClickEvent, beforeFileOpenEvent } from '../../document-editor/base/index';\nimport { beforeXmlHttpRequestSend, SectionBreakType } from './../../index';\nimport { ListView } from '@syncfusion/ej2-lists';\nvar TOOLBAR_ID = '_toolbar';\nvar NEW_ID = '_new';\nvar OPEN_ID = '_open';\nvar UNDO_ID = '_undo';\nvar REDO_ID = '_redo';\nvar INSERT_IMAGE_ID = '_image';\nvar INSERT_IMAGE_LOCAL_ID = '_image_local';\nvar INSERT_IMAGE_ONLINE_ID = '_image_url';\nvar INSERT_TABLE_ID = '_table';\nvar INSERT_LINK_ID = '_link';\nvar BOOKMARK_ID = '_bookmark';\nvar COMMENT_ID = '_comment';\nvar TRACK_ID = '_track';\nvar TABLE_OF_CONTENT_ID = '_toc';\nvar HEADER_ID = '_header';\nvar FOOTER_ID = '_footer';\nvar PAGE_SET_UP_ID = '_page_setup';\nvar PAGE_NUMBER_ID = '_page_number';\nvar BREAK_ID = '_break';\nvar LISTVIEW_ID = '_listView';\nvar FIND_ID = '_find';\nvar CLIPBOARD_ID = '_use_local_clipboard';\nvar RESTRICT_EDITING_ID = '_restrict_edit';\nvar PAGE_BREAK = '_page_break';\nvar SECTION_BREAK = '_section_break';\nvar SECTION_BREAK_CONTINUOUS = '_section_break_continuous';\nvar COLUMN_BREAK = '_column_break';\nvar READ_ONLY = '_read_only';\nvar PROTECTIONS = '_protections';\nvar FORM_FIELDS_ID = '_form_fields';\nvar UPDATE_FIELDS_ID = '_update_fields';\nvar TEXT_FORM = '_text_form';\nvar CHECKBOX = '_checkbox';\nvar DROPDOWN = '_dropdown';\nvar FOOTNOTE_ID = '_footnote';\nvar ENDNOTE_ID = '_endnote';\nvar COLUMNS_ID = '_columns';\nvar PAGE_SET_UP = '_page_set';\n/**\n * Toolbar Module\n */\nvar Toolbar = /** @class */ (function () {\n    /**\n     * @private\n     * @param {DocumentEditorContainer} container - DocumentEditorContainer object.\n     */\n    function Toolbar(container) {\n        /**\n         * @private\n         */\n        this.isCommentEditing = false;\n        this.container = container;\n        this.importHandler = new XmlHttpRequestHandler();\n    }\n    Object.defineProperty(Toolbar.prototype, \"documentEditor\", {\n        get: function () {\n            return this.container.documentEditor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number} itemIndex - Index of the toolbar items that need to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the toolbar item should be enabled or disabled. By default, `isEnable` is set to true.\n     * @returns {void}\n     */\n    Toolbar.prototype.enableItems = function (itemIndex, isEnable) {\n        this.toolbar.enableItems(itemIndex, isEnable);\n    };\n    /**\n     * @private\n     * @param {CustomToolbarItemModel|ToolbarItem} items - Toolbar items\n     * @returns {void}\n     */\n    Toolbar.prototype.initToolBar = function (items) {\n        // items = JSON.parse(HelperMethods.sanitizeString(JSON.stringify(items)));\n        this.toolbarItems = items;\n        this.renderToolBar();\n        this.wireEvent();\n    };\n    Toolbar.prototype.renderToolBar = function () {\n        if (isNullOrUndefined(this.container)) {\n            return;\n        }\n        var toolbarContainer = this.container.toolbarContainer;\n        var toolbarWrapper = createElement('div', { className: 'e-de-tlbr-wrapper' });\n        var toolbarTarget = createElement('div', { className: 'e-de-toolbar' });\n        this.initToolbarItems();\n        toolbarWrapper.appendChild(toolbarTarget);\n        toolbarContainer.appendChild(toolbarWrapper);\n        // Show hide pane button initialization\n        var locale = this.container.localObj;\n        var propertiesPaneDiv = createElement('div', { className: 'e-de-ctnr-properties-pane-btn' });\n        this.buttonElement = createElement('button', { attrs: { type: 'button', 'aria-label': locale.getConstant('Hide properties pane'), 'aria-pressed': 'true' } });\n        propertiesPaneDiv.appendChild(this.buttonElement);\n        var cssClassName = 'e-tbar-btn e-tbtn-txt e-control e-btn e-de-showhide-btn';\n        var iconCss = 'e-icons e-de-ctnr-showhide';\n        if (this.container.enableRtl) {\n            cssClassName += '-rtl';\n            iconCss = 'e-icons e-de-ctnr-showhide e-de-flip';\n        }\n        this.propertiesPaneButton = new Button({\n            cssClass: cssClassName,\n            iconCss: iconCss\n        });\n        if (this.container.showPropertiesPane)\n            this.buttonElement.title = locale.getConstant('Hide properties pane');\n        else {\n            this.buttonElement.title = locale.getConstant('Show properties pane');\n            propertiesPaneDiv.classList.add('e-de-pane-disable-clr');\n        }\n        this.propertiesPaneButton.appendTo(this.buttonElement);\n        EventHandler.add(this.buttonElement, 'click', this.showHidePropertiesPane, this);\n        toolbarContainer.appendChild(propertiesPaneDiv);\n        this.toolbar.appendTo(toolbarTarget);\n        this.initToolbarDropdown(toolbarTarget);\n    };\n    Toolbar.prototype.initToolbarDropdown = function (toolbarTarget) {\n        var _this = this;\n        if (this.container) {\n            var locale = this.container.localObj;\n            var id_1 = this.container.element.id + TOOLBAR_ID;\n            if (this.toolbarItems.indexOf('Image') >= 0) {\n                this.imgDropDwn = new DropDownButton({\n                    items: [\n                        {\n                            text: locale.getConstant('Upload from computer'), iconCss: 'e-icons e-de-ctnr-upload',\n                            id: id_1 + INSERT_IMAGE_LOCAL_ID\n                        }\n                    ],\n                    //,{ text: locale.getConstant('By URL'), iconCss: 'e-icons e-de-ctnr-link', id: id + INSERT_IMAGE_ONLINE_ID }],\n                    cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n                    select: this.onDropDownButtonSelect.bind(this)\n                });\n                this.imgDropDwn.appendTo('#' + id_1 + INSERT_IMAGE_ID);\n            }\n            if (this.toolbarItems.indexOf('PageSetup') >= 0) {\n                this.PageSetUpDropDwn = new DropDownButton({\n                    items: [\n                        { text: locale.getConstant('Page Setup'), iconCss: 'e-icons e-de-ctnr-page-size', id: id_1 + PAGE_SET_UP },\n                        { text: locale.getConstant('Columns'), iconCss: 'e-icons e-de-ctnr-columns', id: id_1 + COLUMNS_ID }\n                    ],\n                    cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n                    select: this.onDropDownButtonSelect.bind(this)\n                });\n                this.PageSetUpDropDwn.appendTo('#' + id_1 + PAGE_SET_UP_ID);\n            }\n            if (this.toolbarItems.indexOf('Break') >= 0) {\n                var break_dataSource = [\n                    { text: locale.getConstant('Page'), iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-page-break', id: PAGE_BREAK, category: locale.getConstant('Page Breaks') },\n                    { text: locale.getConstant('Column'), iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-page-break-column', id: COLUMN_BREAK, category: locale.getConstant('Page Breaks') },\n                    { text: locale.getConstant('Next Page'), iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-section-break', id: SECTION_BREAK, category: locale.getConstant('Section Breaks') },\n                    { text: locale.getConstant('Continuous'), iconCss: 'e-de-listview e-de-listview-icon e-icons e-de-ctnr-section-break-continuous', id: SECTION_BREAK_CONTINUOUS, category: locale.getConstant('Section Breaks') }\n                ];\n                var ddbOption = {\n                    target: '#' + id_1 + BREAK_ID + LISTVIEW_ID,\n                    cssClass: 'e-caret-hide'\n                };\n                this.breakDropDwn = new DropDownButton(ddbOption, '#' + id_1 + BREAK_ID);\n                this.breakListView = new ListView({\n                    dataSource: break_dataSource,\n                    width: '170px',\n                    fields: { iconCss: 'iconCss', groupBy: 'category' },\n                    showIcon: true,\n                    select: this.onListViewSelection.bind(this)\n                });\n                this.breakListView.appendTo('#' + id_1 + BREAK_ID + LISTVIEW_ID);\n            }\n            this.filePicker = createElement('input', {\n                attrs: { type: 'file', accept: '.doc,.docx,.rtf,.txt,.htm,.html,.sfdt' }, className: 'e-de-ctnr-file-picker'\n            });\n            if (Browser.isIE) {\n                document.body.appendChild(this.filePicker);\n            }\n            this.imagePicker = createElement('input', {\n                attrs: { type: 'file', accept: '.jpg,.jpeg,.png,.bmp,.svg' }, className: 'e-de-ctnr-file-picker'\n            });\n            if (Browser.isIE) {\n                document.body.appendChild(this.imagePicker);\n            }\n            if (this.toolbarItems.indexOf('LocalClipboard') >= 0) {\n                this.toggleButton(id_1 + CLIPBOARD_ID, this.container.enableLocalPaste);\n            }\n            if (this.toolbarItems.indexOf('TrackChanges') >= 0) {\n                this.toggleButton(id_1 + TRACK_ID, this.container.enableTrackChanges);\n            }\n            if (this.toolbarItems.indexOf('RestrictEditing') >= 0) {\n                this.toggleButton(id_1 + RESTRICT_EDITING_ID, this.container.restrictEditing);\n                var restrictIconCss = '';\n                if (this.container.restrictEditing) {\n                    restrictIconCss = ' e-de-selected-item';\n                }\n                this.restrictDropDwn = new DropDownButton({\n                    items: [\n                        { text: locale.getConstant('Read only'), id: id_1 + READ_ONLY, iconCss: 'e-icons' + restrictIconCss },\n                        { text: locale.getConstant('Protections'), id: id_1 + PROTECTIONS, iconCss: 'e-icons' }\n                    ],\n                    cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n                    select: this.onDropDownButtonSelect.bind(this),\n                    beforeItemRender: function (args) {\n                        _this.onBeforeRenderRestrictDropdown(args, id_1);\n                    }\n                });\n                this.restrictDropDwn.appendTo('#' + id_1 + RESTRICT_EDITING_ID);\n            }\n            if (this.toolbarItems.indexOf('FormFields') >= 0) {\n                this.formFieldDropDown = new DropDownButton({\n                    items: [\n                        { text: locale.getConstant('Text Form'), iconCss: 'e-icons e-de-textform', id: id_1 + TEXT_FORM },\n                        { text: locale.getConstant('Check Box'), iconCss: 'e-icons e-de-checkbox-form', id: id_1 + CHECKBOX },\n                        { text: locale.getConstant('DropDown'), iconCss: 'e-icons e-de-dropdownform', id: id_1 + DROPDOWN }\n                    ],\n                    cssClass: 'e-de-toolbar-btn-first e-caret-hide',\n                    select: this.onDropDownButtonSelect.bind(this)\n                });\n                this.formFieldDropDown.appendTo('#' + id_1 + FORM_FIELDS_ID);\n            }\n        }\n    };\n    Toolbar.prototype.onListViewSelection = function (args) {\n        var parentId = this.container.element.id + TOOLBAR_ID;\n        var id = args.item.id;\n        if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + PAGE_BREAK) {\n            this.container.documentEditor.editorModule.insertPageBreak();\n        }\n        else if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + SECTION_BREAK) {\n            this.container.documentEditor.editorModule.insertSectionBreak();\n        }\n        else if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + SECTION_BREAK_CONTINUOUS) {\n            this.container.documentEditor.editorModule.insertSectionBreak(SectionBreakType.Continuous);\n        }\n        else if (id === parentId + BREAK_ID + LISTVIEW_ID + '_' + COLUMN_BREAK) {\n            this.container.documentEditor.editorModule.insertColumnBreak();\n        }\n        args.item.classList.remove('e-active');\n    };\n    Toolbar.prototype.onBeforeRenderRestrictDropdown = function (args, id) {\n        var selectedIcon = args.element.getElementsByClassName('e-menu-icon')[0];\n        if (!isNullOrUndefined(selectedIcon)) {\n            if (args.item.id === id + READ_ONLY) {\n                this.toggleRestrictIcon(selectedIcon, this.container.restrictEditing);\n            }\n            if (args.item.id === id + PROTECTIONS) {\n                var restrictPane = document.getElementsByClassName('e-de-restrict-pane')[0];\n                if (!isNullOrUndefined(restrictPane)) {\n                    var toggleProtection = !(restrictPane.style.display === 'none');\n                    this.toggleRestrictIcon(selectedIcon, toggleProtection);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.toggleRestrictIcon = function (icon, toggle) {\n        if (toggle) {\n            icon.classList.add('e-de-selected-item');\n        }\n        else {\n            icon.classList.remove('e-de-selected-item');\n        }\n    };\n    Toolbar.prototype.showHidePropertiesPane = function () {\n        var paneDiv = document.getElementsByClassName('e-de-ctnr-properties-pane-btn')[0];\n        var locale = this.container.localObj;\n        if (this.container.propertiesPaneContainer.style.display === 'none') {\n            this.container.showPropertiesPane = true;\n            paneDiv.classList.remove('e-de-pane-disable-clr');\n            this.buttonElement.title = locale.getConstant('Hide properties pane');\n            this.buttonElement.setAttribute('aria-label', locale.getConstant('Hide properties pane'));\n            this.buttonElement.setAttribute('aria-pressed', 'true');\n            classList(paneDiv, ['e-de-pane-enable-clr'], []);\n            this.container.trigger(beforePaneSwitchEvent, { type: 'PropertiesPane' });\n        }\n        else if (this.container.previousContext.indexOf('Header') >= 0\n            || this.container.previousContext.indexOf('Footer') >= 0) {\n            this.container.showHeaderProperties = !this.container.showHeaderProperties;\n        }\n        else {\n            this.container.showPropertiesPane = false;\n            paneDiv.classList.remove('e-de-pane-enable-clr');\n            this.buttonElement.title = locale.getConstant('Show properties pane');\n            this.buttonElement.setAttribute('aria-label', locale.getConstant('Show properties pane'));\n            this.buttonElement.setAttribute('aria-pressed', 'false');\n            classList(paneDiv, ['e-de-pane-disable-clr'], []);\n        }\n        this.enableDisablePropertyPaneButton(this.container.showPropertiesPane);\n        this.container.showPropertiesPaneOnSelection();\n        this.documentEditor.focusIn();\n    };\n    Toolbar.prototype.onWrapText = function (text) {\n        var content = '';\n        var index = text.lastIndexOf(' ');\n        if (index !== -1) {\n            content = text.slice(0, index);\n            text.slice(index);\n            content += '<div class=\"e-de-text-wrap\">' + text.slice(index) + '</div>';\n        }\n        else {\n            content = text;\n        }\n        return content;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        this.propertiesPaneButton.on('click', this.togglePropertiesPane.bind(this));\n        EventHandler.add(this.filePicker, 'change', this.onFileChange, this);\n        EventHandler.add(this.imagePicker, 'change', this.onImageChange, this);\n    };\n    Toolbar.prototype.initToolbarItems = function () {\n        this.toolbar = new EJ2Toolbar({\n            enableRtl: this.container.enableRtl,\n            clicked: this.clickHandler.bind(this),\n            items: this.getToolbarItems()\n        });\n    };\n    /**\n     * @private\n     * @param {CustomToolbarItemModel|ToolbarItem} items - Toolbar items\n     * @returns {void}\n     */\n    Toolbar.prototype.reInitToolbarItems = function (items) {\n        var _this = this;\n        // items = JSON.parse(HelperMethods.sanitizeString(JSON.stringify(items)));\n        for (var i = 0; i < items.length; i++) {\n            switch (items[parseInt(i.toString(), 10)]) {\n                case 'RestrictEditing':\n                    if (!isNullOrUndefined(this.restrictDropDwn)) {\n                        this.restrictDropDwn.destroy();\n                    }\n                    break;\n                case 'Break':\n                    if (!isNullOrUndefined(this.breakDropDwn)) {\n                        this.breakDropDwn.destroy();\n                    }\n                    break;\n                case 'PageSetup':\n                    if (!isNullOrUndefined(this.PageSetUpDropDwn)) {\n                        this.PageSetUpDropDwn.destroy();\n                    }\n                    break;\n                case 'Image':\n                    if (!isNullOrUndefined(this.imgDropDwn)) {\n                        this.imgDropDwn.destroy();\n                    }\n                    break;\n                case 'FormFields':\n                    if (!isNullOrUndefined(this.formFieldDropDown)) {\n                        this.formFieldDropDown.destroy();\n                    }\n                    break;\n            }\n        }\n        this.toolbarItems = items;\n        var toolbarTarget = this.container.toolbarContainer;\n        this.toolbar.items = this.getToolbarItems();\n        /* eslint-disable @typescript-eslint/indent */\n        this.toolbarTimer = setTimeout(function () {\n            if (_this.toolbarTimer) {\n                clearTimeout(_this.toolbarTimer);\n            }\n            _this.initToolbarDropdown(toolbarTarget);\n            if (items.indexOf('Open') >= 0) {\n                EventHandler.add(_this.filePicker, 'change', _this.onFileChange, _this);\n            }\n            if (items.indexOf('Image') >= 0) {\n                EventHandler.add(_this.imagePicker, 'change', _this.onImageChange, _this);\n            }\n        }, 200);\n    };\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    Toolbar.prototype.getToolbarItems = function () {\n        var locale = this.container.localObj;\n        var id = this.container.element.id + TOOLBAR_ID;\n        var toolbarItems = [];\n        var className;\n        var tItem = this.toolbarItems;\n        for (var i = 0; i < this.toolbarItems.length; i++) {\n            if (i === 0) {\n                className = 'e-de-toolbar-btn-start';\n            }\n            else if ((tItem[i + 1] === 'Separator') && (tItem[i - 1] === 'Separator')) {\n                className = 'e-de-toolbar-btn';\n            }\n            else if (tItem[i + 1] === 'Separator') {\n                className = 'e-de-toolbar-btn-last';\n            }\n            else if (tItem[i - 1] === 'Separator') {\n                className = 'e-de-toolbar-btn-first';\n            }\n            else if (i === (this.toolbarItems.length - 1)) {\n                className = 'e-de-toolbar-btn-end';\n            }\n            else {\n                className = 'e-de-toolbar-btn-middle';\n            }\n            switch (tItem[parseInt(i.toString(), 10)]) {\n                case 'Separator':\n                    toolbarItems.push({\n                        type: 'Separator', cssClass: 'e-de-separator'\n                    });\n                    break;\n                case 'New':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-new', tooltipText: locale.getConstant('Create a new document'),\n                        id: id + NEW_ID, text: locale.getConstant('New'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Create a new document') }\n                    });\n                    break;\n                case 'Open':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-open', tooltipText: locale.getConstant('Open a document'), id: id + OPEN_ID,\n                        text: locale.getConstant('Open'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Open a document') }\n                    });\n                    break;\n                case 'Undo':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-undo', tooltipText: locale.getConstant('Undo Tooltip'),\n                        id: id + UNDO_ID, text: locale.getConstant('Undo'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Undo Tooltip') }\n                    });\n                    break;\n                case 'Redo':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-redo', tooltipText: locale.getConstant('Redo Tooltip'),\n                        id: id + REDO_ID, text: locale.getConstant('Redo'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Redo Tooltip') }\n                    });\n                    break;\n                case 'Comments':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-cnt-cmt-add',\n                        tooltipText: locale.getConstant('Show comments'),\n                        id: id + COMMENT_ID, text: locale.getConstant('Comments'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Show comments') }\n                    });\n                    break;\n                case 'TrackChanges':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-cnt-track',\n                        tooltipText: locale.getConstant('Track Changes'),\n                        id: id + TRACK_ID, text: this.onWrapText(locale.getConstant('TrackChanges')), cssClass: className,\n                        htmlAttributes: { 'aria-label': locale.getConstant('TrackChanges'), 'aria-pressed': this.container.enableTrackChanges, role: \"button\", 'aria-hidden': 'true' }\n                    });\n                    break;\n                case 'Image':\n                    toolbarItems.push({\n                        template: '<button title=\"' + locale.getConstant('Insert inline picture from a file') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-de-toolbar-btn-first e-caret-hide\" type=\"button\" id=\"' + id + INSERT_IMAGE_ID + '\"><span class=\"e-btn-icon e-icons e-de-ctnr-image e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + locale.getConstant('Image') + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n                        id: id + INSERT_IMAGE_ID, htmlAttributes: { 'aria-label': locale.getConstant('Insert inline picture from a file'), 'aria-haspopup': false }\n                    });\n                    break;\n                case 'Table':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-table', tooltipText: locale.getConstant('Insert a table into the document'),\n                        id: id + INSERT_TABLE_ID, text: locale.getConstant('Table'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Insert a table into the document'), 'aria-haspopup': true }\n                    });\n                    break;\n                case 'Hyperlink':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-link',\n                        tooltipText: locale.getConstant('Create Hyperlink'),\n                        id: id + INSERT_LINK_ID, text: locale.getConstant('Link'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Create Hyperlink'), 'aria-haspopup': true }\n                    });\n                    break;\n                case 'Bookmark':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-bookmark',\n                        tooltipText: locale.getConstant('Insert a bookmark in a specific place in this document'),\n                        id: id + BOOKMARK_ID, text: locale.getConstant('Bookmark'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Insert a bookmark in a specific place in this document'), 'aria-haspopup': true }\n                    });\n                    break;\n                case 'TableOfContents':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-tableofcontent',\n                        tooltipText: locale.getConstant('Provide an overview of your document by adding a table of contents'),\n                        id: id + TABLE_OF_CONTENT_ID, text: this.onWrapText(locale.getConstant('Table of Contents')),\n                        cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Table of Contents') }\n                    });\n                    break;\n                case 'Header':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-header', tooltipText: locale.getConstant('Add or edit the header'),\n                        id: id + HEADER_ID, text: locale.getConstant('Header'), cssClass: className,\n                        htmlAttributes: { 'aria-label': locale.getConstant('Add or edit the header') }\n                    });\n                    break;\n                case 'Footer':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-footer', tooltipText: locale.getConstant('Add or edit the footer'),\n                        id: id + FOOTER_ID, text: locale.getConstant('Footer'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Add or edit the footer') }\n                    });\n                    break;\n                case 'PageSetup':\n                    toolbarItems.push({\n                        template: '<button title=\"' + locale.getConstant('Page Setup') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-caret-hide\" type=\"button\" id=\"' + id + PAGE_SET_UP_ID + '\"><span class=\"e-btn-icon e-icons e-de-ctnr-pagesetup e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + this.onWrapText(locale.getConstant('Page Setup')) + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n                        id: id + PAGE_SET_UP_ID, htmlAttributes: { 'aria-label': locale.getConstant('Page Setup') }\n                    });\n                    break;\n                case 'PageNumber':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-pagenumber', tooltipText: locale.getConstant('Add page numbers'),\n                        id: id + PAGE_NUMBER_ID, text: this.onWrapText(locale.getConstant('Page Number')),\n                        cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Page Number') }\n                    });\n                    break;\n                case 'Break':\n                    toolbarItems.push({\n                        template: '<button title=\"' + locale.getConstant('Break') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-caret-hide\" type=\"button\" id=\"' + id + BREAK_ID + '\"><span class=\"e-btn-icon e-icons e-de-ctnr-break e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + locale.getConstant('Break') + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button><div id=\"' + id + BREAK_ID + LISTVIEW_ID + '\"></div>',\n                        id: id + BREAK_ID, htmlAttributes: { 'aria-label': locale.getConstant('Break') }\n                    });\n                    break;\n                case 'Find':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-find', tooltipText: locale.getConstant('Find Text'),\n                        id: id + FIND_ID, text: locale.getConstant('Find'), cssClass: className, htmlAttributes: { 'aria-label': locale.getConstant('Find Text') }\n                    });\n                    break;\n                case 'LocalClipboard':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-ctnr-paste',\n                        tooltipText: locale.getConstant('Toggle between the internal clipboard and system clipboard'),\n                        id: id + CLIPBOARD_ID, text: this.onWrapText(locale.getConstant('Local Clipboard')),\n                        cssClass: className,\n                        htmlAttributes: { 'aria-label': locale.getConstant('Local Clipboard'), 'aria-pressed': this.container.enableLocalPaste, role: \"button\", 'aria-hidden': 'true' }\n                    });\n                    break;\n                case 'RestrictEditing':\n                    toolbarItems.push({\n                        template: '<button title=\"' + locale.getConstant('Restrict editing') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-de-toolbar-btn-first e-caret-hide\" type=\"button\" id=\"' + id + RESTRICT_EDITING_ID + '\"><span class=\"e-btn-icon e-de-ctnr-lock e-icons e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + this.onWrapText(locale.getConstant('Restrict Editing')) + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n                        htmlAttributes: { 'aria-label': locale.getConstant('Restrict editing') }\n                    });\n                    break;\n                case 'FormFields':\n                    toolbarItems.push({\n                        template: '<button title=\"' + locale.getConstant('Form Fields') + '\" class=\"e-tbar-btn e-tbtn-txt e-control e-btn e-lib e-dropdown-btn e-de-toolbar-btn-first e-caret-hide\" type=\"button\" id=\"' + id + FORM_FIELDS_ID + '\"><span class=\"e-btn-icon e-de-formfield e-icons e-icon-left\"></span><span class=\"e-tbar-btn-text\">' + this.onWrapText(locale.getConstant('Form Fields')) + '</span><span class=\"e-btn-icon e-icons e-icon-right e-caret\"></span></button>',\n                        id: id + FORM_FIELDS_ID,\n                        htmlAttributes: { 'aria-label': locale.getConstant('Form Fields') }\n                    });\n                    break;\n                case 'UpdateFields':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-update-field', tooltipText: locale.getConstant('Update cross reference fields'),\n                        id: id + UPDATE_FIELDS_ID, text: this.onWrapText(locale.getConstant('Update Fields')),\n                        cssClass: className + ' e-de-formfields',\n                        htmlAttributes: { 'aria-label': locale.getConstant('Update cross reference fields') }\n                    });\n                    break;\n                case 'InsertFootnote':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-footnote', tooltipText: locale.getConstant('Footnote Tooltip'),\n                        text: this.onWrapText(locale.getConstant('Insert Footnote')), id: id + FOOTNOTE_ID,\n                        cssClass: className,\n                        htmlAttributes: { 'aria-label': locale.getConstant('Insert Footnote') }\n                    });\n                    break;\n                case 'InsertEndnote':\n                    toolbarItems.push({\n                        prefixIcon: 'e-de-endnote', tooltipText: locale.getConstant('Endnote Tooltip'),\n                        text: this.onWrapText(locale.getConstant('Insert Endnote')), id: id + ENDNOTE_ID,\n                        cssClass: className,\n                        htmlAttributes: { 'aria-label': locale.getConstant('Insert Endnote') }\n                    });\n                    break;\n                default:\n                    //Here we need to process the items\n                    toolbarItems.push(tItem[parseInt(i.toString(), 10)]);\n                    break;\n            }\n        }\n        /* eslint-disable */\n        for (var i = 0; i < toolbarItems.length; i++) {\n            var tabindex = void 0;\n            if (toolbarItems[i].text !== 'Separator') {\n                tabindex = i.toString();\n                toolbarItems[i].htmlattributes = { 'tabindex': tabindex };\n            }\n        }\n        /* eslint-enable */\n        return toolbarItems;\n    };\n    Toolbar.prototype.clickHandler = function (args) {\n        var id = this.container.element.id + TOOLBAR_ID;\n        switch (args.item.id) {\n            case id + NEW_ID:\n                this.container.documentEditor.openBlank();\n                this.documentEditor.focusIn();\n                break;\n            case id + OPEN_ID:\n                this.filePicker.value = '';\n                this.filePicker.click();\n                this.documentEditor.focusIn();\n                break;\n            case id + UNDO_ID:\n                this.container.documentEditor.editorHistoryModule.undo();\n                break;\n            case id + REDO_ID:\n                this.container.documentEditor.editorHistoryModule.redo();\n                break;\n            case id + INSERT_TABLE_ID:\n                this.container.documentEditor.showDialog('Table');\n                break;\n            case id + INSERT_LINK_ID:\n                this.container.documentEditor.showDialog('Hyperlink');\n                break;\n            case id + BOOKMARK_ID:\n                this.container.documentEditor.showDialog('Bookmark');\n                break;\n            case id + COMMENT_ID:\n                this.documentEditor.editorModule.isUserInsert = true;\n                this.documentEditor.editorModule.insertComment('');\n                this.documentEditor.editorModule.isUserInsert = false;\n                break;\n            case id + TRACK_ID:\n                this.toggleTrackChangesInternal(args.item.id);\n                break;\n            case id + HEADER_ID:\n                this.container.documentEditor.selectionModule.goToHeader();\n                this.container.statusBar.toggleWebLayout();\n                break;\n            case id + TABLE_OF_CONTENT_ID:\n                this.onToc();\n                break;\n            case id + FOOTER_ID:\n                this.container.documentEditor.selectionModule.goToFooter();\n                this.container.statusBar.toggleWebLayout();\n                break;\n            // case id + PAGE_SET_UP_ID:\n            //     this.container.documentEditor.showDialog('PageSetup');\n            //     break;\n            case id + PAGE_NUMBER_ID:\n                this.container.documentEditor.editorModule.insertPageNumber();\n                break;\n            case id + FIND_ID:\n                this.container.documentEditor.showOptionsPane();\n                break;\n            case id + CLIPBOARD_ID:\n                this.toggleLocalPaste(args.item.id);\n                break;\n            case id + UPDATE_FIELDS_ID:\n                this.documentEditor.updateFields();\n                break;\n            case id + FOOTNOTE_ID:\n                this.documentEditor.editorModule.insertFootnote();\n                break;\n            case id + ENDNOTE_ID:\n                this.documentEditor.editorModule.insertEndnote();\n                break;\n            default:\n                this.container.trigger(toolbarClickEvent, args);\n                break;\n        }\n        if (args.item.id === id + NEW_ID || args.item.id === id + OPEN_ID || args.item.id === id + UNDO_ID || args.item.id === REDO_ID || args.item.id === id + COMMENT_ID || args.item.id === id + TRACK_ID ||\n            args.item.id === id + HEADER_ID || args.item.id === id + TABLE_OF_CONTENT_ID || args.item.id === id + FOOTER_ID || args.item.id === id + PAGE_NUMBER_ID ||\n            args.item.id === id + CLIPBOARD_ID || args.item.id === id + UPDATE_FIELDS_ID || args.item.id === id + FOOTNOTE_ID || args.item.id === id + ENDNOTE_ID || args.item.id === id + PAGE_SET_UP_ID ||\n            args.item.id === id + BREAK_ID || args.item.id === id + RESTRICT_EDITING_ID || args.item.id === id + FORM_FIELDS_ID) {\n            this.documentEditor.focusIn();\n        }\n    };\n    Toolbar.prototype.toggleLocalPaste = function (id) {\n        this.container.enableLocalPaste = !this.container.enableLocalPaste;\n        this.toggleButton(id, this.container.enableLocalPaste);\n    };\n    Toolbar.prototype.toggleEditing = function () {\n        this.container.restrictEditing = !this.container.restrictEditing;\n        this.container.showPropertiesPane = !this.container.restrictEditing;\n    };\n    /**\n     * @private\n     * @param {boolean} enable - Enable/Disable restrictEditing changes toolbar item.\n     * @returns {void}\n     */\n    Toolbar.prototype.toggleRestrictEditing = function (enable) {\n        var restrictEditingId = this.container.element.id + TOOLBAR_ID + RESTRICT_EDITING_ID;\n        var element = document.getElementById(restrictEditingId);\n        if (element) {\n            this.toggleButton(restrictEditingId, enable);\n        }\n    };\n    Toolbar.prototype.toggleButton = function (id, toggle) {\n        var element = document.getElementById(id);\n        if (toggle) {\n            classList(element, ['e-btn-toggle'], []);\n            element.setAttribute('aria-pressed', 'true');\n        }\n        else {\n            classList(element, [], ['e-btn-toggle']);\n            element.setAttribute('aria-pressed', 'false');\n        }\n    };\n    Toolbar.prototype.toggleTrackChangesInternal = function (id, enable) {\n        if (!isNullOrUndefined(enable)) {\n            this.container.enableTrackChanges = !enable;\n        }\n        this.container.enableTrackChanges = !this.container.enableTrackChanges;\n        this.toggleButton(id, this.container.enableTrackChanges);\n    };\n    Toolbar.prototype.togglePropertiesPane = function () {\n        this.container.showPropertiesPane = !this.container.showPropertiesPane;\n    };\n    Toolbar.prototype.onDropDownButtonSelect = function (args) {\n        var _this = this;\n        var parentId = this.container.element.id + TOOLBAR_ID;\n        var id = args.item.id;\n        if (id === parentId + INSERT_IMAGE_LOCAL_ID) {\n            this.imagePicker.value = '';\n            this.imagePicker.click();\n        }\n        else if (id === parentId + PAGE_SET_UP) {\n            this.container.documentEditor.showDialog('PageSetup');\n        }\n        else if (id === parentId + COLUMNS_ID) {\n            this.container.documentEditor.showDialog('Columns');\n        }\n        else if (id === parentId + INSERT_IMAGE_ONLINE_ID) {\n            // Need to implement image dialog;\n        }\n        else if (id === parentId + READ_ONLY) {\n            this.toggleEditing();\n        }\n        else if (id === parentId + PROTECTIONS) {\n            this.documentEditor.documentHelper.restrictEditingPane.showHideRestrictPane(true);\n        }\n        else if (id === parentId + CHECKBOX) {\n            this.documentEditor.editorModule.insertFormField('CheckBox');\n        }\n        else if (id === parentId + DROPDOWN) {\n            this.documentEditor.editorModule.insertFormField('DropDown');\n        }\n        else if (id === parentId + TEXT_FORM) {\n            this.documentEditor.editorModule.insertFormField('Text');\n        }\n        setTimeout(function () {\n            _this.documentEditor.focusIn();\n        }, 30);\n    };\n    Toolbar.prototype.onFileChange = function () {\n        var _this = this;\n        var file = this.filePicker.files[0];\n        var filesize = file.size;\n        var check;\n        var eventArgs = { fileSize: filesize, isCanceled: check };\n        this.documentEditor.trigger(beforeFileOpenEvent, eventArgs);\n        if (eventArgs.isCanceled) {\n            return;\n        }\n        if (file) {\n            var formatType_1 = file.name.substr(file.name.lastIndexOf('.'));\n            if (formatType_1 === '.sfdt' || formatType_1 === '.txt') {\n                var fileReader_1 = new FileReader();\n                fileReader_1.onload = function () {\n                    if (formatType_1 === '.txt') {\n                        _this.container.documentEditor.documentHelper.openTextFile(fileReader_1.result);\n                    }\n                    else {\n                        /* eslint-disable */\n                        _this.container.documentEditor.open(fileReader_1.result);\n                        /* eslint-enable */\n                    }\n                };\n                fileReader_1.readAsText(file);\n            }\n            else {\n                if (this.isSupportedFormatType(formatType_1.toLowerCase())) {\n                    this.convertToSfdt(file);\n                }\n                else {\n                    var localizeValue = new L10n('documenteditor', this.documentEditor.defaultLocale);\n                    DialogUtility.alert({\n                        content: localizeValue.getConstant('Unsupported format'),\n                        closeOnEscape: true, showCloseIcon: true,\n                        position: { X: 'center', Y: 'center' }\n                    }).enableRtl = this.container.enableRtl;\n                }\n            }\n            this.container.documentEditor.documentName = file.name.substr(0, file.name.lastIndexOf('.'));\n        }\n    };\n    Toolbar.prototype.isSupportedFormatType = function (formatType) {\n        switch (formatType) {\n            case \".dotx\":\n            case \".docx\":\n            case \".docm\":\n            case \".dotm\":\n            case \".dot\":\n            case \".doc\":\n            case \".rtf\":\n            case \".txt\":\n            case \".xml\":\n            case \".html\":\n                return true;\n            default:\n                return false;\n        }\n    };\n    Toolbar.prototype.convertToSfdt = function (file) {\n        showSpinner(this.container.containerTarget);\n        this.importHandler.url = this.container.serviceUrl + this.container.serverActionSettings.import;\n        this.importHandler.onSuccess = this.successHandler.bind(this);\n        this.importHandler.onFailure = this.failureHandler.bind(this);\n        this.importHandler.onError = this.failureHandler.bind(this);\n        this.importHandler.customHeaders = this.container.headers;\n        var httprequestEventArgs = { serverActionType: 'Import', headers: this.container.headers, timeout: 0, cancel: false, withCredentials: false };\n        this.container.trigger(beforeXmlHttpRequestSend, httprequestEventArgs);\n        var formData = new FormData();\n        formData.append('files', file);\n        if (httprequestEventArgs.cancel) {\n            hideSpinner(this.container.containerTarget);\n        }\n        else {\n            this.importHandler.send(formData, httprequestEventArgs);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    Toolbar.prototype.failureHandler = function (args) {\n        if (args.name === 'onError') {\n            DialogUtility.alert({\n                content: this.container.localObj.getConstant('Error in establishing connection with web server'),\n                closeOnEscape: true, showCloseIcon: true,\n                position: { X: 'center', Y: 'center' }\n            }).enableRtl = this.container.enableRtl;\n        }\n        else {\n            alert('Failed to load the file');\n            this.documentEditor.fireServiceFailure(args);\n        }\n        hideSpinner(this.container.containerTarget);\n    };\n    Toolbar.prototype.successHandler = function (result) {\n        /* eslint-disable */\n        this.container.documentEditor.open(result.data);\n        hideSpinner(this.container.containerTarget);\n        /* eslint-enable */\n    };\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n    Toolbar.prototype.onImageChange = function () {\n        var _this = this;\n        var file = this.imagePicker.files[0];\n        var fileReader = new FileReader();\n        fileReader.onload = function () {\n            _this.insertImage(fileReader.result);\n        };\n        fileReader.readAsDataURL(file);\n    };\n    Toolbar.prototype.insertImage = function (data) {\n        var image = document.createElement('img');\n        var container = this.container;\n        image.addEventListener('load', function () {\n            container.documentEditor.editorModule.insertImageInternal(data, true, this.width, this.height, this.alt);\n        });\n        image.src = data;\n    };\n    Toolbar.prototype.enableDisableFormField = function (enable) {\n        var ele = document.getElementById('container_toolbar_form_fields');\n        if (!isNullOrUndefined(ele)) {\n            this.toolbar.enableItems(ele.parentElement, enable);\n        }\n    };\n    /**\n     * @private\n     * @param {boolean} enable - Emable/Disable insert comment toolbar item.\n     * @returns {void}\n     */\n    Toolbar.prototype.enableDisableInsertComment = function (enable) {\n        this.isCommentEditing = !enable;\n        var id = this.container.element.id + TOOLBAR_ID;\n        var commentId = id + COMMENT_ID;\n        var element = document.getElementById(commentId);\n        if (!this.container.enableComment && element) {\n            this.toolbar.removeItems(element.parentElement);\n        }\n        else if (element) {\n            if (!isNullOrUndefined(this.documentEditor) && (this.documentEditor.isReadOnly ||\n                this.documentEditor.documentHelper.isDocumentProtected)) {\n                enable = this.documentEditor.documentHelper.isCommentOnlyMode || !this.documentEditor.isReadOnlyMode;\n            }\n            this.toolbar.enableItems(element.parentElement, enable);\n        }\n    };\n    /**\n     * @private\n     * @param {boolean} enable - Emable/Disable track changes toolbar item.\n     * @returns {void}\n     */\n    Toolbar.prototype.toggleTrackChanges = function (enable) {\n        var trackId = this.container.element.id + TOOLBAR_ID + TRACK_ID;\n        var element = document.getElementById(trackId);\n        if (element) {\n            this.toggleTrackChangesInternal(trackId, enable);\n        }\n    };\n    // /**\n    //  * @private\n    //  */\n    // public enableDisableTrackChanges(enable: boolean): void {\n    //     let id: string = this.container.element.id + TOOLBAR_ID + TRACK_ID;\n    //     if (!isNullOrUndefined(this.documentEditor) && (this.documentEditor.isReadOnly ||\n    //         this.documentEditor.documentHelper.isDocumentProtected)) {\n    //         enable = false;\n    //     }\n    //     this.toggleTrackChanges(id, enable);\n    // }\n    /**\n     * @private\n     * @param {boolean} enable - Enable/Diable toolbar items.\n     * @param {boolean} isProtectedContent - Define whether document is protected.\n     * @returns {void}\n     */\n    Toolbar.prototype.enableDisableToolBarItem = function (enable, isProtectedContent) {\n        var id = this.container.element.id + TOOLBAR_ID;\n        for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            var itemId = item.id;\n            if (itemId !== id + NEW_ID && itemId !== id + OPEN_ID && itemId !== id + FIND_ID &&\n                itemId !== id + CLIPBOARD_ID && itemId !== id + RESTRICT_EDITING_ID\n                && item.type !== 'Separator') {\n                if (enable && this.isCommentEditing && itemId === id + COMMENT_ID) {\n                    continue;\n                }\n                if (itemId !== id + UNDO_ID && itemId !== id + REDO_ID && itemId !== id + INSERT_TABLE_ID &&\n                    itemId !== id + INSERT_LINK_ID && itemId !== id + BOOKMARK_ID && itemId !== id + COMMENT_ID &&\n                    itemId !== id + HEADER_ID && itemId !== id + TABLE_OF_CONTENT_ID && itemId !== id + FOOTER_ID &&\n                    itemId !== id + PAGE_SET_UP_ID && itemId !== id + PAGE_NUMBER_ID && itemId !== id + INSERT_IMAGE_ID\n                    && itemId !== id + FORM_FIELDS_ID && itemId !== id + BREAK_ID && itemId !== id + TRACK_ID\n                    && itemId !== id + FOOTNOTE_ID && itemId !== id + ENDNOTE_ID && itemId !== id + UPDATE_FIELDS_ID) {\n                    continue;\n                }\n                if (isProtectedContent && this.documentEditor.documentHelper.isFormFillProtectedMode && itemId === id + UPDATE_FIELDS_ID) {\n                    continue;\n                }\n                var element = document.getElementById(item.id);\n                if (!isNullOrUndefined(element) && !isNullOrUndefined(element.parentElement)) {\n                    this.toolbar.enableItems(element.parentElement, enable);\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.documentEditor)) {\n            this.enableDisableFormField(!this.documentEditor.enableHeaderAndFooter && enable && !this.documentEditor.isReadOnlyMode);\n        }\n        if (this.documentEditor.selectionModule.isinFootnote || this.documentEditor.selectionModule.isinEndnote || this.documentEditor.enableHeaderAndFooter) {\n            if (this.containsItem(id + ENDNOTE_ID)) {\n                this.toolbar.enableItems(document.getElementById(id + ENDNOTE_ID).parentElement, false);\n            }\n            if (this.containsItem(id + FOOTNOTE_ID)) {\n                this.toolbar.enableItems(document.getElementById(id + FOOTNOTE_ID).parentElement, false);\n            }\n            if (this.containsItem(id + BREAK_ID)) {\n                this.toolbar.enableItems(document.getElementById(id + BREAK_ID).parentElement, false);\n            }\n        }\n        if (!isProtectedContent || this.container.showPropertiesPane) {\n            if (isProtectedContent) {\n                enable = this.container.showPropertiesPane;\n            }\n            classList(this.propertiesPaneButton.element.parentElement, !enable ? ['e-de-overlay'] : [], !enable ? [] : ['e-de-overlay']);\n        }\n        var protectionType = this.documentEditor.documentHelper.protectionType;\n        if (enable || (this.documentEditor.documentHelper.isDocumentProtected &&\n            (protectionType === 'FormFieldsOnly' || protectionType === 'CommentsOnly'))) {\n            this.enableDisableUndoRedo();\n        }\n        if (this.documentEditor.documentHelper.isTrackedOnlyMode && this.containsItem(id + TRACK_ID)) {\n            this.toolbar.enableItems(document.getElementById(id + TRACK_ID).parentElement, false);\n        }\n    };\n    Toolbar.prototype.containsItem = function (id) {\n        for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.id === id) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.enableDisableUndoRedo = function () {\n        var id = this.container.element.id + TOOLBAR_ID;\n        if (this.toolbarItems.indexOf('Undo') >= 0) {\n            var undoElement = document.getElementById(id + UNDO_ID);\n            // We can optimize this condition check to single bool validation instead of array collection.\n            /* eslint-disable-next-line max-len */\n            if (!isNullOrUndefined(undoElement)) {\n                this.toolbar.enableItems(undoElement.parentElement, this.container.documentEditor.editorHistoryModule.canUndo());\n            }\n        }\n        if (this.toolbarItems.indexOf('Redo') >= 0) {\n            var redoElement = document.getElementById(id + REDO_ID);\n            // We can optimize this condition check to single bool validation instead of array collection.\n            /* eslint-disable-next-line max-len */\n            if (!isNullOrUndefined(redoElement)) {\n                this.toolbar.enableItems(redoElement.parentElement, this.container.documentEditor.editorHistoryModule.canRedo());\n            }\n        }\n    };\n    Toolbar.prototype.onToc = function () {\n        if (this.container.previousContext === 'TableOfContents' && this.container.propertiesPaneContainer.style.display === 'none') {\n            this.container.showPropertiesPane = false;\n            this.documentEditor.focusIn();\n            return;\n        }\n        if (this.container.headerFooterProperties.element.style.display === 'block') {\n            this.documentEditor.selectionModule.closeHeaderFooter();\n        }\n        this.enableDisablePropertyPaneButton(false);\n        this.container.showProperties('toc');\n    };\n    /**\n     * @private\n     * @param {boolean} isShow - show/hide property pane.\n     * @returns {void}\n     */\n    Toolbar.prototype.enableDisablePropertyPaneButton = function (isShow) {\n        if (isShow) {\n            classList(this.propertiesPaneButton.element.firstChild, ['e-pane-enabled'], ['e-pane-disabled']);\n        }\n        else {\n            classList(this.propertiesPaneButton.element.firstChild, ['e-pane-disabled'], ['e-pane-enabled']);\n        }\n    };\n    /**\n     * @private\n     * @returns { void }\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.restrictDropDwn) {\n            this.restrictDropDwn.destroy();\n            this.restrictDropDwn = undefined;\n        }\n        if (this.imgDropDwn) {\n            this.imgDropDwn.destroy();\n            this.imgDropDwn = undefined;\n        }\n        if (this.PageSetUpDropDwn) {\n            this.PageSetUpDropDwn.destroy();\n            this.PageSetUpDropDwn = undefined;\n        }\n        if (this.breakDropDwn) {\n            this.breakDropDwn.destroy();\n            this.breakDropDwn = undefined;\n        }\n        if (this.formFieldDropDown) {\n            this.formFieldDropDown.destroy();\n            this.formFieldDropDown = undefined;\n        }\n        if (this.toolbar) {\n            var toolbarElement = this.toolbar.element;\n            this.toolbar.destroy();\n            this.toolbar = undefined;\n            toolbarElement.parentElement.removeChild(toolbarElement);\n        }\n        if (this.container.toolbarContainer) {\n            this.container.containerTarget.removeChild(this.container.toolbarContainer);\n            this.container.toolbarContainer = undefined;\n        }\n        if (this.container.toolbarModule) {\n            this.container.toolbarModule = undefined;\n        }\n        if (this.propertiesPaneButton) {\n            this.propertiesPaneButton.destroy();\n        }\n        if (this.breakListView) {\n            this.breakListView.destroy();\n            this.breakListView = undefined;\n        }\n        this.propertiesPaneButton = undefined;\n        this.toolbarItems = [];\n        this.toolbarItems = undefined;\n        this.container = undefined;\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}