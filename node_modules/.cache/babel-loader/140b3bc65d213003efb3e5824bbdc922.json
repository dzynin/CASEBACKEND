{"ast":null,"code":"import { updateState, updateHighlightStatus } from '../shared/Utility';\nimport { InitialState } from './InitialState';\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_FILE':\n      if (!Array.isArray(action.payload)) action.payload = [action.payload];\n      let Allfiles = [...state.files, ...action.payload];\n      let fileNames = [];\n      let files = Allfiles.filter(file => {\n        if (fileNames.includes(file.name)) return false;\n        fileNames.push(file.name);\n        return true;\n      });\n      return { ...state,\n        files,\n        currentFile: state.currentFile || action.payload[0]\n      };\n\n    case 'AUTH':\n      const auth = {\n        userId: action.payload.userId,\n        authToken: action.payload.auth_token,\n        userPublicId: action.payload.userPublicId,\n        username: action.payload.username,\n        email: action.payload.email,\n        expiry: action.payload.expiry || Date.parse(new Date()) + 29 * 60 * 1000,\n        fname: action.payload.fname,\n        lname: action.payload.lname,\n        city: action.payload.city,\n        country: action.payload.country,\n        organisation: action.payload.organisation\n      };\n      localStorage.setItem(\"authDetails\", JSON.stringify(auth));\n      return updateState(state, {\n        auth: auth\n      });\n\n    case 'LOG_OUT':\n      localStorage.removeItem(\"authDetails\");\n      return InitialState;\n\n    case 'SET_CURR_FILE':\n      return updateState(state, {\n        currentFile: action.payload\n      });\n\n    case 'ALL_POSTS':\n      return updateState(state, {\n        allPosts: action.payload\n      });\n\n    case 'ADD_My_POSTS':\n      return updateState(state, {\n        myPosts: [...state.myPosts, action.payload]\n      });\n\n    case 'FETCH_FILE_HIGHLIGHTS':\n      return updateState(state, {\n        fileHighlights: action.payload\n      });\n\n    case 'SET_FILE_HIGHLIGHTS':\n      let highlights = [];\n\n      if (state.fileHighlights.length > 0) {\n        let fileUpdated = false;\n        highlights = state.fileHighlights.map(singleFile => {\n          if (singleFile.name === action.payload.name) {\n            singleFile.highlights = action.payload.highlights;\n            fileUpdated = true;\n          }\n\n          return singleFile;\n        });\n\n        if (!fileUpdated) {\n          highlights = [...state.fileHighlights, action.payload];\n        }\n      } else {\n        highlights = [action.payload];\n      }\n\n      return updateState(state, {\n        fileHighlights: highlights\n      });\n\n    case 'ERROR':\n      return updateState(state, {\n        error: action.payload\n      });\n\n    case 'MESSAGE':\n      return updateState(state, {\n        message: action.payload\n      });\n\n    case 'SET_SEARCH_QUERY':\n      return updateState(state, {\n        searchQuery: action.payload\n      });\n\n    case 'SET_NODE_DATA':\n      return updateState(state, {\n        nodeData: action.payload\n      });\n\n    case 'SET_GRAPH_DATA':\n      return updateState(state, {\n        graphData: action.payload\n      });\n\n    case 'SET_NODES_DATA':\n      return updateState(state, {\n        nodesData: action.payload\n      });\n\n    case 'CHANGE_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, { ...state.highlightColors,\n          default: action.payload\n        });\n      }\n\n    case 'CHANGE_LEGAL_TEST_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, { ...state.highlightColors,\n          legalTest: action.payload\n        });\n      }\n\n    case 'CHANGE_ISSUE_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, { ...state.highlightColors,\n          issue: action.payload\n        });\n      }\n\n    case 'CHANGE_CONCLUSION_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, { ...state.highlightColors,\n          conclusion: action.payload\n        });\n      }\n\n    case 'SET_MODAL':\n      return updateState(state, {\n        isModalOpen: action.payload\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONT/gptversion/CASEFRONT/src/Reducer/Reducers.js"],"names":["updateState","updateHighlightStatus","InitialState","reducer","state","action","type","Array","isArray","payload","Allfiles","files","fileNames","filter","file","includes","name","push","currentFile","auth","userId","authToken","auth_token","userPublicId","username","email","expiry","Date","parse","fname","lname","city","country","organisation","localStorage","setItem","JSON","stringify","removeItem","allPosts","myPosts","fileHighlights","highlights","length","fileUpdated","map","singleFile","error","message","searchQuery","nodeData","graphData","nodesData","highlightColors","default","legalTest","issue","conclusion","isModalOpen"],"mappings":"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","sourcesContent":["import { updateState, updateHighlightStatus } from '../shared/Utility';\nimport { InitialState } from './InitialState';\n\nexport const reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'ADD_FILE':\n\t\t\tif (!Array.isArray(action.payload)) action.payload = [action.payload];\n\t\t\tlet Allfiles = [...state.files, ...action.payload];\n\t\t\tlet fileNames = [];\n\t\t\tlet files = Allfiles.filter((file) => {\n\t\t\t\tif (fileNames.includes(file.name)) return false;\n\t\t\t\tfileNames.push(file.name);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles,\n\t\t\t\tcurrentFile: state.currentFile || action.payload[0],\n\t\t\t};\n\n\t\tcase 'AUTH':\n\t\t\tconst auth = {\n\t\t\t\tuserId: action.payload.userId,\n\t\t\t\tauthToken: action.payload.auth_token,\n\t\t\t\tuserPublicId: action.payload.userPublicId,\n\t\t\t\tusername: action.payload.username,\n\t\t\t\temail: action.payload.email,\n\t\t\t\texpiry: action.payload.expiry || Date.parse(new Date()) + 29 * 60 * 1000,\n\t\t\t\tfname: action.payload.fname,\n\t\t\t\tlname: action.payload.lname,\n\t\t\t\tcity: action.payload.city,\n\t\t\t\tcountry: action.payload.country,\n\t\t\t\torganisation: action.payload.organisation,\n\t\t\t};\n\t\t\tlocalStorage.setItem(\"authDetails\", JSON.stringify(auth));\n\t\t\treturn updateState(state, { auth: auth });\n\n\t\tcase 'LOG_OUT':\n\t\t\tlocalStorage.removeItem(\"authDetails\")\n\t\t\treturn InitialState;\n\n\t\tcase 'SET_CURR_FILE':\n\t\t\treturn updateState(state, { currentFile: action.payload });\n\t\tcase 'ALL_POSTS':\n\t\t\treturn updateState(state, { allPosts: action.payload });\n\t\tcase 'ADD_My_POSTS':\n\t\t\treturn updateState(state, { myPosts: [...state.myPosts, action.payload] });\n\t\tcase 'FETCH_FILE_HIGHLIGHTS':\n\t\t\treturn updateState(state, { fileHighlights: action.payload });\n\t\tcase 'SET_FILE_HIGHLIGHTS':\n\t\t\tlet highlights = [];\n\t\t\tif (state.fileHighlights.length > 0) {\n\t\t\t\tlet fileUpdated = false;\n\t\t\t\thighlights = state.fileHighlights.map((singleFile) => {\n\t\t\t\t\tif (singleFile.name === action.payload.name) {\n\t\t\t\t\t\tsingleFile.highlights = action.payload.highlights;\n\t\t\t\t\t\tfileUpdated = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn singleFile;\n\t\t\t\t});\n\t\t\t\tif (!fileUpdated) {\n\t\t\t\t\thighlights = [...state.fileHighlights, action.payload];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thighlights = [action.payload];\n\t\t\t}\n\t\t\treturn updateState(state, { fileHighlights: highlights });\n\t\tcase 'ERROR':\n\t\t\treturn updateState(state, { error: action.payload });\n\t\tcase 'MESSAGE':\n\t\t\treturn updateState(state, { message: action.payload });\n\t\tcase 'SET_SEARCH_QUERY':\n\t\t\treturn updateState(state, { searchQuery: action.payload });\n\t\tcase 'SET_NODE_DATA':\n\t\t\treturn updateState(state, { nodeData: action.payload });\n\t\tcase 'SET_GRAPH_DATA':\n\t\t\treturn updateState(state, { graphData: action.payload });\n\t\tcase 'SET_NODES_DATA':\n\t\t\treturn updateState(state, { nodesData: action.payload });\n\t\tcase 'CHANGE_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, default: action.payload });\n\t\t}\n\t\tcase 'CHANGE_LEGAL_TEST_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, legalTest: action.payload });\n\t\t}\n\t\tcase 'CHANGE_ISSUE_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, issue: action.payload })\n\t\t}\n\t\tcase 'CHANGE_CONCLUSION_HIGHLIGHT_COLOR': {\n\t\t\treturn updateHighlightStatus(state, { ...state.highlightColors, conclusion: action.payload })\n\t\t}\n\t\tcase 'SET_MODAL':\n\t\t\treturn updateState(state, { isModalOpen: action.payload });\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};"]},"metadata":{},"sourceType":"module"}