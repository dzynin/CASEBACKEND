{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileMetadataViewer.js\";\nimport React, { useContext } from 'react';\nimport { Table, Button } from 'reactstrap';\nimport { UserContext } from '../App';\nimport FileViewerButton from './FileViewerButton';\nimport { fetchAndSetFileHighlights } from \"../utils/setPdfHighlights\";\nimport { BASE_URL_DEV } from \"../utils\";\nfunction FileMetadataViewer({\n  files,\n  sideItemsClick\n}) {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const handleInspect = async file => {\n    console.log(\"Inspecting file:\", file);\n    await fetchAndSetFileHighlights(dispatch, state, file, () => {});\n    console.log(\"Finished fetching and setting highlights for file:\", file);\n    const updatedFile = {\n      ...file,\n      url: `${BASE_URL_DEV}/uploads/${state.auth.userPublicId}/${file.name}`\n    };\n    const justFilename = file.name;\n    dispatch({\n      type: 'SET_CURR_FILE',\n      payload: justFilename\n    });\n    console.log(\"Dispatched SET_CURR_FILE with payload:\", justFilename);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-metadata-viewer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, \"Uploaded Files\"), /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    bordered: true,\n    className: \"custom-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  }, \"File Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }, \"File Size\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 25\n    }\n  }, \"Upload Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, \"Summary\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, \"Inspect\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, \"PDF View\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, files.map((file, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, file.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, (file.size / 1024).toFixed(2), \" KB\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, new Date().toLocaleDateString()), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, file.category), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, file.summary), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => handleInspect(file),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }\n  }, \"Inspect\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FileViewerButton, {\n    file: justFilename,\n    sideItemsClick: sideItemsClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  })))))));\n}\nexport default FileMetadataViewer;","map":{"version":3,"names":["React","useContext","Table","Button","UserContext","FileViewerButton","fetchAndSetFileHighlights","BASE_URL_DEV","FileMetadataViewer","files","sideItemsClick","state","dispatch","handleInspect","file","console","log","updatedFile","url","auth","userPublicId","name","justFilename","type","payload","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","responsive","bordered","map","index","key","size","toFixed","Date","toLocaleDateString","category","summary","color","onClick"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileMetadataViewer.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Table, Button } from 'reactstrap';\nimport { UserContext } from '../App';\nimport FileViewerButton from './FileViewerButton';\nimport { fetchAndSetFileHighlights } from \"../utils/setPdfHighlights\";\nimport { BASE_URL_DEV } from \"../utils\";\n\nfunction FileMetadataViewer({ files, sideItemsClick }) {\n    const { state, dispatch } = useContext(UserContext);\n\n    const handleInspect = async (file) => {\n        console.log(\"Inspecting file:\", file);\n\n        await fetchAndSetFileHighlights(dispatch, state, file, () => {});\n        console.log(\"Finished fetching and setting highlights for file:\", file);\n\n        const updatedFile = {\n            ...file,\n            url: `${BASE_URL_DEV}/uploads/${state.auth.userPublicId}/${file.name}`\n        };\n\n        const justFilename = file.name;\n        dispatch({ type: 'SET_CURR_FILE', payload: justFilename });\n        console.log(\"Dispatched SET_CURR_FILE with payload:\", justFilename);\n    };\n\n    return (\n        <div className=\"file-metadata-viewer\">\n            <h2>Uploaded Files</h2>\n            <Table responsive bordered className=\"custom-table\">\n                <thead>\n                    <tr>\n                        <th>File Name</th>\n                        <th>File Size</th>\n                        <th>Upload Date</th>\n                        <th>Category</th>\n                        <th>Summary</th>\n                        <th>Inspect</th>\n                        <th>PDF View</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {files.map((file, index) => (\n                        <tr key={index}>\n                            <td>{file.name}</td>\n                            <td>{(file.size / 1024).toFixed(2)} KB</td>\n                            <td>{new Date().toLocaleDateString()}</td>\n                            <td>{file.category}</td>\n                            <td>{file.summary}</td>\n                            <td>\n                                <Button color=\"primary\" onClick={() => handleInspect(file)}>Inspect</Button>\n                            </td>\n                            <td>\n                                <FileViewerButton file={justFilename} sideItemsClick={sideItemsClick} />\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </Table>\n        </div>\n    );\n}\n\nexport default FileMetadataViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}