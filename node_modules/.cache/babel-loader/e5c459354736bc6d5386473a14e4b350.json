{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileUploadComponent.js\";\nimport React, { useContext, useState } from \"react\";\nimport { Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"reactstrap\";\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\nconst async = require('async');\nfunction FileUploadComponent(props) {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [file, setFile] = useState([]);\n  let existsFileName = [];\n  // const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\n  // const [uploadedResponse, setUploadedResponse] = useState(\"\");\n\n  async function _handleSubmit(e) {\n    e.preventDefault();\n    if (!file) return null;\n    console.log(\"existsFileName\", existsFileName);\n    if (existsFileName.length > 0) {\n      alert(\"File is already Exists\", existsFileName);\n    } else {\n      //dispatch({ type: \"ADD_FILE\", payload: file });\n      const data = new FormData();\n      //data.append(\"file\", file);\n      for (const key of Object.keys(file)) {\n        data.append('file', file[key]);\n      }\n      setIsLoading(true);\n      await axios.post(`${BASE_URL_DEV}/upload/file`, data, {\n        headers: {\n          'x-access-token': state.auth && state.auth.authToken\n        }\n      }).then(function (response) {\n        if (response.data) {\n          var data = file;\n          dispatch({\n            type: \"MESSAGE\",\n            payload: response.data.message\n          });\n          try {\n            async.eachSeries(data, function (element, cbBatch) {\n              axios.get(`${BASE_URL_DEV}/highlights-json/${state.auth && state.auth.userPublicId}/${element.name}`, {\n                headers: {\n                  'x-access-token': state.auth && state.auth.authToken\n                }\n              }).then(function (result) {\n                const fileHighlights = result.data;\n                dispatch({\n                  type: \"SET_CURR_FILE\",\n                  payload: file[0]\n                });\n                setFile([]);\n                if (fileHighlights && fileHighlights.highlights) {\n                  dispatch({\n                    type: \"SET_FILE_HIGHLIGHTS\",\n                    payload: fileHighlights.highlights\n                  });\n                }\n                cbBatch(null);\n              });\n            }, loopErrBatch => {\n              console.log(loopErrBatch);\n              (async () => {\n                const result = await axios(`${BASE_URL_DEV}/get/files`, {\n                  headers: {\n                    \"x-access-token\": state.auth && state.auth.authToken\n                  }\n                });\n                const files = result.data && result.data.files;\n                console.log(\"resultresultresultresult\", result);\n                if (result && files && files.length > 0) {\n                  const results = await axios(`${BASE_URL_DEV}/get-graphdata`, {\n                    headers: {\n                      \"x-access-token\": state.auth && state.auth.authToken\n                    }\n                  });\n                  const allgraphs = results.data;\n                  let Obj = {};\n                  let _id = \"\";\n                  results && allgraphs && allgraphs.graphdata && allgraphs.graphdata.length > 0 && allgraphs.graphdata.filter(x => {\n                    _id = x.fileName;\n                    Obj[_id] = x.links.filter(e => e.source == \"CITATION\" || e.source == \"PROVISION\");\n                  });\n                  var fileNew = files;\n                  fileNew.forEach(element => {\n                    element[\"CITATION\"] = Obj && Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source == \"CITATION\") : [\"N/A\"];\n                    element[\"PROVISION\"] = Obj && Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source == \"PROVISION\") : [\"N/A\"];\n                  });\n                  setIsLoading(false);\n                  dispatch({\n                    type: \"ADD_FILE\",\n                    payload: fileNew\n                  });\n                  dispatch({\n                    type: \"SET_MODAL\",\n                    payload: true\n                  });\n                }\n              })();\n              console.log(\"All Batch Completed\");\n            });\n          } catch (error) {\n            console.log(\"error :--- \", error);\n          }\n        }\n      }).catch(function (error) {\n        console.log(error);\n        if (error && error.response) {\n          dispatch({\n            type: \"ERROR\",\n            payload: error.response.statusText || 'File Upload Failed!!'\n          });\n        }\n      });\n    }\n    // let uploadedFile = {\n    //   lastModified: file.lastModified,\n    //   lastModifiedDate: new Date(file.lastModifiedDate),\n    //   name: file.name,\n    //   size: file.size,\n    //   type: file.type,\n    // };\n  }\n  function _handleImageChange(e) {\n    e.preventDefault();\n    let newfile = [];\n    let file = e.target.files;\n    //console.log(file[0]);\n    for (let i = 0; i < file.length; i++) {\n      let existFile = state.files.filter(e => e.name == file[i].name);\n      if (existFile.length != 0) {\n        alert(`${existFile[0].name} is already Exists`);\n      } else {\n        let reader = new FileReader();\n        newfile.push(file[i]);\n        reader.readAsDataURL(file[i]);\n        reader.onload = () => {\n          setFile(newfile);\n        };\n      }\n    }\n  }\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"previewComponent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => _handleSubmit(e),\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    className: \"custom-file-input\"\n    //id=\"inputGroupFile01\"\n    ,\n    multiple: \"multiple\",\n    onChange: e => _handleImageChange(e),\n    \"aria-describedby\": \"inputGroupFileAddon01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      color: '#c7c7c7'\n    },\n    className: \"custom-file-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 8\n    }\n  }, file.length === 0 ? 'Choose file' : file.length + ' files selected'))), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-md submitButton\",\n    color: \"success\",\n    type: \"submit\",\n    onClick: e => _handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 6\n    }\n  }, \"Upload\"), isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }) : null)));\n}\nexport default FileUploadComponent;","map":{"version":3,"names":["React","useContext","useState","Fragment","axios","Button","UserContext","BASE_URL_DEV","async","require","FileUploadComponent","props","state","dispatch","isLoading","setIsLoading","file","setFile","existsFileName","_handleSubmit","e","preventDefault","console","log","length","alert","data","FormData","key","Object","keys","append","post","headers","auth","authToken","then","response","type","payload","message","eachSeries","element","cbBatch","get","userPublicId","name","result","fileHighlights","highlights","loopErrBatch","files","results","allgraphs","Obj","_id","graphdata","filter","x","fileName","links","source","fileNew","forEach","error","catch","statusText","_handleImageChange","newfile","target","i","existFile","reader","FileReader","push","readAsDataURL","onload","createElement","__self","__source","_jsxFileName","lineNumber","columnNumber","className","onSubmit","encType","multiple","onChange","style","color","onClick"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileUploadComponent.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { Fragment } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"reactstrap\";\r\nimport { UserContext } from \"../App\";\r\nimport { BASE_URL_DEV } from \"../utils\";\r\nconst async = require('async')\r\n\r\nfunction FileUploadComponent(props) {\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst [file, setFile] = useState([]);\r\n\tlet existsFileName = [];\r\n\t// const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\r\n\t// const [uploadedResponse, setUploadedResponse] = useState(\"\");\r\n\r\n\tasync function _handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tif (!file) return null;\r\n\t\tconsole.log(\"existsFileName\", existsFileName);\r\n\t\tif (existsFileName.length > 0) {\r\n\t\t\talert(\"File is already Exists\", existsFileName);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//dispatch({ type: \"ADD_FILE\", payload: file });\r\n\t\t\tconst data = new FormData();\r\n\t\t\t//data.append(\"file\", file);\r\n\t\t\tfor (const key of Object.keys(file)) {\r\n\t\t\t\tdata.append('file', file[key])\r\n\t\t\t}\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tawait axios\r\n\t\t\t\t.post(`${BASE_URL_DEV}/upload/file`, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'x-access-token': state.auth && state.auth.authToken,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(function (response) {\r\n\r\n\t\t\t\t\tif (response.data) {\r\n\t\t\t\t\t\tvar data = file\r\n\t\t\t\t\t\tdispatch({ type: \"MESSAGE\", payload: response.data.message });\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tasync.eachSeries(data, function (element, cbBatch) {\r\n\t\t\t\t\t\t\t\taxios.get(`${BASE_URL_DEV}/highlights-json/${state.auth && state.auth.userPublicId\r\n\t\t\t\t\t\t\t\t\t}/${element.name}`, {\r\n\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t'x-access-token': state.auth && state.auth.authToken,\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.then(function (result) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst fileHighlights = result.data;\r\n\t\t\t\t\t\t\t\t\t\tdispatch({ type: \"SET_CURR_FILE\", payload: file[0] });\r\n\t\t\t\t\t\t\t\t\t\tsetFile([]);\r\n\t\t\t\t\t\t\t\t\t\tif (fileHighlights && fileHighlights.highlights) {\r\n\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"SET_FILE_HIGHLIGHTS\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tpayload: fileHighlights.highlights,\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tcbBatch(null);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t}, (loopErrBatch) => {\r\n\r\n\t\t\t\t\t\t\t\tconsole.log(loopErrBatch);\r\n\t\t\t\t\t\t\t\t(async () => {\r\n\t\t\t\t\t\t\t\t\tconst result = await axios(`${BASE_URL_DEV}/get/files`, {\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t\"x-access-token\": state.auth && state.auth.authToken,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tconst files = result.data && result.data.files;\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"resultresultresultresult\", result)\r\n\t\t\t\t\t\t\t\t\tif (result && files && files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\tconst results = await axios(`${BASE_URL_DEV}/get-graphdata`, {\r\n\t\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"x-access-token\": state.auth && state.auth.authToken,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tconst allgraphs = results.data;\r\n\t\t\t\t\t\t\t\t\t\tlet Obj = {};\r\n\t\t\t\t\t\t\t\t\t\tlet _id = \"\";\r\n\r\n\t\t\t\t\t\t\t\t\t\tresults && allgraphs && allgraphs.graphdata && allgraphs.graphdata.length > 0 && allgraphs.graphdata.filter(x => {\r\n\t\t\t\t\t\t\t\t\t\t\t_id = x.fileName\r\n\t\t\t\t\t\t\t\t\t\t\tObj[_id] = x.links.filter(e => e.source == \"CITATION\" || e.source == \"PROVISION\")\r\n\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tvar fileNew = files\r\n\t\t\t\t\t\t\t\t\t\tfileNew.forEach(element => {\r\n\t\t\t\t\t\t\t\t\t\t\telement[\"CITATION\"] = Obj && Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source == \"CITATION\") : [\"N/A\"]\r\n\t\t\t\t\t\t\t\t\t\t\telement[\"PROVISION\"] = Obj && Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source == \"PROVISION\") : [\"N/A\"]\r\n\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t\t\t\t\t\t\tdispatch({ type: \"ADD_FILE\", payload: fileNew });\r\n\t\t\t\t\t\t\t\t\t\tdispatch({ type: \"SET_MODAL\", payload: true });\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t})();\r\n\t\t\t\t\t\t\t\tconsole.log(\"All Batch Completed\");\r\n\t\t\t\t\t\t\t});\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.log(\"error :--- \", error)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\r\n\t\t\t\t\tif (error && error.response) {\r\n\t\t\t\t\t\tdispatch({ type: \"ERROR\", payload: error.response.statusText || 'File Upload Failed!!' });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t// let uploadedFile = {\r\n\t\t//   lastModified: file.lastModified,\r\n\t\t//   lastModifiedDate: new Date(file.lastModifiedDate),\r\n\t\t//   name: file.name,\r\n\t\t//   size: file.size,\r\n\t\t//   type: file.type,\r\n\t\t// };\r\n\r\n\t}\r\n\r\n\tfunction _handleImageChange(e) {\r\n\t\te.preventDefault();\r\n\t\tlet newfile = [];\r\n\t\tlet file = e.target.files;\r\n\t\t//console.log(file[0]);\r\n\t\tfor (let i = 0; i < file.length; i++) {\r\n\t\t\tlet existFile = state.files.filter(e => e.name == file[i].name);\r\n\r\n\t\t\tif (existFile.length != 0) {\r\n\t\t\t\talert(`${existFile[0].name} is already Exists`)\r\n\t\t\t} else {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\tnewfile.push(file[i]);\r\n\t\t\t\treader.readAsDataURL(file[i])\r\n\r\n\t\t\t\treader.onload = () => {\r\n\t\t\t\t\tsetFile(newfile);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div className=\"previewComponent\">\r\n\t\t\t\t<form onSubmit={(e) => _handleSubmit(e)} encType=\"multipart/form-data\">\r\n\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t<div className=\"custom-file\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\tname=\"file\"\r\n\t\t\t\t\t\t\t\tclassName=\"custom-file-input\"\r\n\t\t\t\t\t\t\t\t//id=\"inputGroupFile01\"\r\n\t\t\t\t\t\t\t\tmultiple=\"multiple\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => _handleImageChange(e)}\r\n\t\t\t\t\t\t\t\taria-describedby=\"inputGroupFileAddon01\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label style={{ color: '#c7c7c7' }} className=\"custom-file-label\" >\r\n\t\t\t\t\t\t\t\t{file.length === 0 ? 'Choose file' : file.length + ' files selected'}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn btn-md submitButton\"\r\n\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tonClick={(e) => _handleSubmit(e)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUpload\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t<div className=\"loading\"></div>\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default FileUploadComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}