{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js\";\n// FileViewer.js\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport \"../style/resizable.css\";\nfunction FileViewer() {\n  var _displayHighlight$com, _displayHighlight$con, _displayHighlight$con2, _displayHighlight$pos;\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 250\n  });\n  const [selectPdf, setSelectPdf] = useState(false);\n  const [show, setShow] = useState(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      console.log(\"Loading highlights for:\", state.currentFile.name);\n      const newHighlights = state.fileHighlights.filter(hl => hl.name === state.currentFile.name && hl.comment && hl.comment.text !== \"OTHER\");\n      setHighlights(newHighlights);\n      setCurrentHighlightIndex(0); // Reset index whenever file changes\n    } else {\n      setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n  const nextHighlight = () => {\n    if (highlights.length > 1) {\n      setCurrentHighlightIndex(prevIndex => (prevIndex + 1) % highlights.length);\n    }\n  };\n  const prevHighlight = () => {\n    if (highlights.length > 1) {\n      setCurrentHighlightIndex(prevIndex => (prevIndex - 1 + highlights.length) % highlights.length);\n    }\n  };\n  const displayHighlight = highlights[currentHighlightIndex] || {};\n  return /*#__PURE__*/React.createElement(Resizable, {\n    className: \"box\",\n    height: dimensions.height,\n    width: dimensions.width,\n    onResize: (e, {\n      size\n    }) => setDimensions(size),\n    resizeHandles: [\"e\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarnew\",\n    style: {\n      height: dimensions.height,\n      overflowY: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Highlights\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 14\n    }\n  }, \"To create area highlight hold \\u2325 Option key (Alt), then click and drag.\"))), highlights.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, processMd((_displayHighlight$com = displayHighlight.comment) === null || _displayHighlight$com === void 0 ? void 0 : _displayHighlight$com.text)), ((_displayHighlight$con = displayHighlight.content) === null || _displayHighlight$con === void 0 ? void 0 : _displayHighlight$con.text) && /*#__PURE__*/React.createElement(\"blockquote\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, `${displayHighlight.content.text.slice(0, 90).trim()}…`), ((_displayHighlight$con2 = displayHighlight.content) === null || _displayHighlight$con2 === void 0 ? void 0 : _displayHighlight$con2.image) && /*#__PURE__*/React.createElement(\"img\", {\n    src: displayHighlight.content.image,\n    alt: \"Highlight\",\n    style: {\n      maxWidth: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"Page \", (_displayHighlight$pos = displayHighlight.position) === null || _displayHighlight$pos === void 0 ? void 0 : _displayHighlight$pos.pageNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: prevHighlight,\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: nextHighlight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"No Highlights Available for Selected Pdf!\")));\n}\nexport default FileViewer;","map":{"version":3,"names":["React","useContext","useState","useEffect","Modal","Button","UserContext","Resizable","processMd","axios","FontAwesomeIcon","faPlus","faChevronLeft","faChevronRight","FileViewer","_displayHighlight$com","_displayHighlight$con","_displayHighlight$con2","_displayHighlight$pos","state","dispatch","highlights","setHighlights","currentHighlightIndex","setCurrentHighlightIndex","dimensions","setDimensions","height","width","selectPdf","setSelectPdf","show","setShow","currentFile","console","log","name","newHighlights","fileHighlights","filter","hl","comment","text","nextHighlight","length","prevIndex","prevHighlight","displayHighlight","createElement","className","onResize","e","size","resizeHandles","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","overflowY","padding","Fragment","content","slice","trim","image","src","alt","maxWidth","position","pageNumber","onClick","icon"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js"],"sourcesContent":["// FileViewer.js\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nimport \"../style/resizable.css\";\n\nfunction FileViewer() {\n  const { state, dispatch } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [dimensions, setDimensions] = useState({ height: 720, width: 250 });\n  const [selectPdf, setSelectPdf] = useState(false);\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    if (state.currentFile) {\n      console.log(\"Loading highlights for:\", state.currentFile.name);\n      const newHighlights = state.fileHighlights.filter(hl => \n        hl.name === state.currentFile.name && hl.comment && hl.comment.text !== \"OTHER\"\n      );\n      setHighlights(newHighlights);\n      setCurrentHighlightIndex(0); // Reset index whenever file changes\n    } else {\n      setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n\n  const nextHighlight = () => {\n    if (highlights.length > 1) {\n      setCurrentHighlightIndex((prevIndex) => (prevIndex + 1) % highlights.length);\n    }\n  };\n\n  const prevHighlight = () => {\n    if (highlights.length > 1) {\n      setCurrentHighlightIndex((prevIndex) => (prevIndex - 1 + highlights.length) % highlights.length);\n    }\n  };\n\n  const displayHighlight = highlights[currentHighlightIndex] || {};\n\n  return (\n    <Resizable\n      className=\"box\"\n      height={dimensions.height}\n      width={dimensions.width}\n      onResize={(e, { size }) => setDimensions(size)}\n      resizeHandles={[\"e\"]}\n    >\n      <div className=\"sidebarnew\" style={{ height: dimensions.height, overflowY: \"auto\" }}>\n        <div className=\"description\" style={{ padding: \"1rem\" }}>\n          <h2>Highlights</h2>\n          <p><small>To create area highlight hold ⌥ Option key (Alt), then click and drag.</small></p>\n        </div>\n        {highlights.length > 0 ? (\n          <>\n            <div className=\"highlight\">\n              <strong>{processMd(displayHighlight.comment?.text)}</strong>\n              {displayHighlight.content?.text && (\n                <blockquote>{`${displayHighlight.content.text.slice(0, 90).trim()}…`}</blockquote>\n              )}\n              {displayHighlight.content?.image && (\n                <img src={displayHighlight.content.image} alt=\"Highlight\" style={{ maxWidth: \"100%\" }} />\n              )}\n              <p>Page {displayHighlight.position?.pageNumber}</p>\n            </div>\n            <div className=\"navigation\">\n              <Button onClick={prevHighlight} className=\"mr-2\">\n                <FontAwesomeIcon icon={faChevronLeft} />\n              </Button>\n              <Button onClick={nextHighlight}>\n                <FontAwesomeIcon icon={faChevronRight} />\n              </Button>\n            </div>\n          </>\n        ) : (\n          <p>No Highlights Available for Selected Pdf!</p>\n        )}\n      </div>\n    </Resizable>\n  );\n}\n\nexport default FileViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}