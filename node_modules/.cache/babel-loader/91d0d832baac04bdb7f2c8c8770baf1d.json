{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport React, { Component } from \"react\";\nimport \"../style/MouseSelection.css\";\nclass MouseSelection extends Component {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"state\", {\n      locked: false,\n      start: null,\n      end: null\n    });\n    _defineProperty(this, \"root\", void 0);\n    _defineProperty(this, \"reset\", () => {\n      const {\n        onDragEnd\n      } = this.props;\n      onDragEnd();\n      this.setState({\n        start: null,\n        end: null,\n        locked: false\n      });\n    });\n  }\n  getBoundingRect(start, end) {\n    return {\n      left: Math.min(end.x, start.x),\n      top: Math.min(end.y, start.y),\n      width: Math.abs(end.x - start.x),\n      height: Math.abs(end.y - start.y)\n    };\n  }\n  componentDidUpdate() {\n    const {\n      onChange\n    } = this.props;\n    const {\n      start,\n      end\n    } = this.state;\n    const isVisible = Boolean(start && end);\n    onChange(isVisible);\n  }\n  componentDidMount() {\n    if (!this.root) {\n      return;\n    }\n    const that = this;\n    const {\n      onSelection,\n      onDragStart,\n      onDragEnd,\n      shouldStart\n    } = this.props;\n    const container = this.root.parentElement;\n    if (!(container instanceof HTMLElement)) {\n      return;\n    }\n    let containerBoundingRect = null;\n    const containerCoords = (pageX, pageY) => {\n      if (!containerBoundingRect) {\n        containerBoundingRect = container.getBoundingClientRect();\n      }\n      return {\n        x: pageX - containerBoundingRect.left + container.scrollLeft,\n        y: pageY - containerBoundingRect.top + container.scrollTop\n      };\n    };\n    container.addEventListener(\"mousemove\", event => {\n      const {\n        start,\n        locked\n      } = this.state;\n      if (!start || locked) {\n        return;\n      }\n      that.setState({\n        ...this.state,\n        end: containerCoords(event.pageX, event.pageY)\n      });\n    });\n    container.addEventListener(\"mousedown\", event => {\n      if (!shouldStart(event)) {\n        this.reset();\n        return;\n      }\n      const startTarget = event.target;\n      if (!(startTarget instanceof HTMLElement)) {\n        return;\n      }\n      onDragStart();\n      this.setState({\n        start: containerCoords(event.pageX, event.pageY),\n        end: null,\n        locked: false\n      });\n      const onMouseUp = event => {\n        // emulate listen once\n        event.currentTarget.removeEventListener(\"mouseup\", onMouseUp);\n        const {\n          start\n        } = this.state;\n        if (!start) {\n          return;\n        }\n        const end = containerCoords(event.pageX, event.pageY);\n        const boundingRect = that.getBoundingRect(start, end);\n        if (!(event.target instanceof HTMLElement) || !container.contains(event.target) || !that.shouldRender(boundingRect)) {\n          that.reset();\n          return;\n        }\n        that.setState({\n          end,\n          locked: true\n        }, () => {\n          const {\n            start,\n            end\n          } = that.state;\n          if (!start || !end) {\n            return;\n          }\n          if (event.target instanceof HTMLElement) {\n            onSelection(startTarget, boundingRect, that.reset);\n            onDragEnd();\n          }\n        });\n      };\n      if (document.body) {\n        document.body.addEventListener(\"mouseup\", onMouseUp);\n      }\n    });\n  }\n  shouldRender(boundingRect) {\n    return boundingRect.width >= 1 && boundingRect.height >= 1;\n  }\n  render() {\n    const {\n      start,\n      end\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"MouseSelection-container\",\n      ref: node => this.root = node\n    }, start && end ? React.createElement(\"div\", {\n      className: \"MouseSelection\",\n      style: this.getBoundingRect(start, end)\n    }) : null);\n  }\n}\nexport default MouseSelection;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","React","Component","MouseSelection","constructor","args","locked","start","end","onDragEnd","props","setState","getBoundingRect","left","Math","min","x","top","y","width","abs","height","componentDidUpdate","onChange","state","isVisible","Boolean","componentDidMount","root","that","onSelection","onDragStart","shouldStart","container","parentElement","HTMLElement","containerBoundingRect","containerCoords","pageX","pageY","getBoundingClientRect","scrollLeft","scrollTop","addEventListener","event","reset","startTarget","target","onMouseUp","currentTarget","removeEventListener","boundingRect","contains","shouldRender","document","body","render","createElement","className","ref","node","style"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/react-pdf-highlighter/build/components/MouseSelection.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport \"../style/MouseSelection.css\";\n\nclass MouseSelection extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      locked: false,\n      start: null,\n      end: null\n    });\n\n    _defineProperty(this, \"root\", void 0);\n\n    _defineProperty(this, \"reset\", () => {\n      const {\n        onDragEnd\n      } = this.props;\n      onDragEnd();\n      this.setState({\n        start: null,\n        end: null,\n        locked: false\n      });\n    });\n  }\n\n  getBoundingRect(start, end) {\n    return {\n      left: Math.min(end.x, start.x),\n      top: Math.min(end.y, start.y),\n      width: Math.abs(end.x - start.x),\n      height: Math.abs(end.y - start.y)\n    };\n  }\n\n  componentDidUpdate() {\n    const {\n      onChange\n    } = this.props;\n    const {\n      start,\n      end\n    } = this.state;\n    const isVisible = Boolean(start && end);\n    onChange(isVisible);\n  }\n\n  componentDidMount() {\n    if (!this.root) {\n      return;\n    }\n\n    const that = this;\n    const {\n      onSelection,\n      onDragStart,\n      onDragEnd,\n      shouldStart\n    } = this.props;\n    const container = this.root.parentElement;\n\n    if (!(container instanceof HTMLElement)) {\n      return;\n    }\n\n    let containerBoundingRect = null;\n\n    const containerCoords = (pageX, pageY) => {\n      if (!containerBoundingRect) {\n        containerBoundingRect = container.getBoundingClientRect();\n      }\n\n      return {\n        x: pageX - containerBoundingRect.left + container.scrollLeft,\n        y: pageY - containerBoundingRect.top + container.scrollTop\n      };\n    };\n\n    container.addEventListener(\"mousemove\", event => {\n      const {\n        start,\n        locked\n      } = this.state;\n\n      if (!start || locked) {\n        return;\n      }\n\n      that.setState({ ...this.state,\n        end: containerCoords(event.pageX, event.pageY)\n      });\n    });\n    container.addEventListener(\"mousedown\", event => {\n      if (!shouldStart(event)) {\n        this.reset();\n        return;\n      }\n\n      const startTarget = event.target;\n\n      if (!(startTarget instanceof HTMLElement)) {\n        return;\n      }\n\n      onDragStart();\n      this.setState({\n        start: containerCoords(event.pageX, event.pageY),\n        end: null,\n        locked: false\n      });\n\n      const onMouseUp = event => {\n        // emulate listen once\n        event.currentTarget.removeEventListener(\"mouseup\", onMouseUp);\n        const {\n          start\n        } = this.state;\n\n        if (!start) {\n          return;\n        }\n\n        const end = containerCoords(event.pageX, event.pageY);\n        const boundingRect = that.getBoundingRect(start, end);\n\n        if (!(event.target instanceof HTMLElement) || !container.contains(event.target) || !that.shouldRender(boundingRect)) {\n          that.reset();\n          return;\n        }\n\n        that.setState({\n          end,\n          locked: true\n        }, () => {\n          const {\n            start,\n            end\n          } = that.state;\n\n          if (!start || !end) {\n            return;\n          }\n\n          if (event.target instanceof HTMLElement) {\n            onSelection(startTarget, boundingRect, that.reset);\n            onDragEnd();\n          }\n        });\n      };\n\n      if (document.body) {\n        document.body.addEventListener(\"mouseup\", onMouseUp);\n      }\n    });\n  }\n\n  shouldRender(boundingRect) {\n    return boundingRect.width >= 1 && boundingRect.height >= 1;\n  }\n\n  render() {\n    const {\n      start,\n      end\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"MouseSelection-container\",\n      ref: node => this.root = node\n    }, start && end ? React.createElement(\"div\", {\n      className: \"MouseSelection\",\n      style: this.getBoundingRect(start, end)\n    }) : null);\n  }\n\n}\n\nexport default MouseSelection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}