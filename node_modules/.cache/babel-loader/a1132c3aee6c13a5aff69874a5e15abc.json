{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/shared/Highlight.js\";\nimport React, { useState, useEffect } from \"react\";\nimport processMd from \"../Dashboard/markdown\";\nimport axios from \"axios\";\nconst updateHash = highlight => {\n  document.location.hash = `highlight-${highlight.id}`;\n};\nfunction Highlight(props) {\n  const [state, setState] = useState({\n    highlights: []\n  });\n  const [PdfUrl, setPdfUrl] = useState({\n    url: \"\"\n  });\n  useEffect(() => {\n    async function fetchData() {\n      const result_json = await axios(\"http://127.0.0.1:8000/api/v1/json\");\n      const pdf_name = Object.keys(result_json.data)[0];\n      setPdfUrl({\n        url: `http://127.0.0.1:8000/api/v1/pdf/${pdf_name}`\n      });\n      setState({\n        highlights: result_json.data[pdf_name]\n      });\n    }\n    fetchData();\n  }, []);\n  const deleteHighlight = index => {\n    const highlights = state.highlights.filter((highlight, idx) => index !== idx ? highlight : null);\n    setState({\n      highlights\n    });\n  };\n  const {\n    highlights\n  } = state;\n  const resetHighlights = () => {\n    setState({\n      highlights: []\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarnew\",\n    style: {\n      width: \"25vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      marginBottom: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"Highlights\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }, \"To create area highlight hold \\u2325 Option key (Alt), then click and drag.\"))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"sidebar__highlights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }, highlights.map((highlight, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    className: \"sidebar__highlight\",\n    onClick: () => {\n      updateHash(highlight);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"4px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      float: \"right\"\n    },\n    onClick: () => deleteHighlight(index),\n    className: \"sidebar__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 8\n    }\n  }, processMd(highlight.comment.text)), highlight.content.text ? /*#__PURE__*/React.createElement(\"blockquote\", {\n    style: {\n      marginTop: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, `${highlight.content.text.slice(0, 90).trim()}…`) : null, highlight.content.image ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight__image\",\n    style: {\n      marginTop: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: highlight.content.image,\n    alt: \"Screenshot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 10\n    }\n  })) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight__location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, \"Page \", highlight.position.pageNumber)))), highlights.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: resetHighlights,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 6\n    }\n  }, \"Reset highlights\")) : null);\n}\nexport default Highlight;","map":{"version":3,"names":["React","useState","useEffect","processMd","axios","updateHash","highlight","document","location","hash","id","Highlight","props","state","setState","highlights","PdfUrl","setPdfUrl","url","fetchData","result_json","pdf_name","Object","keys","data","deleteHighlight","index","filter","idx","resetHighlights","createElement","className","style","width","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","padding","marginBottom","map","key","onClick","float","comment","text","content","marginTop","slice","trim","image","src","alt","position","pageNumber","length"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/shared/Highlight.js"],"sourcesContent":["// @flow\r\nimport React, { useState, useEffect } from \"react\";\r\nimport processMd from \"../Dashboard/markdown\";\r\nimport axios from \"axios\";\r\n\r\nconst updateHash = (highlight) => {\r\n\tdocument.location.hash = `highlight-${highlight.id}`;\r\n};\r\n\r\nfunction Highlight(props) {\r\n\tconst [state, setState] = useState({ highlights: [] });\r\n\tconst [PdfUrl, setPdfUrl] = useState({ url: \"\" });\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tconst result_json = await axios(\"http://127.0.0.1:8000/api/v1/json\");\r\n\t\t\tconst pdf_name = Object.keys(result_json.data)[0];\r\n\t\t\tsetPdfUrl({ url: `http://127.0.0.1:8000/api/v1/pdf/${pdf_name}` });\r\n\t\t\tsetState({ highlights: result_json.data[pdf_name] });\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst deleteHighlight = (index) => {\r\n\t\tconst highlights = state.highlights.filter((highlight, idx) => (\r\n\t\t\tindex !== idx ? highlight : null\r\n\t\t));\r\n\t\tsetState({ highlights });\r\n\t};\r\n\r\n\tconst { highlights } = state;\r\n\r\n\tconst resetHighlights = () => {\r\n\t\tsetState({\r\n\t\t\thighlights: [],\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"sidebarnew\" style={{ width: \"25vw\" }}>\r\n\t\t\t{/*  */}\r\n\t\t\t<div className=\"description\" style={{ padding: \"1rem\" }}>\r\n\t\t\t\t<h2 style={{ marginBottom: \"1rem\" }}>Highlights</h2>\r\n\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\tTo create area highlight hold ⌥ Option key (Alt), then click and\r\n\t\t\t\t\t\tdrag.\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ul className=\"sidebar__highlights\">\r\n\t\t\t\t{highlights.map((highlight, index) => (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tclassName=\"sidebar__highlight\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tupdateHash(highlight);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div style={{ padding: \"4px\" }}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tstyle={{ float: \"right\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => deleteHighlight(index)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"sidebar__btn\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-close\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<strong>{processMd(highlight.comment.text)}</strong>\r\n\t\t\t\t\t\t\t{highlight.content.text ? (\r\n\t\t\t\t\t\t\t\t<blockquote style={{ marginTop: \"0.5rem\" }}>\r\n\t\t\t\t\t\t\t\t\t{`${highlight.content.text.slice(0, 90).trim()}…`}\r\n\t\t\t\t\t\t\t\t</blockquote>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{highlight.content.image ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"highlight__image\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginTop: \"0.5rem\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img src={highlight.content.image} alt={\"Screenshot\"} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"highlight__location\">\r\n\t\t\t\t\t\t\tPage {highlight.position.pageNumber}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t\t{highlights.length > 0 ? (\r\n\t\t\t\t<div style={{ padding: \"1rem\" }}>\r\n\t\t\t\t\t<button onClick={resetHighlights}>Reset highlights</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Highlight;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}