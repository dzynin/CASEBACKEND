{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/MultiFileUpload.js\";\nimport React, { useContext, useState, useCallback, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Button, Table } from \"reactstrap\";\nimport { useDropzone } from 'react-dropzone';\nimport { IoArrowBackCircle } from \"react-icons/io5\";\nimport folderDocs from '../images/cloud-drag.png';\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport FileMetadataViewer from './FileMetadataViewer';\nimport TriggerFileViewer from './TriggerFileViewer';\nimport { showFileViewer } from './SidebarItemData/data'; // Import the showFileViewer state\n\nconst async = require('async');\nfunction MultiFileUpload({\n  onBackClick\n}) {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [showMetadataViewer, setShowMetadataViewer] = useState(false);\n  const onDrop = useCallback(acceptedFiles => {\n    setFiles([...files, ...acceptedFiles]);\n  }, [files]);\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    onDrop\n  });\n  const handleSelectFile = fileName => {\n    setSelectedFiles(prevSelected => prevSelected.includes(fileName) ? prevSelected.filter(name => name !== fileName) : [...prevSelected, fileName]);\n  };\n  const handleSelectAll = () => {\n    setSelectedFiles(selectedFiles.length === files.length ? [] : files.map(file => file.name));\n  };\n  const handleUpload = async e => {\n    e.preventDefault();\n    const filesToUpload = files.filter(file => selectedFiles.includes(file.name));\n    if (filesToUpload.length === 0) return;\n    const data = new FormData();\n    filesToUpload.forEach(file => data.append('files', file));\n    setIsLoading(true);\n    try {\n      const response = await axios.post(`${BASE_URL_DEV}/upload/multiple-files`, data, {\n        headers: {\n          'x-access-token': state.auth && state.auth.authToken\n        }\n      });\n      console.log(\"Upload response:\", response.data);\n      setUploadedFiles(response.data.files);\n      setFiles([]);\n      setSelectedFiles([]);\n      setIsLoading(false);\n      setShowMetadataViewer(true);\n\n      // Fetch highlights and set current file\n      async.eachSeries(response.data.files, function (uploadedFile, cbBatch) {\n        axios.get(`${BASE_URL_DEV}/highlights-json/${state.auth.userPublicId}/${uploadedFile.name}`, {\n          headers: {\n            'x-access-token': state.auth && state.auth.authToken\n          }\n        }).then(function (result) {\n          const fileHighlights = result.data;\n          if (fileHighlights && fileHighlights.highlights) {\n            dispatch({\n              type: \"SET_FILE_HIGHLIGHTS\",\n              payload: fileHighlights.highlights\n            });\n          }\n          cbBatch(null);\n        }).catch(error => {\n          console.error(\"Error fetching highlights:\", error);\n          cbBatch(error);\n        });\n      }, async loopErrBatch => {\n        if (!loopErrBatch) {\n          try {\n            const result = await axios(`${BASE_URL_DEV}/get/files`, {\n              headers: {\n                \"x-access-token\": state.auth && state.auth.authToken\n              }\n            });\n            const files = result.data && result.data.files;\n            console.log(\"Fetched files response:\", files);\n            if (result && files && files.length > 0) {\n              const results = await axios(`${BASE_URL_DEV}/get-graphdata`, {\n                headers: {\n                  \"x-access-token\": state.auth && state.auth.authToken\n                }\n              });\n              const allgraphs = results.data;\n              console.log(\"Graph data response:\", allgraphs);\n              let Obj = {};\n              results && allgraphs && allgraphs.graphdata && allgraphs.graphdata.length > 0 && allgraphs.graphdata.filter(x => {\n                Obj[x.fileName] = x.links.filter(e => e.source === \"CITATION\" || e.source === \"PROVISION\");\n              });\n              const fileNew = files.map(element => ({\n                ...element,\n                CITATION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"CITATION\") : [\"N/A\"],\n                PROVISION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"PROVISION\") : [\"N/A\"]\n              }));\n              console.log(\"New files with citation and provision:\", fileNew);\n              dispatch({\n                type: \"ADD_FILE\",\n                payload: fileNew\n              });\n              dispatch({\n                type: \"SET_MODAL\",\n                payload: true\n              });\n\n              // Set the first uploaded file as the current file\n              if (fileNew.length > 0) {\n                const firstUploadedFile = filesToUpload[0];\n                const firstFileResponse = response.data.files[0];\n                const fileToSet = new File([firstUploadedFile], firstFileResponse.name, {\n                  type: firstUploadedFile.type,\n                  lastModified: firstUploadedFile.lastModified\n                });\n                dispatch({\n                  type: \"SET_CURR_FILE\",\n                  payload: fileToSet\n                });\n                console.log(\"New SET_CURR_FILE:\", fileToSet);\n              }\n            }\n          } catch (error) {\n            console.error(\"Error fetching files and graph data:\", error);\n          }\n        } else {\n          console.error(\"Error in loopErrBatch:\", loopErrBatch);\n        }\n      });\n      dispatch({\n        type: 'TOGGLE_VIEWER',\n        payload: true\n      });\n    } catch (error) {\n      var _error$response;\n      console.error(\"Upload error:\", error);\n      dispatch({\n        type: \"ERROR\",\n        payload: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.statusText) || 'File Upload Failed!!'\n      });\n      setIsLoading(false);\n    }\n  };\n  const handleViewPDF = async file => {\n    try {\n      console.log(\"Fetching PDF for file:\", file);\n      const response = await axios.get(`${BASE_URL_DEV}/uploads/${state.auth.userPublicId}/${file.name}`, {\n        responseType: 'blob',\n        headers: {\n          'x-access-token': state.auth && state.auth.authToken\n        }\n      });\n      const fileBlob = new Blob([response.data], {\n        type: response.headers['content-type']\n      });\n      const fileToSet = new File([fileBlob], file.name, {\n        type: fileBlob.type,\n        lastModified: file.lastModified || new Date().getTime()\n      });\n      console.log(\"Setting current file:\", fileToSet);\n      dispatch({\n        type: 'SET_CURR_FILE',\n        payload: fileToSet\n      });\n      async.eachSeries([file], function (element, cbBatch) {\n        axios.get(`${BASE_URL_DEV}/highlights-json/${state.auth.userPublicId}/${element.name}`, {\n          headers: {\n            'x-access-token': state.auth && state.auth.authToken\n          }\n        }).then(function (result) {\n          const fileHighlights = result.data;\n          console.log(\"File highlights received:\", fileHighlights);\n          if (fileHighlights && fileHighlights.highlights) {\n            dispatch({\n              type: \"SET_FILE_HIGHLIGHTS\",\n              payload: fileHighlights.highlights\n            });\n          }\n          cbBatch(null);\n        }).catch(error => {\n          console.error(\"Error fetching highlights:\", error);\n          cbBatch(error);\n        });\n      }, loopErrBatch => {\n        if (!loopErrBatch) {\n          (async () => {\n            try {\n              const result = await axios(`${BASE_URL_DEV}/get/files`, {\n                headers: {\n                  \"x-access-token\": state.auth && state.auth.authToken\n                }\n              });\n              const files = result.data && result.data.files;\n              console.log(\"Fetched files response:\", files);\n              if (result && files && files.length > 0) {\n                const results = await axios(`${BASE_URL_DEV}/get-graphdata`, {\n                  headers: {\n                    \"x-access-token\": state.auth && state.auth.authToken\n                  }\n                });\n                const allgraphs = results.data;\n                console.log(\"Graph data response:\", allgraphs);\n                let Obj = {};\n                results && allgraphs && allgraphs.graphdata && allgraphs.graphdata.length > 0 && allgraphs.graphdata.filter(x => {\n                  Obj[x.fileName] = x.links.filter(e => e.source === \"CITATION\" || e.source === \"PROVISION\");\n                });\n                const fileNew = files.map(element => ({\n                  ...element,\n                  CITATION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"CITATION\") : [\"N/A\"],\n                  PROVISION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"PROVISION\") : [\"N/A\"]\n                }));\n                console.log(\"New files with citation and provision:\", fileNew);\n                dispatch({\n                  type: \"ADD_FILE\",\n                  payload: fileNew\n                });\n                dispatch({\n                  type: \"SET_MODAL\",\n                  payload: true\n                });\n                // Trigger the file viewer\n                dispatch({\n                  type: \"SET_SIDEBAR_ITEM\",\n                  payload: showFileViewer\n                });\n              }\n            } catch (error) {\n              console.error(\"Error fetching files and graph data:\", error);\n            }\n          })();\n        } else {\n          console.error(\"Error in loopErrBatch:\", loopErrBatch);\n        }\n      });\n      dispatch({\n        type: 'SHOW_FILE_VIEWER',\n        payload: true\n      });\n    } catch (error) {\n      console.error(\"Error fetching PDF:\", error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"previewComponent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"back-button\",\n    onClick: onBackClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IoArrowBackCircle, {\n    size: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  })), !showMetadataViewer && files.length === 0 && /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps(), {\n    className: \"drag-drop__area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drag-drop__file-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: folderDocs,\n    alt: \"Dropping File ...\",\n    className: \"drag-drop-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"drag-drop-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 29\n    }\n  }, \"Drag & Drop case files here\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"browse-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 87\n    }\n  })))), !showMetadataViewer && files.length > 0 && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    bordered: true,\n    className: \"custom-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: selectedFiles.length === files.length,\n    onChange: handleSelectAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 41\n    }\n  }, \"File Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 33\n    }\n  }, files.map((file, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    onClick: () => handleSelectFile(file.name),\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: selectedFiles.includes(file.name),\n    onChange: e => {\n      e.stopPropagation();\n      handleSelectFile(file.name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 49\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 45\n    }\n  }, file.name)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-lg submitButton\",\n    color: \"success\",\n    onClick: handleUpload,\n    disabled: selectedFiles.length === 0 || isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 29\n    }\n  }, \"Upload\"))), showMetadataViewer && /*#__PURE__*/React.createElement(FileMetadataViewer, {\n    files: uploadedFiles,\n    onFileClick: handleViewPDF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 40\n    }\n  }), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(TriggerFileViewer, {\n    onBackClick: onBackClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  })));\n}\nexport default MultiFileUpload;","map":{"version":3,"names":["React","useContext","useState","useCallback","Fragment","axios","Button","Table","useDropzone","IoArrowBackCircle","folderDocs","UserContext","BASE_URL_DEV","FileMetadataViewer","TriggerFileViewer","showFileViewer","async","require","MultiFileUpload","onBackClick","state","dispatch","isLoading","setIsLoading","files","setFiles","selectedFiles","setSelectedFiles","uploadedFiles","setUploadedFiles","showMetadataViewer","setShowMetadataViewer","onDrop","acceptedFiles","getRootProps","getInputProps","handleSelectFile","fileName","prevSelected","includes","filter","name","handleSelectAll","length","map","file","handleUpload","e","preventDefault","filesToUpload","data","FormData","forEach","append","response","post","headers","auth","authToken","console","log","eachSeries","uploadedFile","cbBatch","get","userPublicId","then","result","fileHighlights","highlights","type","payload","catch","error","loopErrBatch","results","allgraphs","Obj","graphdata","x","links","source","fileNew","element","CITATION","PROVISION","firstUploadedFile","firstFileResponse","fileToSet","File","lastModified","_error$response","statusText","handleViewPDF","responseType","fileBlob","Blob","Date","getTime","createElement","__self","__source","_jsxFileName","lineNumber","columnNumber","className","onClick","size","Object","assign","src","alt","responsive","bordered","checked","onChange","index","key","style","cursor","stopPropagation","color","disabled","onFileClick"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/MultiFileUpload.js"],"sourcesContent":["import React, { useContext, useState, useCallback, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Button, Table } from \"reactstrap\";\nimport { useDropzone } from 'react-dropzone';\nimport { IoArrowBackCircle } from \"react-icons/io5\";\nimport folderDocs from '../images/cloud-drag.png';\nimport { UserContext } from \"../App\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport FileMetadataViewer from './FileMetadataViewer';\nimport TriggerFileViewer from './TriggerFileViewer';\nimport { showFileViewer } from './SidebarItemData/data'; // Import the showFileViewer state\n\nconst async = require('async');\n\nfunction MultiFileUpload({ onBackClick }) {\n    const { state, dispatch } = useContext(UserContext);\n    const [isLoading, setIsLoading] = useState(false);\n    const [files, setFiles] = useState([]);\n    const [selectedFiles, setSelectedFiles] = useState([]);\n    const [uploadedFiles, setUploadedFiles] = useState([]);\n    const [showMetadataViewer, setShowMetadataViewer] = useState(false);\n\n    const onDrop = useCallback((acceptedFiles) => {\n        setFiles([...files, ...acceptedFiles]);\n    }, [files]);\n\n    const { getRootProps, getInputProps } = useDropzone({ onDrop });\n\n    const handleSelectFile = (fileName) => {\n        setSelectedFiles(prevSelected =>\n            prevSelected.includes(fileName)\n                ? prevSelected.filter(name => name !== fileName)\n                : [...prevSelected, fileName]\n        );\n    };\n\n    const handleSelectAll = () => {\n        setSelectedFiles(selectedFiles.length === files.length ? [] : files.map(file => file.name));\n    };\n\n    const handleUpload = async (e) => {\n        e.preventDefault();\n        const filesToUpload = files.filter(file => selectedFiles.includes(file.name));\n        if (filesToUpload.length === 0) return;\n\n        const data = new FormData();\n        filesToUpload.forEach(file => data.append('files', file));\n        setIsLoading(true);\n        try {\n            const response = await axios.post(`${BASE_URL_DEV}/upload/multiple-files`, data, {\n                headers: {\n                    'x-access-token': state.auth && state.auth.authToken,\n                }\n            });\n            console.log(\"Upload response:\", response.data);\n            setUploadedFiles(response.data.files);\n            setFiles([]);\n            setSelectedFiles([]);\n            setIsLoading(false);\n            setShowMetadataViewer(true);\n\n            // Fetch highlights and set current file\n            async.eachSeries(response.data.files, function (uploadedFile, cbBatch) {\n                axios.get(`${BASE_URL_DEV}/highlights-json/${state.auth.userPublicId}/${uploadedFile.name}`, {\n                    headers: {\n                        'x-access-token': state.auth && state.auth.authToken,\n                    }\n                }).then(function (result) {\n                    const fileHighlights = result.data;\n                    if (fileHighlights && fileHighlights.highlights) {\n                        dispatch({ type: \"SET_FILE_HIGHLIGHTS\", payload: fileHighlights.highlights });\n                    }\n                    cbBatch(null);\n                }).catch(error => {\n                    console.error(\"Error fetching highlights:\", error);\n                    cbBatch(error);\n                });\n            }, async (loopErrBatch) => {\n                if (!loopErrBatch) {\n                    try {\n                        const result = await axios(`${BASE_URL_DEV}/get/files`, {\n                            headers: {\n                                \"x-access-token\": state.auth && state.auth.authToken,\n                            },\n                        });\n                        const files = result.data && result.data.files;\n                        console.log(\"Fetched files response:\", files);\n                        if (result && files && files.length > 0) {\n                            const results = await axios(`${BASE_URL_DEV}/get-graphdata`, {\n                                headers: {\n                                    \"x-access-token\": state.auth && state.auth.authToken,\n                                },\n                            });\n                            const allgraphs = results.data;\n                            console.log(\"Graph data response:\", allgraphs);\n                            let Obj = {};\n                            results && allgraphs && allgraphs.graphdata && allgraphs.graphdata.length > 0 && allgraphs.graphdata.filter(x => {\n                                Obj[x.fileName] = x.links.filter(e => e.source === \"CITATION\" || e.source === \"PROVISION\");\n                            });\n                            const fileNew = files.map(element => ({\n                                ...element,\n                                CITATION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"CITATION\") : [\"N/A\"],\n                                PROVISION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"PROVISION\") : [\"N/A\"]\n                            }));\n                            console.log(\"New files with citation and provision:\", fileNew);\n                            dispatch({ type: \"ADD_FILE\", payload: fileNew });\n                            dispatch({ type: \"SET_MODAL\", payload: true });\n\n                            // Set the first uploaded file as the current file\n                            if (fileNew.length > 0) {\n                                const firstUploadedFile = filesToUpload[0];\n                                const firstFileResponse = response.data.files[0];\n                                const fileToSet = new File([firstUploadedFile], firstFileResponse.name, {\n                                    type: firstUploadedFile.type,\n                                    lastModified: firstUploadedFile.lastModified\n                                });\n                                dispatch({ type: \"SET_CURR_FILE\", payload: fileToSet });\n                                console.log(\"New SET_CURR_FILE:\", fileToSet);\n                            }\n                        }\n                    } catch (error) {\n                        console.error(\"Error fetching files and graph data:\", error);\n                    }\n                } else {\n                    console.error(\"Error in loopErrBatch:\", loopErrBatch);\n                }\n            });\n            dispatch({ type: 'TOGGLE_VIEWER', payload: true });\n            \n        } catch (error) {\n            console.error(\"Upload error:\", error);\n            dispatch({ type: \"ERROR\", payload: error.response?.statusText || 'File Upload Failed!!' });\n            setIsLoading(false);\n        }\n    };\n\n    const handleViewPDF = async (file) => {\n        try {\n            console.log(\"Fetching PDF for file:\", file);\n            const response = await axios.get(`${BASE_URL_DEV}/uploads/${state.auth.userPublicId}/${file.name}`, {\n                responseType: 'blob',\n                headers: {\n                    'x-access-token': state.auth && state.auth.authToken,\n                }\n            });\n            const fileBlob = new Blob([response.data], { type: response.headers['content-type'] });\n            const fileToSet = new File([fileBlob], file.name, {\n                type: fileBlob.type,\n                lastModified: file.lastModified || new Date().getTime()\n            });\n            console.log(\"Setting current file:\", fileToSet);\n            dispatch({ type: 'SET_CURR_FILE', payload: fileToSet });\n\n            async.eachSeries([file], function (element, cbBatch) {\n                axios.get(`${BASE_URL_DEV}/highlights-json/${state.auth.userPublicId}/${element.name}`, {\n                    headers: {\n                        'x-access-token': state.auth && state.auth.authToken,\n                    }\n                }).then(function (result) {\n                    const fileHighlights = result.data;\n                    console.log(\"File highlights received:\", fileHighlights);\n                    if (fileHighlights && fileHighlights.highlights) {\n                        dispatch({\n                            type: \"SET_FILE_HIGHLIGHTS\",\n                            payload: fileHighlights.highlights,\n                        });\n                    }\n                    cbBatch(null);\n                }).catch(error => {\n                    console.error(\"Error fetching highlights:\", error);\n                    cbBatch(error);\n                });\n            }, (loopErrBatch) => {\n                if (!loopErrBatch) {\n                    (async () => {\n                        try {\n                            const result = await axios(`${BASE_URL_DEV}/get/files`, {\n                                headers: {\n                                    \"x-access-token\": state.auth && state.auth.authToken,\n                                },\n                            });\n                            const files = result.data && result.data.files;\n                            console.log(\"Fetched files response:\", files);\n                            if (result && files && files.length > 0) {\n                                const results = await axios(`${BASE_URL_DEV}/get-graphdata`, {\n                                    headers: {\n                                        \"x-access-token\": state.auth && state.auth.authToken,\n                                    },\n                                });\n                                const allgraphs = results.data;\n                                console.log(\"Graph data response:\", allgraphs);\n                                let Obj = {};\n                                results && allgraphs && allgraphs.graphdata && allgraphs.graphdata.length > 0 && allgraphs.graphdata.filter(x => {\n                                    Obj[x.fileName] = x.links.filter(e => e.source === \"CITATION\" || e.source === \"PROVISION\");\n                                });\n                                const fileNew = files.map(element => ({\n                                    ...element,\n                                    CITATION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"CITATION\") : [\"N/A\"],\n                                    PROVISION: Obj[element.name] && Obj[element.name].length > 0 ? Obj[element.name].filter(e => e.source === \"PROVISION\") : [\"N/A\"]\n                                }));\n                                console.log(\"New files with citation and provision:\", fileNew);\n                                dispatch({ type: \"ADD_FILE\", payload: fileNew });\n                                dispatch({ type: \"SET_MODAL\", payload: true });\n                                // Trigger the file viewer\n                                dispatch({ type: \"SET_SIDEBAR_ITEM\", payload: showFileViewer });\n                            }\n                        } catch (error) {\n                            console.error(\"Error fetching files and graph data:\", error);\n                        }\n                    })();\n                } else {\n                    console.error(\"Error in loopErrBatch:\", loopErrBatch);\n                }\n            });\n            dispatch({ type: 'SHOW_FILE_VIEWER', payload: true });\n        } catch (error) {\n            console.error(\"Error fetching PDF:\", error);\n        }\n    };\n\n    return (\n        <Fragment>\n            <div className=\"previewComponent\">\n                <button className=\"back-button\" onClick={onBackClick}>\n                    <IoArrowBackCircle size={40} />\n                </button>\n                {!showMetadataViewer && files.length === 0 && (\n                    <div {...getRootProps()} className=\"drag-drop__area\">\n                        <input {...getInputProps()} />\n                        <div className=\"drag-drop__file-icon\">\n                            <img src={folderDocs} alt=\"Dropping File ...\" className=\"drag-drop-image\" />\n                            <h5 className=\"drag-drop-text\">Drag & Drop case files here<button className=\"browse-button\"></button></h5>\n                        </div>\n                    </div>\n                )}\n                {!showMetadataViewer && files.length > 0 && (\n                    <Fragment>\n                        <div className=\"file-preview\">\n                            <Table responsive bordered className=\"custom-table\">\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            <input\n                                                type=\"checkbox\"\n                                                checked={selectedFiles.length === files.length}\n                                                onChange={handleSelectAll}\n                                            />\n                                        </th>\n                                        <th>File Name</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {files.map((file, index) => (\n                                        <tr key={index} onClick={() => handleSelectFile(file.name)} style={{ cursor: 'pointer' }}>\n                                            <td>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={selectedFiles.includes(file.name)}\n                                                    onChange={(e) => { e.stopPropagation(); handleSelectFile(file.name); }}\n                                                />\n                                            </td>\n                                            <td>{file.name}</td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </Table>\n                        </div>\n                        <div className=\"upload-button-container\">\n                            <Button\n                                className=\"btn btn-lg submitButton\"\n                                color=\"success\"\n                                onClick={handleUpload}\n                                disabled={selectedFiles.length === 0 || isLoading}\n                            >\n                                Upload\n                            </Button>\n                        </div>\n                    </Fragment>\n                )}\n                {showMetadataViewer && <FileMetadataViewer files={uploadedFiles} onFileClick={handleViewPDF} />}\n                {isLoading && <div className=\"loading\"></div>}\n                <TriggerFileViewer onBackClick={onBackClick} />\n            </div>\n        </Fragment>\n    );\n}\n\nexport default MultiFileUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}