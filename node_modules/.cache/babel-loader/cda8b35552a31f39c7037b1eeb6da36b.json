{"ast":null,"code":"import { updateState, updateHighlightStatus } from '../shared/Utility';\nimport { InitialState } from './InitialState';\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_FILE':\n      if (!Array.isArray(action.payload)) action.payload = [action.payload];\n      let Allfiles = [...state.files, ...action.payload];\n      let fileNames = [];\n      let files = Allfiles.filter(file => {\n        if (fileNames.includes(file.name)) return false;\n        fileNames.push(file.name);\n        return true;\n      });\n      return {\n        ...state,\n        files,\n        currentFile: state.currentFile || action.payload[0]\n      };\n    case 'AUTH':\n      const auth = {\n        userId: action.payload.userId,\n        authToken: action.payload.auth_token,\n        userPublicId: action.payload.userPublicId,\n        username: action.payload.username,\n        email: action.payload.email,\n        expiry: action.payload.expiry || Date.parse(new Date()) + 60 * 60 * 1000,\n        fname: action.payload.fname,\n        lname: action.payload.lname,\n        city: action.payload.city,\n        country: action.payload.country,\n        organisation: action.payload.organisation\n      };\n      localStorage.setItem(\"authDetails\", JSON.stringify(auth));\n      return updateState(state, {\n        auth: auth\n      });\n    case 'LOG_OUT':\n      localStorage.removeItem(\"authDetails\");\n      return InitialState;\n    case \"TOGGLE_HIGHLIGHT\":\n      return {\n        ...state,\n        showHighlight: action.payload\n      };\n    case 'SET_CURR_FILE':\n      return updateState(state, {\n        currentFile: action.payload\n      });\n    case 'TOGGLE_VIEWER':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'ALL_POSTS':\n      return updateState(state, {\n        allPosts: action.payload\n      });\n    case 'ADD_My_POSTS':\n      return updateState(state, {\n        myPosts: [...state.myPosts, action.payload]\n      });\n    case 'FETCH_FILE_HIGHLIGHTS':\n      return updateState(state, {\n        fileHighlights: action.payload\n      });\n    case 'SET_FILE_HIGHLIGHTS':\n      let highlights = [];\n      if (state.fileHighlights.length > 0) {\n        let fileUpdated = false;\n        highlights = state.fileHighlights.map(singleFile => {\n          if (singleFile.name === action.payload.name) {\n            singleFile.highlights = action.payload.highlights;\n            fileUpdated = true;\n          }\n          return singleFile;\n        });\n        if (!fileUpdated) {\n          highlights = [...state.fileHighlights, action.payload];\n        }\n      } else {\n        highlights = [action.payload];\n      }\n      return updateState(state, {\n        fileHighlights: highlights\n      });\n    case 'ERROR':\n      return updateState(state, {\n        error: action.payload\n      });\n    case 'MESSAGE':\n      return updateState(state, {\n        message: action.payload\n      });\n    case 'SET_SEARCH_QUERY':\n      return updateState(state, {\n        searchQuery: action.payload\n      });\n    case 'SET_NODE_DATA':\n      return updateState(state, {\n        nodeData: action.payload\n      });\n    case 'SET_GRAPH_DATA':\n      return updateState(state, {\n        graphData: action.payload\n      });\n    case 'SET_NODES_DATA':\n      return updateState(state, {\n        nodesData: action.payload\n      });\n    case 'CHANGE_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          default: action.payload\n        });\n      }\n    case 'CHANGE_LEGAL_TEST_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          legalTest: action.payload\n        });\n      }\n    case 'CHANGE_ISSUE_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          issue: action.payload\n        });\n      }\n    case 'CHANGE_CONCLUSION_HIGHLIGHT_COLOR':\n      {\n        return updateHighlightStatus(state, {\n          ...state.highlightColors,\n          conclusion: action.payload\n        });\n      }\n    case 'SET_MODAL':\n      return updateState(state, {\n        isModalOpen: action.payload\n      });\n    case 'SET_HIGHLIGHT_TEXT':\n      return {\n        ...state,\n        highlightTextForEditor: action.payload\n      };\n    case 'ADD_HIGHLIGHT_TEXT':\n      const newHighlight = action.payload;\n      const updatedHighlights = [...(state.highlightTextsForEditor || []), newHighlight]; // Fallback to empty array if not defined\n      return {\n        ...state,\n        highlightTextsForEditor: updatedHighlights\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["updateState","updateHighlightStatus","InitialState","reducer","state","action","type","Array","isArray","payload","Allfiles","files","fileNames","filter","file","includes","name","push","currentFile","auth","userId","authToken","auth_token","userPublicId","username","email","expiry","Date","parse","fname","lname","city","country","organisation","localStorage","setItem","JSON","stringify","removeItem","showHighlight","allPosts","myPosts","fileHighlights","highlights","length","fileUpdated","map","singleFile","error","message","searchQuery","nodeData","graphData","nodesData","highlightColors","default","legalTest","issue","conclusion","isModalOpen","highlightTextForEditor","newHighlight","updatedHighlights","highlightTextsForEditor"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Reducer/Reducers.js"],"sourcesContent":["import { updateState, updateHighlightStatus } from '../shared/Utility';\nimport { InitialState } from './InitialState';\n\nexport const reducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_FILE':\n            if (!Array.isArray(action.payload)) action.payload = [action.payload];\n            let Allfiles = [...state.files, ...action.payload];\n            let fileNames = [];\n            let files = Allfiles.filter((file) => {\n                if (fileNames.includes(file.name)) return false;\n                fileNames.push(file.name);\n                return true;\n            });\n            return {\n                ...state,\n                files,\n                currentFile: state.currentFile || action.payload[0],\n            };\n\n        case 'AUTH':\n            const auth = {\n                userId: action.payload.userId,\n                authToken: action.payload.auth_token,\n                userPublicId: action.payload.userPublicId,\n                username: action.payload.username,\n                email: action.payload.email,\n                expiry: action.payload.expiry || Date.parse(new Date()) + 60 * 60 * 1000,\n                fname: action.payload.fname,\n                lname: action.payload.lname,\n                city: action.payload.city,\n                country: action.payload.country,\n                organisation: action.payload.organisation,\n            };\n            localStorage.setItem(\"authDetails\", JSON.stringify(auth));\n            return updateState(state, { auth: auth });\n\n        case 'LOG_OUT':\n            localStorage.removeItem(\"authDetails\");\n            return InitialState;\n\n        case \"TOGGLE_HIGHLIGHT\":\n            return {\n                ...state,\n                showHighlight: action.payload,\n            };\n\n        case 'SET_CURR_FILE':\n            return updateState(state, { currentFile: action.payload });\n\n        case 'TOGGLE_VIEWER':\n            return {\n                ...state,\n                ...action.payload,\n            };\n\n        case 'ALL_POSTS':\n            return updateState(state, { allPosts: action.payload });\n\n        case 'ADD_My_POSTS':\n            return updateState(state, { myPosts: [...state.myPosts, action.payload] });\n\n        case 'FETCH_FILE_HIGHLIGHTS':\n            return updateState(state, { fileHighlights: action.payload });\n\n        case 'SET_FILE_HIGHLIGHTS':\n            let highlights = [];\n            if (state.fileHighlights.length > 0) {\n                let fileUpdated = false;\n                highlights = state.fileHighlights.map((singleFile) => {\n                    if (singleFile.name === action.payload.name) {\n                        singleFile.highlights = action.payload.highlights;\n                        fileUpdated = true;\n                    }\n                    return singleFile;\n                });\n                if (!fileUpdated) {\n                    highlights = [...state.fileHighlights, action.payload];\n                }\n            } else {\n                highlights = [action.payload];\n            }\n            return updateState(state, { fileHighlights: highlights });\n\n        case 'ERROR':\n            return updateState(state, { error: action.payload });\n\n        case 'MESSAGE':\n            return updateState(state, { message: action.payload });\n\n        case 'SET_SEARCH_QUERY':\n            return updateState(state, { searchQuery: action.payload });\n\n        case 'SET_NODE_DATA':\n            return updateState(state, { nodeData: action.payload });\n\n        case 'SET_GRAPH_DATA':\n            return updateState(state, { graphData: action.payload });\n\n        case 'SET_NODES_DATA':\n            return updateState(state, { nodesData: action.payload });\n\n        case 'CHANGE_HIGHLIGHT_COLOR': {\n            return updateHighlightStatus(state, { ...state.highlightColors, default: action.payload });\n        }\n        case 'CHANGE_LEGAL_TEST_HIGHLIGHT_COLOR': {\n            return updateHighlightStatus(state, { ...state.highlightColors, legalTest: action.payload });\n        }\n        case 'CHANGE_ISSUE_HIGHLIGHT_COLOR': {\n            return updateHighlightStatus(state, { ...state.highlightColors, issue: action.payload })\n        }\n        case 'CHANGE_CONCLUSION_HIGHLIGHT_COLOR': {\n            return updateHighlightStatus(state, { ...state.highlightColors, conclusion: action.payload })\n        }\n        case 'SET_MODAL':\n            return updateState(state, { isModalOpen: action.payload });\n\n        case 'SET_HIGHLIGHT_TEXT':\n            return {\n                ...state,\n                highlightTextForEditor: action.payload,\n            };\n\n        case 'ADD_HIGHLIGHT_TEXT':\n            const newHighlight = action.payload;\n            const updatedHighlights = [...(state.highlightTextsForEditor || []), newHighlight]; // Fallback to empty array if not defined\n            return {\n                ...state,\n                highlightTextsForEditor: updatedHighlights,\n            };\n\n        default:\n            return state;\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}