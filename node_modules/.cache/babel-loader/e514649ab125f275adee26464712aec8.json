{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js\";\n// FileViewer.js\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport \"../style/resizable.css\";\nfunction FileViewer() {\n  var _displayHighlight$com, _displayHighlight$con, _displayHighlight$con2, _displayHighlight$pos;\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 250\n  });\n  const [selectPdf, setSelectPdf] = useState(false);\n  const [show, setShow] = useState(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      const filteredHighlights = state.fileHighlights.filter(hl => hl.name === state.currentFile.name && hl.comment.text !== \"OTHER\");\n      setHighlights(filteredHighlights);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n  const nextHighlight = () => {\n    setCurrentHighlightIndex(prevIndex => (prevIndex + 1) % highlights.length);\n  };\n  const prevHighlight = () => {\n    setCurrentHighlightIndex(prevIndex => (prevIndex - 1 + highlights.length) % highlights.length);\n  };\n  const displayHighlight = highlights[currentHighlightIndex] || {};\n  return /*#__PURE__*/React.createElement(Resizable, {\n    className: \"box\",\n    height: dimensions.height,\n    width: dimensions.width,\n    onResize: (e, {\n      size\n    }) => setDimensions(size),\n    resizeHandles: [\"e\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarnew\",\n    style: {\n      height: dimensions.height,\n      overflowY: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Highlights\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 14\n    }\n  }, \"To create area highlight hold \\u2325 Option key (Alt), then click and drag.\"))), highlights.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, processMd((_displayHighlight$com = displayHighlight.comment) === null || _displayHighlight$com === void 0 ? void 0 : _displayHighlight$com.text)), ((_displayHighlight$con = displayHighlight.content) === null || _displayHighlight$con === void 0 ? void 0 : _displayHighlight$con.text) && /*#__PURE__*/React.createElement(\"blockquote\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, `${displayHighlight.content.text.slice(0, 90).trim()}…`), ((_displayHighlight$con2 = displayHighlight.content) === null || _displayHighlight$con2 === void 0 ? void 0 : _displayHighlight$con2.image) && /*#__PURE__*/React.createElement(\"img\", {\n    src: displayHighlight.content.image,\n    alt: \"Highlight\",\n    style: {\n      maxWidth: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Page \", (_displayHighlight$pos = displayHighlight.position) === null || _displayHighlight$pos === void 0 ? void 0 : _displayHighlight$pos.pageNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: prevHighlight,\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: nextHighlight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  })))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"No Highlights Available for Selected Pdf!\")));\n}\nexport default FileViewer;","map":{"version":3,"names":["React","useContext","useState","useEffect","Modal","Button","UserContext","Resizable","processMd","axios","FontAwesomeIcon","faPlus","faChevronLeft","faChevronRight","FileViewer","_displayHighlight$com","_displayHighlight$con","_displayHighlight$con2","_displayHighlight$pos","state","dispatch","highlights","setHighlights","currentHighlightIndex","setCurrentHighlightIndex","dimensions","setDimensions","height","width","selectPdf","setSelectPdf","show","setShow","currentFile","filteredHighlights","fileHighlights","filter","hl","name","comment","text","nextHighlight","prevIndex","length","prevHighlight","displayHighlight","createElement","className","onResize","e","size","resizeHandles","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","overflowY","padding","Fragment","content","slice","trim","image","src","alt","maxWidth","position","pageNumber","onClick","icon"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js"],"sourcesContent":["// FileViewer.js\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport \"../style/resizable.css\";\n\nfunction FileViewer() {\n  const { state, dispatch } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [dimensions, setDimensions] = useState({ height: 720, width: 250 });\n  const [selectPdf, setSelectPdf] = useState(false);\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    if (state.currentFile) {\n      const filteredHighlights = state.fileHighlights.filter(hl => hl.name === state.currentFile.name && hl.comment.text !== \"OTHER\");\n      setHighlights(filteredHighlights);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n\n  const nextHighlight = () => {\n    setCurrentHighlightIndex((prevIndex) => (prevIndex + 1) % highlights.length);\n  };\n\n  const prevHighlight = () => {\n    setCurrentHighlightIndex((prevIndex) => (prevIndex - 1 + highlights.length) % highlights.length);\n  };\n\n  const displayHighlight = highlights[currentHighlightIndex] || {};\n\n  return (\n    <Resizable\n      className=\"box\"\n      height={dimensions.height}\n      width={dimensions.width}\n      onResize={(e, { size }) => setDimensions(size)}\n      resizeHandles={[\"e\"]}\n    >\n      <div className=\"sidebarnew\" style={{ height: dimensions.height, overflowY: \"auto\" }}>\n        <div className=\"description\" style={{ padding: \"1rem\" }}>\n          <h2>Highlights</h2>\n          <p><small>To create area highlight hold ⌥ Option key (Alt), then click and drag.</small></p>\n        </div>\n        {highlights.length > 0 ? (\n          <>\n            <div className=\"highlight\">\n              <strong>{processMd(displayHighlight.comment?.text)}</strong>\n              {displayHighlight.content?.text && (\n                <blockquote>{`${displayHighlight.content.text.slice(0, 90).trim()}…`}</blockquote>\n              )}\n              {displayHighlight.content?.image && (\n                <img src={displayHighlight.content.image} alt=\"Highlight\" style={{ maxWidth: \"100%\" }} />\n              )}\n              <p>Page {displayHighlight.position?.pageNumber}</p>\n            </div>\n            <div className=\"navigation\">\n              <Button onClick={prevHighlight} className=\"mr-2\">\n                <FontAwesomeIcon icon={faChevronLeft} />\n              </Button>\n              <Button onClick={nextHighlight}>\n                <FontAwesomeIcon icon={faChevronRight} />\n              </Button>\n            </div>\n          </>\n        ) : (\n          <p>No Highlights Available for Selected Pdf!</p>\n        )}\n      </div>\n    </Resizable>\n  );\n}\n\nexport default FileViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}