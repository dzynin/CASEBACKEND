{"ast":null,"code":"/* eslint-disable @typescript-eslint/ban-types */\nimport { EventHandler, Browser, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ScrollElements, createScrollSvg } from './scrollbar-elements';\nimport { getElement, minMax, logBase } from '../utils/helper';\nimport { getScrollbarThemeColor } from '../model/theme';\nimport { scrollChanged, scrollEnd, scrollStart } from '../model/constants';\n/**\n * Scrollbar Base\n */\nvar ScrollBar = /** @class */function () {\n  /**\n   * Constructor for creating scrollbar\n   *\n   * @param component\n   * @param axis\n   */\n  function ScrollBar(component, axis) {\n    /** @private */\n    this.scrollRange = {\n      max: null,\n      min: null,\n      interval: null,\n      delta: null\n    };\n    this.component = component;\n    this.elements = [];\n    this.scrollElements = new ScrollElements(component);\n    this.axis = axis;\n    this.mouseMoveListener = this.scrollMouseMove.bind(this);\n    this.mouseUpListener = this.scrollMouseUp.bind(this);\n    this.animateDuration = 500;\n    this.isPointer = Browser.isPointer;\n    this.browserName = Browser.info.name;\n  }\n  /**\n   * To Mouse x and y position\n   *\n   * @param e\n   */\n  ScrollBar.prototype.getMouseXY = function (e) {\n    var pageX;\n    var pageY;\n    var touchArg;\n    if (e.type.indexOf('touch') > -1) {\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].clientX;\n      pageY = touchArg.changedTouches[0].clientY;\n    } else {\n      pageX = e.clientX;\n      pageY = e.clientY;\n    }\n    var svgRect = getElement(this.component.element.id + '_scrollBar_svg' + this.axis.name).getBoundingClientRect();\n    this.mouseX = pageX - Math.max(svgRect.left, 0);\n    this.mouseY = pageY - Math.max(svgRect.top, 0);\n  };\n  /**\n   * Method to bind events for scrollbar svg object\n   *\n   * @param element\n   * @returns {void}\n   */\n  ScrollBar.prototype.wireEvents = function (element) {\n    EventHandler.add(element, Browser.touchStartEvent, this.scrollMouseDown, this);\n    EventHandler.add(element, Browser.touchMoveEvent, this.scrollMouseMove, this);\n    EventHandler.add(element, Browser.touchEndEvent, this.scrollMouseUp, this);\n    EventHandler.add(element, 'mousewheel', this.scrollMouseWheel, this);\n    window.addEventListener('mousemove', this.mouseMoveListener, false);\n    window.addEventListener('mouseup', this.mouseUpListener, false);\n  };\n  /**\n   * Method to remove events for srcollbar svg object\n   *\n   * @param element\n   */\n  ScrollBar.prototype.unWireEvents = function (element) {\n    EventHandler.remove(element, Browser.touchStartEvent, this.scrollMouseDown);\n    EventHandler.remove(element, Browser.touchMoveEvent, this.scrollMouseMove);\n    EventHandler.remove(element, Browser.touchEndEvent, this.scrollMouseUp);\n    EventHandler.remove(element, 'mousewheel', this.scrollMouseWheel);\n    window.removeEventListener('mousemove', this.mouseMoveListener, false);\n    window.removeEventListener('mouseup', this.mouseUpListener, false);\n  };\n  /**\n   * Handles the mouse down on scrollbar.\n   *\n   * @param e\n   */\n  ScrollBar.prototype.scrollMouseDown = function (e) {\n    var id = e.target.id;\n    var elem = this.scrollElements;\n    var isInverse = this.axis.isAxisInverse;\n    this.getMouseXY(e);\n    this.isResizeLeft = this.isExist(id, '_leftCircle_') || this.isExist(id, '_leftArrow_');\n    this.isResizeRight = this.isExist(id, '_rightCircle_') || this.isExist(id, '_rightArrow_');\n    //  this.previousXY = this.isVertical ? this.mouseY : this.mouseX;\n    this.previousXY = this.isVertical && isInverse ? this.mouseY : this.isVertical ? this.width - this.mouseY : isInverse ? this.width - this.mouseX : this.mouseX;\n    this.previousWidth = elem.thumbRectWidth;\n    this.previousRectX = elem.thumbRectX;\n    this.startZoomPosition = this.axis.zoomPosition;\n    this.startZoomFactor = this.axis.zoomFactor;\n    this.startRange = this.axis.visibleRange;\n    this.scrollStarted = true;\n    this.component.trigger(scrollStart, this.getArgs(scrollStart));\n    if (this.isExist(id, 'scrollBarThumb_') || this.isExist(id, 'gripCircle')) {\n      this.isThumbDrag = true;\n      if (this.axis.scrollbarSettings.height >= 12) {\n        this.svgObject.style.cursor = '-webkit-grabbing';\n      }\n    } else if (this.isExist(id, 'scrollBarBackRect_')) {\n      var currentX = this.moveLength(this.previousXY, this.previousRectX);\n      elem.thumbRectX = this.isWithIn(currentX) ? currentX : elem.thumbRectX;\n      this.positionThumb(elem.thumbRectX, elem.thumbRectWidth);\n      this.setZoomFactorPosition(elem.thumbRectX, elem.thumbRectWidth, false);\n      this.axis.zoomPosition = this.zoomPosition < 0 ? 0 : this.zoomPosition > 0.9 ? 1 : this.zoomPosition;\n      if (this.isLazyLoad) {\n        var thumbMove = elem.thumbRectX > this.previousRectX ? 'RightMove' : 'LeftMove';\n        var args = this.calculateLazyRange(elem.thumbRectX, elem.thumbRectWidth, thumbMove);\n        if (args) {\n          this.component.trigger(scrollEnd, args);\n        }\n      }\n    }\n    /**\n     * Customer issue\n     * Task ID - EJ2-28898\n     * Issue: While element's height is smaller than chart'height, html scroll bar presents. On that case while moving chart scrollbar,\n     * html scrollbar goes up due to chart's svg removed from the dom when zoomFactor and zoomPosition chnaged\n     * Fix: Only for scrolling purpose, height for element is set to chart's available height\n     */\n    if (this.component.element.style.height === '') {\n      this.isCustomHeight = true;\n      this.component.element.style.height = this.component.availableSize.height + 'px';\n    }\n  };\n  /**\n   * To check the matched string\n   *\n   * @param id\n   * @param match\n   */\n  ScrollBar.prototype.isExist = function (id, match) {\n    return id.indexOf(match) > -1;\n  };\n  /**\n   * To check current poisition is within scrollbar region\n   *\n   * @param currentX\n   */\n  ScrollBar.prototype.isWithIn = function (currentX) {\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    return currentX - circleRadius >= 0 && currentX + this.scrollElements.thumbRectWidth + circleRadius <= this.width;\n  };\n  /**\n   * Method to find move length of thumb\n   *\n   * @param mouseXY\n   * @param thumbX\n   * @param circleRadius\n   */\n  ScrollBar.prototype.moveLength = function (mouseXY, thumbX, circleRadius) {\n    if (circleRadius === void 0) {\n      circleRadius = this.axis.scrollbarSettings.height / 2;\n    }\n    var moveLength = 10 / 100 * (this.width - circleRadius * 2);\n    if (mouseXY < thumbX) {\n      moveLength = thumbX - (thumbX - moveLength > circleRadius ? moveLength : circleRadius);\n    } else {\n      moveLength = thumbX + (thumbX + this.scrollElements.thumbRectWidth + moveLength < this.width - circleRadius ? moveLength : circleRadius);\n    }\n    return moveLength;\n  };\n  /**\n   * Method to calculate zoom factor and position\n   *\n   * @param currentX\n   * @param currentWidth\n   */\n  ScrollBar.prototype.setZoomFactorPosition = function (currentX, currentWidth, isRequire) {\n    if (isRequire === void 0) {\n      isRequire = true;\n    }\n    this.isScrollUI = true;\n    var axis = this.axis;\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    var circleWidth = 1;\n    var currentScrollWidth = currentX + currentWidth + circleRadius + circleWidth;\n    var currentZPWidth = circleRadius + circleWidth / 2;\n    var axisSize = this.isVertical ? axis.rect.height : this.width;\n    this.zoomFactor = (currentWidth + (currentScrollWidth >= this.width ? circleRadius + circleWidth : 0)) / axisSize;\n    this.zoomPosition = currentScrollWidth > axisSize ? 1 - axis.zoomFactor : currentX < circleRadius + circleWidth ? 0 : (currentX - (currentX - currentZPWidth <= 0 ? currentZPWidth : 0)) / axisSize;\n    this.zoomPosition = this.component.enableRtl && !this.isVertical && !axis.isInversed || axis.isInversed && !(this.component.enableRtl && !this.isVertical) ? 1 - (this.zoomPosition + axis.zoomFactor) : this.zoomPosition;\n  };\n  /**\n   * Handles the mouse move on scrollbar.\n   *\n   * @param e\n   */\n  ScrollBar.prototype.scrollMouseMove = function (e) {\n    var target = e.target;\n    var elem = this.scrollElements;\n    var isInverse = this.axis.isAxisInverse;\n    if (!getElement(this.svgObject.id)) {\n      return null;\n    }\n    this.getMouseXY(e);\n    if (!isNullOrUndefined(target.id)) {\n      this.setCursor(target);\n      this.setTheme(target);\n    }\n    //let mouseXY: number = this.isVertical ? this.mouseY : this.mouseX;\n    var mouseXY = this.isVertical && isInverse ? this.width - this.mouseY : this.isVertical ? this.mouseY : this.mouseX;\n    var range = this.axis.visibleRange;\n    var zoomPosition = this.zoomPosition;\n    var zoomFactor = this.zoomFactor;\n    var moveLength = this.previousRectX - elem.thumbRectX;\n    var thumbMove = moveLength < 0 ? 'RightMove' : 'LeftMove';\n    var args;\n    if (this.isLazyLoad && (this.isThumbDrag || this.isResizeLeft || this.isResizeRight)) {\n      args = this.calculateLazyRange(elem.thumbRectX, elem.thumbRectWidth, thumbMove);\n    }\n    var currentRange = args ? args.currentRange : null;\n    if (this.isThumbDrag) {\n      this.component.isScrolling = this.isThumbDrag;\n      mouseXY = this.isVertical || isInverse ? this.width - mouseXY : mouseXY;\n      var currentX = elem.thumbRectX + (mouseXY - this.previousXY);\n      if (mouseXY >= currentX + elem.thumbRectWidth) {\n        this.setCursor(target);\n      } else {\n        if (this.axis.scrollbarSettings.height >= 12) {\n          this.svgObject.style.cursor = '-webkit-grabbing';\n        }\n      }\n      if (mouseXY >= 0 && mouseXY <= currentX + elem.thumbRectWidth) {\n        elem.thumbRectX = this.isWithIn(currentX) ? currentX : elem.thumbRectX;\n        this.positionThumb(elem.thumbRectX, elem.thumbRectWidth);\n        this.previousXY = mouseXY;\n        this.setZoomFactorPosition(currentX, elem.thumbRectWidth, false);\n        this.axis.zoomPosition = this.zoomPosition < 0 ? 0 : this.zoomPosition > 0.9 ? 1 : this.zoomPosition;\n      }\n      this.component.trigger(scrollChanged, this.getArgs(scrollChanged, range, zoomPosition, zoomFactor, currentRange));\n    } else if (this.isResizeLeft || this.isResizeRight) {\n      this.resizeThumb();\n    }\n  };\n  /**\n   * Handles the mouse wheel on scrollbar.\n   *\n   * @param e\n   */\n  ScrollBar.prototype.scrollMouseWheel = function (e) {\n    if (!this.axis.scrollbarSettings.enableZoom) {\n      return null;\n    }\n    var svgRect = getElement(this.component.element.id + '_scrollBar_svg' + this.axis.name).getBoundingClientRect();\n    this.mouseX = e.clientX - Math.max(svgRect.left, 0);\n    this.mouseY = e.clientY - Math.max(svgRect.top, 0);\n    var origin = 0.5;\n    var elem = this.scrollElements;\n    var axis = this.axis;\n    var direction = this.browserName === 'mozilla' && !this.isPointer ? -e.detail / 3 > 0 ? 1 : -1 : e['wheelDelta'] / 120 > 0 ? 1 : -1;\n    var cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + 0.25 * direction, 1);\n    var range = this.axis.visibleRange;\n    var zoomPosition = this.zoomPosition;\n    var zoomFactor = this.zoomFactor;\n    var args;\n    if (cumulative >= 1) {\n      origin = axis.orientation === 'Horizontal' ? this.mouseX / axis.rect.width : 1 - this.mouseY / axis.rect.height;\n      origin = origin > 1 ? 1 : origin < 0 ? 0 : origin;\n      this.zoomFactor = cumulative === 1 ? 1 : minMax(1 / cumulative, 0, 1);\n      this.zoomPosition = cumulative === 1 ? 0 : axis.zoomPosition + (axis.zoomFactor - this.zoomFactor) * origin;\n    }\n    elem.thumbRectX = this.isWithIn(this.zoomPosition * this.width) ? this.zoomPosition * this.width : elem.thumbRectX;\n    this.isScrollUI = true;\n    this.positionThumb(elem.thumbRectX, elem.thumbRectWidth);\n    if (this.isLazyLoad) {\n      this.setZoomFactorPosition(elem.thumbRectX, elem.thumbRectWidth);\n      this.axis.zoomFactor = this.zoomFactor;\n      this.axis.zoomPosition = this.zoomPosition < 0 ? 0 : this.zoomPosition > 0.9 ? 1 : this.zoomPosition;\n    }\n    axis.zoomFactor = this.zoomFactor;\n    axis.zoomPosition = this.zoomPosition;\n    if (this.isLazyLoad) {\n      args = this.calculateMouseWheelRange(elem.thumbRectX, elem.thumbRectWidth);\n      if (args) {\n        if (args.currentRange.minimum !== args.previousAxisRange.minimum && args.currentRange.maximum !== args.previousAxisRange.maximum) {\n          this.component.trigger(scrollEnd, args);\n          this.isScrollEnd = false;\n        }\n      }\n    }\n    if (!this.isLazyLoad) {\n      this.component.trigger(scrollChanged, this.getArgs(scrollChanged, range, zoomPosition, zoomFactor));\n    }\n  };\n  /**\n   * Handles the mouse up on scrollbar.\n   *\n   * @param e\n   */\n  ScrollBar.prototype.scrollMouseUp = function () {\n    var args;\n    this.startX = this.scrollElements.thumbRectX;\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    var circleWidth = 1;\n    var currentScrollWidth = this.startX + this.scrollElements.thumbRectWidth + circleRadius + circleWidth;\n    var currentZPWidth = circleRadius + circleWidth / 2;\n    if ((this.isResizeLeft || this.isResizeRight) && !this.isLazyLoad) {\n      this.axis.zoomFactor = currentScrollWidth >= this.width - 1 && this.startX - currentZPWidth <= 0 ? 1 : this.zoomFactor;\n    }\n    if (this.isLazyLoad) {\n      var moveLength = this.previousRectX - this.startX;\n      if ((moveLength > 0 || moveLength < 0) && this.isThumbDrag) {\n        var thumbMove = moveLength < 0 ? 'RightMove' : 'LeftMove';\n        if (thumbMove === 'RightMove') {\n          this.startX = this.startX + Math.abs(moveLength) < this.width - circleRadius ? this.startX : this.width - circleRadius - this.scrollElements.thumbRectWidth;\n        } else {\n          this.startX = this.startX + this.scrollElements.thumbRectWidth - Math.abs(moveLength) > circleRadius ? this.startX : circleRadius;\n        }\n        args = this.calculateLazyRange(this.startX, this.scrollElements.thumbRectWidth, thumbMove);\n        if (args) {\n          this.component.trigger(scrollEnd, args);\n          this.scrollStarted = false;\n        }\n      }\n      if (this.isResizeLeft || this.isResizeRight) {\n        args = this.calculateLazyRange(this.startX, this.scrollElements.thumbRectWidth);\n        if (args) {\n          this.component.trigger(scrollEnd, args);\n          this.scrollStarted = false;\n        }\n      }\n    }\n    this.isThumbDrag = false;\n    this.isResizeLeft = false;\n    this.isResizeRight = false;\n    this.isScrollEnd = false;\n    this.component.isScrolling = false;\n    if (this.scrollStarted && !this.isLazyLoad) {\n      this.component.trigger(scrollEnd, this.getArgs(scrollChanged, this.startRange, this.startZoomPosition, this.startZoomFactor));\n      this.scrollStarted = false;\n    }\n    /**\n     * Customer issue\n     * Task ID - EJ2-28898\n     * Chart's height setted is removed here.\n     */\n    if (this.isCustomHeight) {\n      this.component.element.style.height = null;\n    }\n  };\n  ScrollBar.prototype.calculateMouseWheelRange = function (scrollThumbX, scrollThumbWidth) {\n    var zoomFactor;\n    var zoomPosition;\n    var args;\n    var range = this.scrollRange;\n    var previousRange = this.getStartEnd(this.previousStart, this.previousEnd, false);\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    if (scrollThumbX + scrollThumbWidth + circleRadius <= this.width) {\n      zoomPosition = (scrollThumbX - circleRadius) / this.width;\n      zoomFactor = scrollThumbWidth / this.width;\n    }\n    var currentStart = range.min + zoomPosition * range.delta;\n    var currentEnd = currentStart + zoomFactor * range.delta;\n    if (currentEnd) {\n      args = {\n        axis: this.axis,\n        currentRange: this.getStartEnd(currentStart, currentEnd, true),\n        previousAxisRange: previousRange\n      };\n    }\n    return args;\n  };\n  /**\n   * Range calculation for lazy loading.\n   *\n   * @param scrollThumbX\n   * @param scrollThumbWidth\n   * @param thumbMove\n   * @param scrollThumbX\n   * @param scrollThumbWidth\n   * @param thumbMove\n   * @param scrollThumbX\n   * @param scrollThumbWidth\n   * @param thumbMove\n   */\n  ScrollBar.prototype.calculateLazyRange = function (scrollThumbX, scrollThumbWidth, thumbMove) {\n    var currentScrollWidth = scrollThumbWidth;\n    var zoomFactor;\n    var zoomPosition;\n    var currentStart;\n    var currentEnd;\n    var args;\n    var range = this.scrollRange;\n    var previousRange = this.getStartEnd(this.previousStart, this.previousEnd, false);\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    var circleWidth = 16;\n    if (this.isResizeRight || thumbMove === 'RightMove') {\n      currentScrollWidth = this.isResizeRight ? currentScrollWidth + circleWidth : currentScrollWidth;\n      zoomFactor = currentScrollWidth / this.width;\n      zoomPosition = thumbMove === 'RightMove' ? (scrollThumbX + circleRadius) / this.width : this.axis.zoomPosition;\n      currentStart = thumbMove === 'RightMove' ? range.min + zoomPosition * range.delta : this.previousStart;\n      currentEnd = currentStart + zoomFactor * range.delta;\n    } else if (this.isResizeLeft || thumbMove === 'LeftMove') {\n      zoomPosition = (scrollThumbX - circleRadius) / this.width;\n      zoomFactor = currentScrollWidth / this.width;\n      currentStart = range.min + zoomPosition * range.delta;\n      currentStart = currentStart >= range.min ? currentStart : range.min;\n      currentEnd = thumbMove === 'LeftMove' ? currentStart + zoomFactor * range.delta : this.previousEnd;\n    } else if (this.isThumbDrag) {\n      zoomPosition = thumbMove === 'RightMove' ? (scrollThumbX + circleRadius) / this.width : (scrollThumbX - circleRadius) / this.width;\n      zoomFactor = this.scrollElements.thumbRectWidth / this.width;\n      currentStart = range.min + zoomPosition * range.delta;\n      currentStart = currentStart >= range.min ? currentStart : range.min;\n      currentEnd = currentStart + zoomFactor * range.delta;\n    }\n    if (currentEnd) {\n      args = {\n        axis: this.component.isBlazor ? {} : this.axis,\n        currentRange: this.getStartEnd(currentStart, currentEnd, true),\n        previousAxisRange: previousRange\n      };\n    }\n    return args;\n  };\n  /**\n   * Get start and end values\n   *\n   * @param start\n   * @param end\n   * @param isCurrentStartEnd\n   * @param start\n   * @param end\n   * @param isCurrentStartEnd\n   * @param start\n   * @param end\n   * @param isCurrentStartEnd\n   */\n  ScrollBar.prototype.getStartEnd = function (start, end, isCurrentStartEnd) {\n    var valueType = this.valueType;\n    if ((valueType === 'DateTime' || valueType === 'DateTimeCategory') && isCurrentStartEnd) {\n      this.previousStart = start;\n      this.previousEnd = end;\n    } else if (isCurrentStartEnd) {\n      var currentStart = Math.round(start);\n      var currentEnd = Math.ceil(end);\n      if (this.axis.valueType === 'Category') {\n        currentEnd -= !this.axis.scrollbarSettings.enableZoom && currentEnd - currentStart > this.previousEnd - this.previousStart ? currentEnd - currentStart - (this.previousEnd - this.previousStart) : 0;\n      }\n      this.previousStart = start = currentStart;\n      this.previousEnd = end = currentEnd;\n    }\n    switch (valueType) {\n      case 'Double':\n      case 'Category':\n      case 'Logarithmic':\n        start = Math.round(start);\n        end = Math.ceil(end);\n        break;\n      case 'DateTime':\n      case 'DateTimeCategory':\n        start = new Date(start);\n        end = new Date(end);\n        break;\n    }\n    return {\n      minimum: start,\n      maximum: end\n    };\n  };\n  /**\n   * To render scroll bar\n   *\n   * @param isScrollExist\n   * @private\n   */\n  ScrollBar.prototype.render = function (isScrollExist) {\n    if (this.component.zoomModule || isScrollExist && this.axis.scrollbarSettings.enable) {\n      this.getDefaults();\n    }\n    this.getTheme();\n    this.removeScrollSvg();\n    createScrollSvg(this, this.component.svgRenderer);\n    this.wireEvents(this.svgObject);\n    this.svgObject.appendChild(this.scrollElements.renderElements(this, this.component.svgRenderer));\n    return this.svgObject;\n  };\n  /**\n   * Theming for scrollabr\n   *\n   * @returns {void}\n   */\n  ScrollBar.prototype.getTheme = function () {\n    this.scrollbarThemeStyle = getScrollbarThemeColor(this.component.theme);\n  };\n  /**\n   * Method to remove existing scrollbar.\n   *\n   * @returns {void}\n   */\n  ScrollBar.prototype.removeScrollSvg = function () {\n    if (document.getElementById(this.component.element.id + '_scrollBar_svg' + this.axis.name)) {\n      remove(document.getElementById(this.component.element.id + '_scrollBar_svg' + this.axis.name));\n    }\n  };\n  /**\n   * Method to set cursor fpr scrollbar\n   *\n   * @param target\n   */\n  ScrollBar.prototype.setCursor = function (target) {\n    var id = target.id;\n    this.svgObject.style.cursor = (id.indexOf('scrollBarThumb_') > -1 || id.indexOf('_gripCircle') > -1) && this.axis.scrollbarSettings.height >= 12 ? '-webkit-grab' : id.indexOf('Circle_') > -1 || id.indexOf('Arrow_') > -1 ? this.isVertical ? 'ns-resize' : 'ew-resize' : 'auto';\n  };\n  /**\n   * Method to set theme for sollbar\n   *\n   * @param target\n   */\n  ScrollBar.prototype.setTheme = function (target) {\n    var id = target.id;\n    var isLeftHover = id.indexOf('_leftCircle_') > -1 || id.indexOf('_leftArrow_') > -1;\n    var isRightHover = id.indexOf('_rightCircle_') > -1 || id.indexOf('_rightArrow_') > -1;\n    var style = this.scrollbarThemeStyle;\n    var leftArrowEle = this.scrollElements.leftArrowEle;\n    var rightArrowEle = this.scrollElements.rightArrowEle;\n    var leftCircleEle = this.scrollElements.leftCircleEle;\n    var rightCircleEle = this.scrollElements.rightCircleEle;\n    var isAxis = this.isCurrentAxis(target, leftArrowEle);\n    leftCircleEle.style.fill = isLeftHover && isAxis ? style.circleHover : style.circle;\n    rightCircleEle.style.fill = isRightHover && isAxis ? style.circleHover : style.circle;\n    leftCircleEle.style.stroke = isLeftHover && isAxis ? style.circleHover : style.circle;\n    rightCircleEle.style.stroke = isRightHover && isAxis ? style.circleHover : style.circle;\n    if (this.component.theme === 'HighContrastLight') {\n      leftArrowEle.style.fill = isLeftHover && isAxis ? style.arrowHover : style.arrow;\n      leftArrowEle.style.stroke = isLeftHover && isAxis ? style.arrowHover : style.arrow;\n      rightArrowEle.style.fill = isRightHover && isAxis ? style.arrowHover : style.arrow;\n      rightArrowEle.style.stroke = isRightHover && isAxis ? style.arrowHover : style.arrow;\n      leftCircleEle.style.stroke = isLeftHover && isAxis ? style.circleHover : style.circle;\n      rightCircleEle.style.stroke = isRightHover && isAxis ? style.circleHover : style.circle;\n    }\n  };\n  /**\n   * To check current axis\n   *\n   * @param target\n   * @param ele\n   */\n  ScrollBar.prototype.isCurrentAxis = function (target, ele) {\n    return target.id.split('_')[2] === ele.id.split('_')[2];\n  };\n  /**\n   * Method to resize thumb\n   *\n   * @param e\n   */\n  ScrollBar.prototype.resizeThumb = function () {\n    var currentWidth;\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    var padding = 5;\n    var gripWidth = 14;\n    var minThumbWidth = circleRadius * 2 + padding * 2 + gripWidth;\n    var thumbX = this.previousRectX;\n    var isInverse = this.axis.isAxisInverse;\n    // let mouseXY: number = this.isVertical ? this.mouseY : this.mouseX;\n    var mouseXY = this.isVertical && isInverse ? this.mouseY : this.isVertical ? this.width - this.mouseY : isInverse ? this.width - this.mouseX : this.mouseX;\n    var diff = Math.abs(this.previousXY - mouseXY);\n    if (this.isResizeLeft && mouseXY >= 0) {\n      var currentX = thumbX + (mouseXY > this.previousXY ? diff : -diff);\n      currentWidth = currentX - circleRadius >= 0 ? this.previousWidth + (mouseXY > this.previousXY ? -diff : diff) : this.previousWidth;\n      currentX = currentX - circleRadius >= 0 ? currentX : thumbX;\n      if (currentWidth >= minThumbWidth && mouseXY < currentX + currentWidth) {\n        this.scrollElements.thumbRectX = this.previousRectX = currentX;\n        this.scrollElements.thumbRectWidth = this.previousWidth = currentWidth;\n        this.previousXY = mouseXY;\n        this.setZoomFactorPosition(currentX, currentWidth);\n        var argsData = {\n          axis: this.component.isBlazor ? {} : this.axis,\n          name: scrollChanged,\n          range: this.axis.visibleRange,\n          zoomFactor: this.zoomFactor,\n          zoomPosition: this.zoomPosition,\n          previousRange: this.axis.visibleRange,\n          previousZoomFactor: this.axis.zoomFactor,\n          previousZoomPosition: this.axis.zoomPosition,\n          currentRange: null,\n          cancel: false\n        };\n        this.component.trigger(scrollChanged, argsData);\n        if (!argsData.cancel) {\n          this.positionThumb(currentX, currentWidth);\n          this.axis.zoomFactor = argsData.zoomFactor;\n          this.axis.zoomPosition = argsData.zoomPosition;\n        } else {\n          this.zoomFactor = argsData.previousZoomFactor;\n          this.zoomPosition = argsData.previousZoomPosition;\n        }\n      }\n    } else if (this.isResizeRight) {\n      currentWidth = mouseXY >= minThumbWidth + this.scrollElements.thumbRectX && mouseXY <= this.width - circleRadius ? mouseXY - this.scrollElements.thumbRectX : this.previousWidth;\n      this.scrollElements.thumbRectWidth = this.previousWidth = currentWidth;\n      this.previousXY = mouseXY;\n      this.setZoomFactorPosition(this.startX, currentWidth);\n      if (!this.isLazyLoad) {\n        this.setZoomFactorPosition(this.startX, currentWidth);\n      }\n      var argsData = {\n        axis: this.component.isBlazor ? {} : this.axis,\n        name: scrollChanged,\n        range: this.axis.visibleRange,\n        zoomFactor: this.zoomFactor,\n        zoomPosition: this.zoomPosition,\n        previousRange: this.axis.visibleRange,\n        previousZoomFactor: this.axis.zoomFactor,\n        previousZoomPosition: this.axis.zoomPosition,\n        currentRange: null,\n        cancel: false\n      };\n      this.component.trigger(scrollChanged, argsData);\n      if (!argsData.cancel) {\n        this.positionThumb(this.startX, currentWidth);\n        this.axis.zoomFactor = argsData.zoomFactor;\n        this.axis.zoomPosition = argsData.zoomPosition;\n      } else {\n        this.zoomFactor = argsData.previousZoomFactor;\n        this.zoomPosition = argsData.previousZoomPosition;\n      }\n    }\n  };\n  /**\n   * Method to position the scrollbar thumb\n   *\n   * @param currentX\n   * @param currentWidth\n   */\n  ScrollBar.prototype.positionThumb = function (currentX, currentWidth) {\n    var elem = this.scrollElements;\n    var gripWidth = 14;\n    var gripCircleDiameter = 2;\n    var padding = gripWidth / 2 - gripCircleDiameter;\n    elem.slider.setAttribute('x', this.axis.scrollbarSettings.enableZoom ? currentX.toString() : (currentX - this.axis.scrollbarSettings.height / 2).toString());\n    elem.slider.setAttribute('width', this.axis.scrollbarSettings.enableZoom ? currentWidth.toString() : (currentWidth + this.axis.scrollbarSettings.height).toString());\n    elem.leftCircleEle.setAttribute('cx', currentX.toString());\n    elem.rightCircleEle.setAttribute('cx', (currentX + currentWidth).toString());\n    elem.setArrowDirection(currentX, currentWidth, this.height);\n    elem.gripCircle.setAttribute('transform', 'translate(' + (currentX + currentWidth / 2 + (this.isVertical ? 1 : -1) * padding) + ',' + (this.isVertical ? this.axis.scrollbarSettings.height / 2 + padding / 2 - 0.5 : this.axis.scrollbarSettings.height / 2 - padding / 2 - 0.5) + ') rotate(' + (this.isVertical ? '180' : '0') + ')');\n  };\n  /**\n   * Method to get default values\n   *\n   * @returns {void}\n   */\n  ScrollBar.prototype.getDefaults = function () {\n    var axis = this.axis;\n    var circleRadius = this.axis.scrollbarSettings.height / 2;\n    var padding = 5;\n    var gripWidth = 14;\n    var minThumbWidth = circleRadius * 2 + padding * 2 + gripWidth;\n    if (this.axis.scrollbarSettings.enable) {\n      this.isLazyLoad = true;\n      this.getLazyDefaults(axis);\n    }\n    this.isVertical = axis.orientation === 'Vertical';\n    var isRtlEnabled = this.component.enableRtl && !this.isVertical && !axis.isInversed || axis.isInversed && !(this.component.enableRtl && !this.isVertical);\n    this.zoomFactor = this.isLazyLoad ? this.zoomFactor : axis.zoomFactor;\n    this.zoomPosition = this.isLazyLoad ? isRtlEnabled ? 1 - (this.zoomPosition + this.zoomFactor) : this.zoomPosition : isRtlEnabled ? 1 - (axis.zoomPosition + axis.zoomFactor) : axis.zoomPosition;\n    var currentWidth = this.zoomFactor * (this.isVertical ? axis.rect.height : axis.rect.width);\n    currentWidth = this.isLazyLoad && !this.axis.scrollbarSettings.enableZoom || currentWidth > minThumbWidth ? currentWidth : minThumbWidth;\n    this.scrollX = axis.rect.x;\n    this.scrollY = axis.rect.y;\n    this.width = this.isVertical ? axis.rect.height : axis.rect.width;\n    this.height = this.axis.scrollbarSettings.height;\n    var currentX = this.zoomPosition * (this.isVertical ? axis.rect.height : this.width);\n    var minThumbX = this.width - minThumbWidth - circleRadius;\n    this.scrollElements.thumbRectX = currentX > minThumbX ? minThumbX : currentX < circleRadius ? circleRadius : currentX;\n    this.scrollElements.thumbRectWidth = this.isThumbDrag ? this.scrollElements.thumbRectWidth : currentWidth + this.scrollElements.thumbRectX < this.width - circleRadius * 2 ? currentWidth : this.width - this.scrollElements.thumbRectX - circleRadius;\n  };\n  /**\n   * Lazy load default values.\n   *\n   * @param axis\n   */\n  ScrollBar.prototype.getLazyDefaults = function (axis) {\n    var start;\n    var end;\n    var valueType = axis.valueType;\n    var scrollbarSettings = axis.scrollbarSettings;\n    var range = axis.scrollbarSettings.range;\n    var visibleRange = axis.visibleRange;\n    var pointsLength = axis.scrollbarSettings.pointsLength;\n    this.valueType = valueType = (!scrollbarSettings.range.minimum || !scrollbarSettings.range.maximum) && scrollbarSettings.pointsLength ? 'Double' : valueType;\n    var option = {\n      skeleton: 'full',\n      type: 'dateTime'\n    };\n    var dateParser = this.component.intl.getDateParser(option);\n    var dateFormatter = this.component.intl.getDateFormat(option);\n    switch (valueType) {\n      case 'Double':\n      case 'Category':\n      case 'Logarithmic':\n        start = range.minimum ? range.minimum : pointsLength ? 0 : visibleRange.min;\n        end = range.maximum ? range.maximum : pointsLength ? pointsLength - 1 : visibleRange.max;\n        break;\n      case 'DateTime':\n      case 'DateTimeCategory':\n        start = range.minimum ? Date.parse(dateParser(dateFormatter(range.minimum))) : visibleRange.min;\n        end = range.maximum ? Date.parse(dateParser(dateFormatter(range.maximum))) : visibleRange.max;\n        break;\n    }\n    start = Math.min(start, visibleRange.min);\n    end = Math.max(end, visibleRange.max);\n    var zoomFactor = (visibleRange.max - visibleRange.min) / (end - start);\n    var zoomPosition = (visibleRange.min - start) / (end - start);\n    this.zoomFactor = range.minimum || range.maximum ? zoomFactor : this.axis.maxPointLength / axis.scrollbarSettings.pointsLength;\n    this.zoomPosition = range.minimum || range.maximum ? zoomPosition : axis.zoomPosition;\n    this.zoomPosition = this.component.enableRtl && axis.orientation === 'Horizontal' && !axis.isInversed || axis.isInversed && !(this.component.enableRtl && axis.orientation === 'Horizontal') ? 1 - (this.zoomPosition + this.zoomFactor) : this.zoomPosition;\n    this.scrollRange.min = start;\n    this.scrollRange.max = end;\n    this.scrollRange.delta = end - start;\n    this.previousStart = visibleRange.min;\n    this.previousEnd = visibleRange.max;\n  };\n  /**\n   * Method to get log range\n   *\n   * @param axis\n   */\n  ScrollBar.prototype.getLogRange = function (axis) {\n    var range = axis.scrollbarSettings.range;\n    var start = logBase(range.minimum, axis.logBase);\n    var end = logBase(range.maximum, axis.logBase);\n    start = isFinite(start) ? start : range.minimum;\n    end = isFinite(start) ? end : range.maximum;\n    return {\n      minimum: Math.floor(start / 1),\n      maximum: Math.ceil(end / 1)\n    };\n  };\n  /**\n   * Method for injecting scrollbar module.\n   *\n   * @param axis\n   * @param component\n   */\n  ScrollBar.prototype.injectTo = function (axis, component) {\n    axis.zoomingScrollBar = new ScrollBar(component, axis);\n  };\n  /**\n   * Method to destroy scrollbar.\n   *\n   * @returns {void}\n   */\n  ScrollBar.prototype.destroy = function () {\n    var _this = this;\n    if (this.axes) {\n      this.axes.map(function (axis) {\n        axis.zoomingScrollBar.destroy();\n      });\n    } else {\n      this.elements.map(function (element) {\n        _this.unWireEvents(element);\n        remove(element.firstChild);\n      });\n      this.elements = [];\n    }\n  };\n  /**\n   * Method to get scrollbar module name.\n   *\n   * @returns {string}\n   */\n  ScrollBar.prototype.getModuleName = function () {\n    return 'ScrollBar';\n  };\n  ScrollBar.prototype.getArgs = function (eventName, range, zoomPosition, zoomFactor, currentRanges) {\n    var scrollArgs = {\n      axis: this.component.isBlazor ? {} : this.axis,\n      name: eventName,\n      range: this.axis.visibleRange,\n      zoomFactor: this.axis.zoomFactor,\n      zoomPosition: this.axis.zoomPosition,\n      previousRange: range,\n      previousZoomFactor: zoomFactor,\n      previousZoomPosition: zoomPosition,\n      currentRange: currentRanges\n    };\n    return scrollArgs;\n  };\n  return ScrollBar;\n}();\nexport { ScrollBar };","map":{"version":3,"names":["EventHandler","Browser","remove","isNullOrUndefined","ScrollElements","createScrollSvg","getElement","minMax","logBase","getScrollbarThemeColor","scrollChanged","scrollEnd","scrollStart","ScrollBar","component","axis","scrollRange","max","min","interval","delta","elements","scrollElements","mouseMoveListener","scrollMouseMove","bind","mouseUpListener","scrollMouseUp","animateDuration","isPointer","browserName","info","name","prototype","getMouseXY","e","pageX","pageY","touchArg","type","indexOf","changedTouches","clientX","clientY","svgRect","element","id","getBoundingClientRect","mouseX","Math","left","mouseY","top","wireEvents","add","touchStartEvent","scrollMouseDown","touchMoveEvent","touchEndEvent","scrollMouseWheel","window","addEventListener","unWireEvents","removeEventListener","target","elem","isInverse","isAxisInverse","isResizeLeft","isExist","isResizeRight","previousXY","isVertical","width","previousWidth","thumbRectWidth","previousRectX","thumbRectX","startZoomPosition","zoomPosition","startZoomFactor","zoomFactor","startRange","visibleRange","scrollStarted","trigger","getArgs","isThumbDrag","scrollbarSettings","height","svgObject","style","cursor","currentX","moveLength","isWithIn","positionThumb","setZoomFactorPosition","isLazyLoad","thumbMove","args","calculateLazyRange","isCustomHeight","availableSize","match","circleRadius","mouseXY","thumbX","currentWidth","isRequire","isScrollUI","circleWidth","currentScrollWidth","currentZPWidth","axisSize","rect","enableRtl","isInversed","setCursor","setTheme","range","currentRange","isScrolling","resizeThumb","enableZoom","origin","direction","detail","cumulative","orientation","calculateMouseWheelRange","minimum","previousAxisRange","maximum","isScrollEnd","startX","abs","scrollThumbX","scrollThumbWidth","previousRange","getStartEnd","previousStart","previousEnd","currentStart","currentEnd","isBlazor","start","end","isCurrentStartEnd","valueType","round","ceil","Date","render","isScrollExist","zoomModule","enable","getDefaults","getTheme","removeScrollSvg","svgRenderer","appendChild","renderElements","scrollbarThemeStyle","theme","document","getElementById","isLeftHover","isRightHover","leftArrowEle","rightArrowEle","leftCircleEle","rightCircleEle","isAxis","isCurrentAxis","fill","circleHover","circle","stroke","arrowHover","arrow","ele","split","padding","gripWidth","minThumbWidth","diff","argsData","previousZoomFactor","previousZoomPosition","cancel","gripCircleDiameter","slider","setAttribute","toString","setArrowDirection","gripCircle","getLazyDefaults","isRtlEnabled","scrollX","x","scrollY","y","minThumbX","pointsLength","option","skeleton","dateParser","intl","getDateParser","dateFormatter","getDateFormat","parse","maxPointLength","getLogRange","isFinite","floor","injectTo","zoomingScrollBar","destroy","_this","axes","map","firstChild","getModuleName","eventName","currentRanges","scrollArgs"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-charts/src/common/scrollbar/scrollbar.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-types */\nimport { EventHandler, Browser, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ScrollElements, createScrollSvg } from './scrollbar-elements';\nimport { getElement, minMax, logBase } from '../utils/helper';\nimport { getScrollbarThemeColor } from '../model/theme';\nimport { scrollChanged, scrollEnd, scrollStart } from '../model/constants';\n/**\n * Scrollbar Base\n */\nvar ScrollBar = /** @class */ (function () {\n    /**\n     * Constructor for creating scrollbar\n     *\n     * @param component\n     * @param axis\n     */\n    function ScrollBar(component, axis) {\n        /** @private */\n        this.scrollRange = { max: null, min: null, interval: null, delta: null };\n        this.component = component;\n        this.elements = [];\n        this.scrollElements = new ScrollElements(component);\n        this.axis = axis;\n        this.mouseMoveListener = this.scrollMouseMove.bind(this);\n        this.mouseUpListener = this.scrollMouseUp.bind(this);\n        this.animateDuration = 500;\n        this.isPointer = Browser.isPointer;\n        this.browserName = Browser.info.name;\n    }\n    /**\n     * To Mouse x and y position\n     *\n     * @param e\n     */\n    ScrollBar.prototype.getMouseXY = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type.indexOf('touch') > -1) {\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        var svgRect = getElement(this.component.element.id + '_scrollBar_svg' + this.axis.name).getBoundingClientRect();\n        this.mouseX = pageX - Math.max(svgRect.left, 0);\n        this.mouseY = pageY - Math.max(svgRect.top, 0);\n    };\n    /**\n     * Method to bind events for scrollbar svg object\n     *\n     * @param element\n     * @returns {void}\n     */\n    ScrollBar.prototype.wireEvents = function (element) {\n        EventHandler.add(element, Browser.touchStartEvent, this.scrollMouseDown, this);\n        EventHandler.add(element, Browser.touchMoveEvent, this.scrollMouseMove, this);\n        EventHandler.add(element, Browser.touchEndEvent, this.scrollMouseUp, this);\n        EventHandler.add(element, 'mousewheel', this.scrollMouseWheel, this);\n        window.addEventListener('mousemove', this.mouseMoveListener, false);\n        window.addEventListener('mouseup', this.mouseUpListener, false);\n    };\n    /**\n     * Method to remove events for srcollbar svg object\n     *\n     * @param element\n     */\n    ScrollBar.prototype.unWireEvents = function (element) {\n        EventHandler.remove(element, Browser.touchStartEvent, this.scrollMouseDown);\n        EventHandler.remove(element, Browser.touchMoveEvent, this.scrollMouseMove);\n        EventHandler.remove(element, Browser.touchEndEvent, this.scrollMouseUp);\n        EventHandler.remove(element, 'mousewheel', this.scrollMouseWheel);\n        window.removeEventListener('mousemove', this.mouseMoveListener, false);\n        window.removeEventListener('mouseup', this.mouseUpListener, false);\n    };\n    /**\n     * Handles the mouse down on scrollbar.\n     *\n     * @param e\n     */\n    ScrollBar.prototype.scrollMouseDown = function (e) {\n        var id = e.target.id;\n        var elem = this.scrollElements;\n        var isInverse = this.axis.isAxisInverse;\n        this.getMouseXY(e);\n        this.isResizeLeft = this.isExist(id, '_leftCircle_') || this.isExist(id, '_leftArrow_');\n        this.isResizeRight = this.isExist(id, '_rightCircle_') || this.isExist(id, '_rightArrow_');\n        //  this.previousXY = this.isVertical ? this.mouseY : this.mouseX;\n        this.previousXY = (this.isVertical && isInverse) ? this.mouseY : this.isVertical ? this.width -\n            this.mouseY : isInverse ? this.width - this.mouseX : this.mouseX;\n        this.previousWidth = elem.thumbRectWidth;\n        this.previousRectX = elem.thumbRectX;\n        this.startZoomPosition = this.axis.zoomPosition;\n        this.startZoomFactor = this.axis.zoomFactor;\n        this.startRange = this.axis.visibleRange;\n        this.scrollStarted = true;\n        this.component.trigger(scrollStart, this.getArgs(scrollStart));\n        if (this.isExist(id, 'scrollBarThumb_') || this.isExist(id, 'gripCircle')) {\n            this.isThumbDrag = true;\n            if (this.axis.scrollbarSettings.height >= 12) {\n                this.svgObject.style.cursor = '-webkit-grabbing';\n            }\n        }\n        else if (this.isExist(id, 'scrollBarBackRect_')) {\n            var currentX = this.moveLength(this.previousXY, this.previousRectX);\n            elem.thumbRectX = this.isWithIn(currentX) ? currentX : elem.thumbRectX;\n            this.positionThumb(elem.thumbRectX, elem.thumbRectWidth);\n            this.setZoomFactorPosition(elem.thumbRectX, elem.thumbRectWidth, false);\n            this.axis.zoomPosition = this.zoomPosition < 0 ? 0 : this.zoomPosition > 0.9 ? 1 : this.zoomPosition;\n            if (this.isLazyLoad) {\n                var thumbMove = elem.thumbRectX > this.previousRectX ? 'RightMove' : 'LeftMove';\n                var args = this.calculateLazyRange(elem.thumbRectX, elem.thumbRectWidth, thumbMove);\n                if (args) {\n                    this.component.trigger(scrollEnd, args);\n                }\n            }\n        }\n        /**\n         * Customer issue\n         * Task ID - EJ2-28898\n         * Issue: While element's height is smaller than chart'height, html scroll bar presents. On that case while moving chart scrollbar,\n         * html scrollbar goes up due to chart's svg removed from the dom when zoomFactor and zoomPosition chnaged\n         * Fix: Only for scrolling purpose, height for element is set to chart's available height\n         */\n        if (this.component.element.style.height === '') {\n            this.isCustomHeight = true;\n            this.component.element.style.height = this.component.availableSize.height + 'px';\n        }\n    };\n    /**\n     * To check the matched string\n     *\n     * @param id\n     * @param match\n     */\n    ScrollBar.prototype.isExist = function (id, match) {\n        return id.indexOf(match) > -1;\n    };\n    /**\n     * To check current poisition is within scrollbar region\n     *\n     * @param currentX\n     */\n    ScrollBar.prototype.isWithIn = function (currentX) {\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        return (currentX - circleRadius >= 0 &&\n            currentX + this.scrollElements.thumbRectWidth + circleRadius <= this.width);\n    };\n    /**\n     * Method to find move length of thumb\n     *\n     * @param mouseXY\n     * @param thumbX\n     * @param circleRadius\n     */\n    ScrollBar.prototype.moveLength = function (mouseXY, thumbX, circleRadius) {\n        if (circleRadius === void 0) { circleRadius = this.axis.scrollbarSettings.height / 2; }\n        var moveLength = (10 / 100) * (this.width - circleRadius * 2);\n        if (mouseXY < thumbX) {\n            moveLength = thumbX - (thumbX - moveLength > circleRadius ? moveLength : circleRadius);\n        }\n        else {\n            moveLength = thumbX + (thumbX + this.scrollElements.thumbRectWidth + moveLength < this.width - circleRadius ?\n                moveLength : circleRadius);\n        }\n        return moveLength;\n    };\n    /**\n     * Method to calculate zoom factor and position\n     *\n     * @param currentX\n     * @param currentWidth\n     */\n    ScrollBar.prototype.setZoomFactorPosition = function (currentX, currentWidth, isRequire) {\n        if (isRequire === void 0) { isRequire = true; }\n        this.isScrollUI = true;\n        var axis = this.axis;\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        var circleWidth = 1;\n        var currentScrollWidth = currentX + currentWidth + circleRadius + circleWidth;\n        var currentZPWidth = circleRadius + (circleWidth / 2);\n        var axisSize = this.isVertical ? axis.rect.height : this.width;\n        this.zoomFactor = (currentWidth + (currentScrollWidth >= this.width ? circleRadius + circleWidth : 0)) / axisSize;\n        this.zoomPosition = currentScrollWidth > axisSize ? (1 - axis.zoomFactor) : currentX < (circleRadius + circleWidth) ? 0 :\n            (currentX - (currentX - currentZPWidth <= 0 ? currentZPWidth : 0)) / axisSize;\n        this.zoomPosition = (this.component.enableRtl && !this.isVertical && !axis.isInversed) || (axis.isInversed && !(this.component.enableRtl && !this.isVertical)) ? 1 - (this.zoomPosition + axis.zoomFactor) : this.zoomPosition;\n    };\n    /**\n     * Handles the mouse move on scrollbar.\n     *\n     * @param e\n     */\n    ScrollBar.prototype.scrollMouseMove = function (e) {\n        var target = e.target;\n        var elem = this.scrollElements;\n        var isInverse = this.axis.isAxisInverse;\n        if (!getElement(this.svgObject.id)) {\n            return null;\n        }\n        this.getMouseXY(e);\n        if (!isNullOrUndefined(target.id)) {\n            this.setCursor(target);\n            this.setTheme(target);\n        }\n        //let mouseXY: number = this.isVertical ? this.mouseY : this.mouseX;\n        var mouseXY = (this.isVertical && isInverse) ? this.width - this.mouseY : this.isVertical ?\n            this.mouseY : this.mouseX;\n        var range = this.axis.visibleRange;\n        var zoomPosition = this.zoomPosition;\n        var zoomFactor = this.zoomFactor;\n        var moveLength = this.previousRectX - elem.thumbRectX;\n        var thumbMove = moveLength < 0 ? 'RightMove' : 'LeftMove';\n        var args;\n        if (this.isLazyLoad && (this.isThumbDrag || this.isResizeLeft || this.isResizeRight)) {\n            args = this.calculateLazyRange(elem.thumbRectX, elem.thumbRectWidth, thumbMove);\n        }\n        var currentRange = args ? args.currentRange : null;\n        if (this.isThumbDrag) {\n            this.component.isScrolling = this.isThumbDrag;\n            mouseXY = (this.isVertical || isInverse) ? this.width - mouseXY : mouseXY;\n            var currentX = elem.thumbRectX + (mouseXY - this.previousXY);\n            if (mouseXY >= currentX + elem.thumbRectWidth) {\n                this.setCursor(target);\n            }\n            else {\n                if (this.axis.scrollbarSettings.height >= 12) {\n                    this.svgObject.style.cursor = '-webkit-grabbing';\n                }\n            }\n            if (mouseXY >= 0 && mouseXY <= currentX + elem.thumbRectWidth) {\n                elem.thumbRectX = this.isWithIn(currentX) ? currentX : elem.thumbRectX;\n                this.positionThumb(elem.thumbRectX, elem.thumbRectWidth);\n                this.previousXY = mouseXY;\n                this.setZoomFactorPosition(currentX, elem.thumbRectWidth, false);\n                this.axis.zoomPosition = this.zoomPosition < 0 ? 0 : this.zoomPosition > 0.9 ? 1 : this.zoomPosition;\n            }\n            this.component.trigger(scrollChanged, this.getArgs(scrollChanged, range, zoomPosition, zoomFactor, currentRange));\n        }\n        else if (this.isResizeLeft || this.isResizeRight) {\n            this.resizeThumb();\n        }\n    };\n    /**\n     * Handles the mouse wheel on scrollbar.\n     *\n     * @param e\n     */\n    ScrollBar.prototype.scrollMouseWheel = function (e) {\n        if (!this.axis.scrollbarSettings.enableZoom) {\n            return null;\n        }\n        var svgRect = getElement(this.component.element.id + '_scrollBar_svg' + this.axis.name).getBoundingClientRect();\n        this.mouseX = e.clientX - Math.max(svgRect.left, 0);\n        this.mouseY = e.clientY - Math.max(svgRect.top, 0);\n        var origin = 0.5;\n        var elem = this.scrollElements;\n        var axis = this.axis;\n        var direction = (this.browserName === 'mozilla' && !this.isPointer) ?\n            -(e.detail) / 3 > 0 ? 1 : -1 : (e['wheelDelta'] / 120) > 0 ? 1 : -1;\n        var cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * direction), 1);\n        var range = this.axis.visibleRange;\n        var zoomPosition = this.zoomPosition;\n        var zoomFactor = this.zoomFactor;\n        var args;\n        if (cumulative >= 1) {\n            origin = axis.orientation === 'Horizontal' ? this.mouseX / axis.rect.width : 1 - (this.mouseY / axis.rect.height);\n            origin = origin > 1 ? 1 : origin < 0 ? 0 : origin;\n            this.zoomFactor = (cumulative === 1) ? 1 : minMax(1 / cumulative, 0, 1);\n            this.zoomPosition = (cumulative === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - this.zoomFactor) * origin);\n        }\n        elem.thumbRectX = this.isWithIn(this.zoomPosition * this.width) ? this.zoomPosition * this.width : elem.thumbRectX;\n        this.isScrollUI = true;\n        this.positionThumb(elem.thumbRectX, elem.thumbRectWidth);\n        if (this.isLazyLoad) {\n            this.setZoomFactorPosition(elem.thumbRectX, elem.thumbRectWidth);\n            this.axis.zoomFactor = this.zoomFactor;\n            this.axis.zoomPosition = this.zoomPosition < 0 ? 0 : this.zoomPosition > 0.9 ? 1 : this.zoomPosition;\n        }\n        axis.zoomFactor = this.zoomFactor;\n        axis.zoomPosition = this.zoomPosition;\n        if (this.isLazyLoad) {\n            args = this.calculateMouseWheelRange(elem.thumbRectX, elem.thumbRectWidth);\n            if (args) {\n                if ((args.currentRange.minimum !== args.previousAxisRange.minimum) && (args.currentRange.maximum !==\n                    args.previousAxisRange.maximum)) {\n                    this.component.trigger(scrollEnd, args);\n                    this.isScrollEnd = false;\n                }\n            }\n        }\n        if (!this.isLazyLoad) {\n            this.component.trigger(scrollChanged, this.getArgs(scrollChanged, range, zoomPosition, zoomFactor));\n        }\n    };\n    /**\n     * Handles the mouse up on scrollbar.\n     *\n     * @param e\n     */\n    ScrollBar.prototype.scrollMouseUp = function () {\n        var args;\n        this.startX = this.scrollElements.thumbRectX;\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        var circleWidth = 1;\n        var currentScrollWidth = this.startX + this.scrollElements.thumbRectWidth + circleRadius + circleWidth;\n        var currentZPWidth = circleRadius + (circleWidth / 2);\n        if ((this.isResizeLeft || this.isResizeRight) && !this.isLazyLoad) {\n            this.axis.zoomFactor = (currentScrollWidth >= this.width - 1 && (this.startX - currentZPWidth) <= 0) ? 1 : this.zoomFactor;\n        }\n        if (this.isLazyLoad) {\n            var moveLength = this.previousRectX - this.startX;\n            if ((moveLength > 0 || moveLength < 0) && this.isThumbDrag) {\n                var thumbMove = moveLength < 0 ? 'RightMove' : 'LeftMove';\n                if (thumbMove === 'RightMove') {\n                    this.startX = (this.startX + Math.abs(moveLength)) < this.width - circleRadius ? this.startX :\n                        this.width - circleRadius - this.scrollElements.thumbRectWidth;\n                }\n                else {\n                    this.startX = (this.startX + this.scrollElements.thumbRectWidth - Math.abs(moveLength)) > circleRadius ?\n                        this.startX : circleRadius;\n                }\n                args = this.calculateLazyRange(this.startX, this.scrollElements.thumbRectWidth, thumbMove);\n                if (args) {\n                    this.component.trigger(scrollEnd, args);\n                    this.scrollStarted = false;\n                }\n            }\n            if (this.isResizeLeft || this.isResizeRight) {\n                args = this.calculateLazyRange(this.startX, this.scrollElements.thumbRectWidth);\n                if (args) {\n                    this.component.trigger(scrollEnd, args);\n                    this.scrollStarted = false;\n                }\n            }\n        }\n        this.isThumbDrag = false;\n        this.isResizeLeft = false;\n        this.isResizeRight = false;\n        this.isScrollEnd = false;\n        this.component.isScrolling = false;\n        if (this.scrollStarted && !this.isLazyLoad) {\n            this.component.trigger(scrollEnd, this.getArgs(scrollChanged, this.startRange, this.startZoomPosition, this.startZoomFactor));\n            this.scrollStarted = false;\n        }\n        /**\n         * Customer issue\n         * Task ID - EJ2-28898\n         * Chart's height setted is removed here.\n         */\n        if (this.isCustomHeight) {\n            this.component.element.style.height = null;\n        }\n    };\n    ScrollBar.prototype.calculateMouseWheelRange = function (scrollThumbX, scrollThumbWidth) {\n        var zoomFactor;\n        var zoomPosition;\n        var args;\n        var range = this.scrollRange;\n        var previousRange = this.getStartEnd(this.previousStart, this.previousEnd, false);\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        if ((scrollThumbX + scrollThumbWidth + circleRadius) <= this.width) {\n            zoomPosition = (scrollThumbX - circleRadius) / this.width;\n            zoomFactor = scrollThumbWidth / (this.width);\n        }\n        var currentStart = range.min + zoomPosition * range.delta;\n        var currentEnd = currentStart + zoomFactor * range.delta;\n        if (currentEnd) {\n            args = { axis: this.axis, currentRange: this.getStartEnd(currentStart, currentEnd, true), previousAxisRange: previousRange };\n        }\n        return args;\n    };\n    /**\n     * Range calculation for lazy loading.\n     *\n     * @param scrollThumbX\n     * @param scrollThumbWidth\n     * @param thumbMove\n     * @param scrollThumbX\n     * @param scrollThumbWidth\n     * @param thumbMove\n     * @param scrollThumbX\n     * @param scrollThumbWidth\n     * @param thumbMove\n     */\n    ScrollBar.prototype.calculateLazyRange = function (scrollThumbX, scrollThumbWidth, thumbMove) {\n        var currentScrollWidth = scrollThumbWidth;\n        var zoomFactor;\n        var zoomPosition;\n        var currentStart;\n        var currentEnd;\n        var args;\n        var range = this.scrollRange;\n        var previousRange = this.getStartEnd(this.previousStart, this.previousEnd, false);\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        var circleWidth = 16;\n        if (this.isResizeRight || thumbMove === 'RightMove') {\n            currentScrollWidth = this.isResizeRight ? currentScrollWidth + circleWidth : currentScrollWidth;\n            zoomFactor = (currentScrollWidth) / this.width;\n            zoomPosition = thumbMove === 'RightMove' ? (scrollThumbX + circleRadius) / this.width : this.axis.zoomPosition;\n            currentStart = thumbMove === 'RightMove' ? (range.min + zoomPosition * range.delta) : this.previousStart;\n            currentEnd = currentStart + zoomFactor * range.delta;\n        }\n        else if (this.isResizeLeft || thumbMove === 'LeftMove') {\n            zoomPosition = (scrollThumbX - circleRadius) / this.width;\n            zoomFactor = currentScrollWidth / this.width;\n            currentStart = range.min + zoomPosition * range.delta;\n            currentStart = currentStart >= range.min ? currentStart : range.min;\n            currentEnd = thumbMove === 'LeftMove' ? (currentStart + zoomFactor * range.delta) : this.previousEnd;\n        }\n        else if (this.isThumbDrag) {\n            zoomPosition = thumbMove === 'RightMove' ? (scrollThumbX + circleRadius) / this.width : (scrollThumbX - circleRadius) / this.width;\n            zoomFactor = (this.scrollElements.thumbRectWidth) / this.width;\n            currentStart = range.min + zoomPosition * range.delta;\n            currentStart = currentStart >= range.min ? currentStart : range.min;\n            currentEnd = currentStart + zoomFactor * range.delta;\n        }\n        if (currentEnd) {\n            args = { axis: (this.component.isBlazor ? {} : this.axis), currentRange: this.getStartEnd(currentStart, currentEnd, true),\n                previousAxisRange: previousRange };\n        }\n        return args;\n    };\n    /**\n     * Get start and end values\n     *\n     * @param start\n     * @param end\n     * @param isCurrentStartEnd\n     * @param start\n     * @param end\n     * @param isCurrentStartEnd\n     * @param start\n     * @param end\n     * @param isCurrentStartEnd\n     */\n    ScrollBar.prototype.getStartEnd = function (start, end, isCurrentStartEnd) {\n        var valueType = this.valueType;\n        if ((valueType === 'DateTime' || valueType === 'DateTimeCategory') && isCurrentStartEnd) {\n            this.previousStart = start;\n            this.previousEnd = end;\n        }\n        else if (isCurrentStartEnd) {\n            var currentStart = Math.round(start);\n            var currentEnd = Math.ceil(end);\n            if (this.axis.valueType === 'Category') {\n                currentEnd -= (!this.axis.scrollbarSettings.enableZoom && currentEnd - currentStart > this.previousEnd - this.previousStart) ? (currentEnd - currentStart) - (this.previousEnd - this.previousStart) : 0;\n            }\n            this.previousStart = start = currentStart;\n            this.previousEnd = end = currentEnd;\n        }\n        switch (valueType) {\n            case 'Double':\n            case 'Category':\n            case 'Logarithmic':\n                start = Math.round(start);\n                end = Math.ceil(end);\n                break;\n            case 'DateTime':\n            case 'DateTimeCategory':\n                start = new Date(start);\n                end = new Date(end);\n                break;\n        }\n        return { minimum: start, maximum: end };\n    };\n    /**\n     * To render scroll bar\n     *\n     * @param isScrollExist\n     * @private\n     */\n    ScrollBar.prototype.render = function (isScrollExist) {\n        if (this.component.zoomModule || (isScrollExist && this.axis.scrollbarSettings.enable)) {\n            this.getDefaults();\n        }\n        this.getTheme();\n        this.removeScrollSvg();\n        createScrollSvg(this, this.component.svgRenderer);\n        this.wireEvents(this.svgObject);\n        this.svgObject.appendChild(this.scrollElements.renderElements(this, this.component.svgRenderer));\n        return this.svgObject;\n    };\n    /**\n     * Theming for scrollabr\n     *\n     * @returns {void}\n     */\n    ScrollBar.prototype.getTheme = function () {\n        this.scrollbarThemeStyle = getScrollbarThemeColor(this.component.theme);\n    };\n    /**\n     * Method to remove existing scrollbar.\n     *\n     * @returns {void}\n     */\n    ScrollBar.prototype.removeScrollSvg = function () {\n        if (document.getElementById(this.component.element.id + '_scrollBar_svg' + this.axis.name)) {\n            remove(document.getElementById(this.component.element.id + '_scrollBar_svg' + this.axis.name));\n        }\n    };\n    /**\n     * Method to set cursor fpr scrollbar\n     *\n     * @param target\n     */\n    ScrollBar.prototype.setCursor = function (target) {\n        var id = target.id;\n        this.svgObject.style.cursor = ((id.indexOf('scrollBarThumb_') > -1 || id.indexOf('_gripCircle') > -1) && this.axis.scrollbarSettings.height >= 12) ?\n            '-webkit-grab' : (id.indexOf('Circle_') > -1 || id.indexOf('Arrow_') > -1) ? this.isVertical ? 'ns-resize' :\n            'ew-resize' : 'auto';\n    };\n    /**\n     * Method to set theme for sollbar\n     *\n     * @param target\n     */\n    ScrollBar.prototype.setTheme = function (target) {\n        var id = target.id;\n        var isLeftHover = id.indexOf('_leftCircle_') > -1 || id.indexOf('_leftArrow_') > -1;\n        var isRightHover = id.indexOf('_rightCircle_') > -1 || id.indexOf('_rightArrow_') > -1;\n        var style = this.scrollbarThemeStyle;\n        var leftArrowEle = this.scrollElements.leftArrowEle;\n        var rightArrowEle = this.scrollElements.rightArrowEle;\n        var leftCircleEle = this.scrollElements.leftCircleEle;\n        var rightCircleEle = this.scrollElements.rightCircleEle;\n        var isAxis = this.isCurrentAxis(target, leftArrowEle);\n        leftCircleEle.style.fill = isLeftHover && isAxis ? style.circleHover : style.circle;\n        rightCircleEle.style.fill = isRightHover && isAxis ? style.circleHover : style.circle;\n        leftCircleEle.style.stroke = isLeftHover && isAxis ? style.circleHover : style.circle;\n        rightCircleEle.style.stroke = isRightHover && isAxis ? style.circleHover : style.circle;\n        if (this.component.theme === 'HighContrastLight') {\n            leftArrowEle.style.fill = isLeftHover && isAxis ? style.arrowHover : style.arrow;\n            leftArrowEle.style.stroke = isLeftHover && isAxis ? style.arrowHover : style.arrow;\n            rightArrowEle.style.fill = isRightHover && isAxis ? style.arrowHover : style.arrow;\n            rightArrowEle.style.stroke = isRightHover && isAxis ? style.arrowHover : style.arrow;\n            leftCircleEle.style.stroke = isLeftHover && isAxis ? style.circleHover : style.circle;\n            rightCircleEle.style.stroke = isRightHover && isAxis ? style.circleHover : style.circle;\n        }\n    };\n    /**\n     * To check current axis\n     *\n     * @param target\n     * @param ele\n     */\n    ScrollBar.prototype.isCurrentAxis = function (target, ele) {\n        return (target.id.split('_')[2] === ele.id.split('_')[2]);\n    };\n    /**\n     * Method to resize thumb\n     *\n     * @param e\n     */\n    ScrollBar.prototype.resizeThumb = function () {\n        var currentWidth;\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        var padding = 5;\n        var gripWidth = 14;\n        var minThumbWidth = circleRadius * 2 + padding * 2 + gripWidth;\n        var thumbX = this.previousRectX;\n        var isInverse = this.axis.isAxisInverse;\n        // let mouseXY: number = this.isVertical ? this.mouseY : this.mouseX;\n        var mouseXY = (this.isVertical && isInverse) ? this.mouseY : this.isVertical ? this.width -\n            this.mouseY : isInverse ? this.width - this.mouseX : this.mouseX;\n        var diff = Math.abs(this.previousXY - mouseXY);\n        if (this.isResizeLeft && mouseXY >= 0) {\n            var currentX = thumbX + (mouseXY > this.previousXY ? diff : -diff);\n            currentWidth = currentX - circleRadius >= 0 ? this.previousWidth + (mouseXY > this.previousXY ? -diff : diff) :\n                this.previousWidth;\n            currentX = currentX - circleRadius >= 0 ? currentX : thumbX;\n            if (currentWidth >= minThumbWidth && mouseXY < currentX + currentWidth) {\n                this.scrollElements.thumbRectX = this.previousRectX = currentX;\n                this.scrollElements.thumbRectWidth = this.previousWidth = currentWidth;\n                this.previousXY = mouseXY;\n                this.setZoomFactorPosition(currentX, currentWidth);\n                var argsData = {\n                    axis: (this.component.isBlazor ? {} : this.axis),\n                    name: scrollChanged,\n                    range: this.axis.visibleRange,\n                    zoomFactor: this.zoomFactor,\n                    zoomPosition: this.zoomPosition,\n                    previousRange: this.axis.visibleRange,\n                    previousZoomFactor: this.axis.zoomFactor,\n                    previousZoomPosition: this.axis.zoomPosition,\n                    currentRange: null,\n                    cancel: false\n                };\n                this.component.trigger(scrollChanged, argsData);\n                if (!argsData.cancel) {\n                    this.positionThumb(currentX, currentWidth);\n                    this.axis.zoomFactor = argsData.zoomFactor;\n                    this.axis.zoomPosition = argsData.zoomPosition;\n                }\n                else {\n                    this.zoomFactor = argsData.previousZoomFactor;\n                    this.zoomPosition = argsData.previousZoomPosition;\n                }\n            }\n        }\n        else if (this.isResizeRight) {\n            currentWidth = mouseXY >= minThumbWidth + this.scrollElements.thumbRectX && mouseXY <= this.width - circleRadius ?\n                mouseXY - this.scrollElements.thumbRectX : this.previousWidth;\n            this.scrollElements.thumbRectWidth = this.previousWidth = currentWidth;\n            this.previousXY = mouseXY;\n            this.setZoomFactorPosition(this.startX, currentWidth);\n            if (!this.isLazyLoad) {\n                this.setZoomFactorPosition(this.startX, currentWidth);\n            }\n            var argsData = {\n                axis: (this.component.isBlazor ? {} : this.axis),\n                name: scrollChanged,\n                range: this.axis.visibleRange,\n                zoomFactor: this.zoomFactor,\n                zoomPosition: this.zoomPosition,\n                previousRange: this.axis.visibleRange,\n                previousZoomFactor: this.axis.zoomFactor,\n                previousZoomPosition: this.axis.zoomPosition,\n                currentRange: null,\n                cancel: false\n            };\n            this.component.trigger(scrollChanged, argsData);\n            if (!argsData.cancel) {\n                this.positionThumb(this.startX, currentWidth);\n                this.axis.zoomFactor = argsData.zoomFactor;\n                this.axis.zoomPosition = argsData.zoomPosition;\n            }\n            else {\n                this.zoomFactor = argsData.previousZoomFactor;\n                this.zoomPosition = argsData.previousZoomPosition;\n            }\n        }\n    };\n    /**\n     * Method to position the scrollbar thumb\n     *\n     * @param currentX\n     * @param currentWidth\n     */\n    ScrollBar.prototype.positionThumb = function (currentX, currentWidth) {\n        var elem = this.scrollElements;\n        var gripWidth = 14;\n        var gripCircleDiameter = 2;\n        var padding = gripWidth / 2 - gripCircleDiameter;\n        elem.slider.setAttribute('x', this.axis.scrollbarSettings.enableZoom ? currentX.toString() : (currentX - this.axis.scrollbarSettings.height / 2).toString());\n        elem.slider.setAttribute('width', this.axis.scrollbarSettings.enableZoom ? currentWidth.toString() : (currentWidth + this.axis.scrollbarSettings.height).toString());\n        elem.leftCircleEle.setAttribute('cx', currentX.toString());\n        elem.rightCircleEle.setAttribute('cx', (currentX + currentWidth).toString());\n        elem.setArrowDirection(currentX, currentWidth, this.height);\n        elem.gripCircle.setAttribute('transform', 'translate(' + (currentX + currentWidth / 2 + ((this.isVertical ? 1 : -1) * padding)) +\n            ',' + (this.isVertical ? (this.axis.scrollbarSettings.height / 2 + padding / 2) - 0.5 : (this.axis.scrollbarSettings.height / 2 - padding / 2) - 0.5) + ') rotate(' + (this.isVertical ? '180' : '0') + ')');\n    };\n    /**\n     * Method to get default values\n     *\n     * @returns {void}\n     */\n    ScrollBar.prototype.getDefaults = function () {\n        var axis = this.axis;\n        var circleRadius = this.axis.scrollbarSettings.height / 2;\n        var padding = 5;\n        var gripWidth = 14;\n        var minThumbWidth = circleRadius * 2 + padding * 2 + gripWidth;\n        if (this.axis.scrollbarSettings.enable) {\n            this.isLazyLoad = true;\n            this.getLazyDefaults(axis);\n        }\n        this.isVertical = axis.orientation === 'Vertical';\n        var isRtlEnabled = (this.component.enableRtl && !this.isVertical && !axis.isInversed) || (axis.isInversed && !(this.component.enableRtl && !this.isVertical));\n        this.zoomFactor = this.isLazyLoad ? this.zoomFactor : axis.zoomFactor;\n        this.zoomPosition = this.isLazyLoad ? isRtlEnabled ? 1 - (this.zoomPosition + this.zoomFactor) : this.zoomPosition : isRtlEnabled ? 1 - (axis.zoomPosition + axis.zoomFactor) : axis.zoomPosition;\n        var currentWidth = this.zoomFactor * (this.isVertical ? axis.rect.height : axis.rect.width);\n        currentWidth = (this.isLazyLoad && !this.axis.scrollbarSettings.enableZoom) || currentWidth > minThumbWidth ? currentWidth : minThumbWidth;\n        this.scrollX = axis.rect.x;\n        this.scrollY = axis.rect.y;\n        this.width = this.isVertical ? axis.rect.height : axis.rect.width;\n        this.height = this.axis.scrollbarSettings.height;\n        var currentX = this.zoomPosition * (this.isVertical ? axis.rect.height : this.width);\n        var minThumbX = (this.width - minThumbWidth - circleRadius);\n        this.scrollElements.thumbRectX = currentX > minThumbX ? minThumbX : currentX < circleRadius ? circleRadius : currentX;\n        this.scrollElements.thumbRectWidth = this.isThumbDrag ? this.scrollElements.thumbRectWidth : ((currentWidth + this.scrollElements.thumbRectX) < this.width - (circleRadius * 2))\n            ? currentWidth : this.width - this.scrollElements.thumbRectX - circleRadius;\n    };\n    /**\n     * Lazy load default values.\n     *\n     * @param axis\n     */\n    ScrollBar.prototype.getLazyDefaults = function (axis) {\n        var start;\n        var end;\n        var valueType = axis.valueType;\n        var scrollbarSettings = axis.scrollbarSettings;\n        var range = axis.scrollbarSettings.range;\n        var visibleRange = axis.visibleRange;\n        var pointsLength = axis.scrollbarSettings.pointsLength;\n        this.valueType = valueType = (!scrollbarSettings.range.minimum || !scrollbarSettings.range.maximum) &&\n            scrollbarSettings.pointsLength ? 'Double' : valueType;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.component.intl.getDateParser(option);\n        var dateFormatter = this.component.intl.getDateFormat(option);\n        switch (valueType) {\n            case 'Double':\n            case 'Category':\n            case 'Logarithmic':\n                start = range.minimum ? range.minimum : pointsLength ? 0 : visibleRange.min;\n                end = range.maximum ? range.maximum : pointsLength ? (pointsLength - 1) : visibleRange.max;\n                break;\n            case 'DateTime':\n            case 'DateTimeCategory':\n                start = range.minimum ? Date.parse(dateParser(dateFormatter(range.minimum))) : visibleRange.min;\n                end = range.maximum ? Date.parse(dateParser(dateFormatter(range.maximum))) : visibleRange.max;\n                break;\n        }\n        start = Math.min(start, visibleRange.min);\n        end = Math.max(end, visibleRange.max);\n        var zoomFactor = (visibleRange.max - visibleRange.min) / (end - start);\n        var zoomPosition = (visibleRange.min - start) / (end - start);\n        this.zoomFactor = range.minimum || range.maximum ? zoomFactor : (this.axis.maxPointLength / axis.scrollbarSettings.pointsLength);\n        this.zoomPosition = range.minimum || range.maximum ? zoomPosition : axis.zoomPosition;\n        this.zoomPosition = (this.component.enableRtl && axis.orientation === 'Horizontal' && !axis.isInversed) || (axis.isInversed && !(this.component.enableRtl && axis.orientation === 'Horizontal')) ? 1 - (this.zoomPosition + this.zoomFactor) : this.zoomPosition;\n        this.scrollRange.min = start;\n        this.scrollRange.max = end;\n        this.scrollRange.delta = end - start;\n        this.previousStart = visibleRange.min;\n        this.previousEnd = visibleRange.max;\n    };\n    /**\n     * Method to get log range\n     *\n     * @param axis\n     */\n    ScrollBar.prototype.getLogRange = function (axis) {\n        var range = axis.scrollbarSettings.range;\n        var start = logBase(range.minimum, axis.logBase);\n        var end = logBase(range.maximum, axis.logBase);\n        start = isFinite(start) ? start : range.minimum;\n        end = isFinite(start) ? end : range.maximum;\n        return { minimum: Math.floor(start / 1), maximum: Math.ceil(end / 1) };\n    };\n    /**\n     * Method for injecting scrollbar module.\n     *\n     * @param axis\n     * @param component\n     */\n    ScrollBar.prototype.injectTo = function (axis, component) {\n        axis.zoomingScrollBar = new ScrollBar(component, axis);\n    };\n    /**\n     * Method to destroy scrollbar.\n     *\n     * @returns {void}\n     */\n    ScrollBar.prototype.destroy = function () {\n        var _this = this;\n        if (this.axes) {\n            this.axes.map(function (axis) {\n                axis.zoomingScrollBar.destroy();\n            });\n        }\n        else {\n            this.elements.map(function (element) {\n                _this.unWireEvents(element);\n                remove(element.firstChild);\n            });\n            this.elements = [];\n        }\n    };\n    /**\n     * Method to get scrollbar module name.\n     *\n     * @returns {string}\n     */\n    ScrollBar.prototype.getModuleName = function () {\n        return 'ScrollBar';\n    };\n    ScrollBar.prototype.getArgs = function (eventName, range, zoomPosition, zoomFactor, currentRanges) {\n        var scrollArgs = {\n            axis: (this.component.isBlazor ? {} : this.axis),\n            name: eventName,\n            range: this.axis.visibleRange,\n            zoomFactor: this.axis.zoomFactor,\n            zoomPosition: this.axis.zoomPosition,\n            previousRange: range,\n            previousZoomFactor: zoomFactor,\n            previousZoomPosition: zoomPosition,\n            currentRange: currentRanges\n        };\n        return scrollArgs;\n    };\n    return ScrollBar;\n}());\nexport { ScrollBar };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}