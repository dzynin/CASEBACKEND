{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport ChatUI from '../shared/Chatbox';\nimport \"../style/resizable.css\";\nconst updateHash = highlight => {\n  document.location.hash = `pdf-highlight-${highlight.id}`;\n};\nfunction FileViewer() {\n  var _state$currentFile, _state$currentFile2;\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const [highlights, setHighlights] = useState([]);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 300\n  });\n  const [selectPdf, setSelectPdf] = useState(false);\n  const [show, setShow] = useState(false);\n  const [index, setIndex] = useState();\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [filter, setFilter] = useState(\"\");\n  const [totalHighlights, setTotalHighlights] = useState(0);\n  const [highlightProgress, setHighlightProgress] = useState(0);\n  const updateProgress = (currentIndex, total) => {\n    setHighlightProgress((currentIndex + 1) / total * 100);\n  };\n  const handlePreviousHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    if (filteredHighlights.length === 0) {\n      alert(`No highlights available for '${filter}'`);\n      return; // Early return to prevent further execution\n    }\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const prevIndex = (currentFilteredIndex - 1 + filteredHighlights.length) % filteredHighlights.length;\n    const prevHighlight = filteredHighlights[prevIndex];\n    setCurrentHighlightIndex(highlights.indexOf(prevHighlight));\n    updateHash(prevHighlight);\n    updateProgress(highlights.indexOf(prevHighlight), filteredHighlights.length);\n    scrollToActiveCard(); // Ensuring the card scrolls into view\n  };\n  const handleNextHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    if (filteredHighlights.length === 0) {\n      return; // Early return to prevent further execution\n    }\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const nextIndex = (currentFilteredIndex + 1) % filteredHighlights.length;\n    if (nextIndex === 0 && currentFilteredIndex === filteredHighlights.length - 1) {\n      return;\n    }\n    const nextHighlight = filteredHighlights[nextIndex];\n    setCurrentHighlightIndex(highlights.indexOf(nextHighlight));\n    updateHash(nextHighlight);\n    updateProgress(highlights.indexOf(nextHighlight), filteredHighlights.length);\n    scrollToActiveCard(); // Ensuring the card scrolls into view\n  };\n  const handleFilterChange = newFilter => {\n    setFilter(newFilter);\n\n    // Apply the new filter and get filtered highlights\n    const filteredHighlights = highlights.filter(h => newFilter === \"\" || h.comment.text.toUpperCase().includes(newFilter.toUpperCase()));\n\n    // Set the total number of highlights which helps in calculating the progress\n    setTotalHighlights(filteredHighlights.length);\n\n    // Check if there are any highlights that match the new filter\n    if (filteredHighlights.length > 0) {\n      // Reset the index to start at the first highlight of the filtered list\n      setCurrentHighlightIndex(highlights.indexOf(filteredHighlights[0]));\n      // Update the progress for the new filtered list\n      updateProgress(0, filteredHighlights.length);\n      // Update the hash to jump to the first highlight of the new filter\n      updateHash(filteredHighlights[0]);\n    } else {\n      // No highlights available for this filter\n      setCurrentHighlightIndex(-1); // Indicates no selection\n      setHighlightProgress(0); // Reset progress bar\n      // Optionally revert to the first available highlight if no filter matches\n      if (highlights.length > 0) {\n        setCurrentHighlightIndex(0);\n        updateHash(highlights[0]);\n        updateProgress(0, highlights.length);\n      } else {\n        document.location.hash = \"\"; // Clear the hash as no valid highlight\n        // alert(`No highlights available for '${newFilter}'`);\n      }\n    }\n  };\n  const handleClose = () => setShow(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      let highlightUpdated = false;\n      const filteredHighlights = state.fileHighlights.reduce((acc, item) => {\n        if (item.name === state.currentFile.name) {\n          // Include only highlights that do not have the label \"OTHER\" and match the current filter (if any)\n          const validHighlights = item.highlights.filter(highlight => highlight.comment.text !== \"OTHER\" && (!filter || highlight.comment.text.toUpperCase().includes(filter)));\n          acc.push(...validHighlights);\n          highlightUpdated = true;\n        }\n        return acc;\n      }, []);\n      setHighlights(filteredHighlights);\n      if (!highlightUpdated || filteredHighlights.length === 0) {\n        setHighlights([]); // Clear highlights if none match or file changes\n      }\n      setCurrentHighlightIndex(0); // Reset index to start at first of new filtered list or if file changes\n    }\n  }, [state.currentFile, state.fileHighlights, filter]); // Dependency on filter ensures index reset on filter change\n\n  const handleFileClick = async index => {\n    dispatch({\n      type: \"SET_CURR_FILE\",\n      payload: state.files[index]\n    });\n    dispatch({\n      type: \"SET_MODAL\",\n      payload: false\n    });\n    setSelectPdf(false);\n  };\n  const handleRemove = index => {\n    setShow(true);\n    setIndex(index);\n  };\n  const handleRemoveFile = data => {\n    console.log(data, \"File Remove....\");\n    if (state.files.length > 0) {\n      let arr = state.files;\n      arr.splice(arr.findIndex(a => a.name === data.name), 1);\n      dispatch({\n        type: \"ADD_FILE\",\n        payload: arr\n      });\n      dispatch({\n        type: \"SET_CURR_FILE\",\n        payload: state.files[0]\n      });\n    } else {\n      dispatch({\n        type: \"ADD_FILE\",\n        payload: []\n      });\n      dispatch({\n        type: \"SET_FILE_HIGHLIGHTS\",\n        payload: []\n      });\n      dispatch({\n        type: \"SET_CURR_FILE\",\n        payload: null\n      });\n    }\n    setShow(false);\n    axios.post(`${BASE_URL_DEV}/deletePdfAndGraphData`, {\n      fileName: data.name\n    }, {\n      headers: {\n        'x-access-token': state.auth && state.auth.authToken\n      }\n    }).then(function (response) {\n      console.log(\"delete api response\", response);\n    });\n  };\n  const deleteHighlight = index => {\n    const updatedHighlights = highlights.filter((highlight, idx) => {\n      if (index !== idx) {\n        return highlight;\n      }\n    });\n    setHighlights(updatedHighlights);\n  };\n  const hideModal = () => {\n    setSelectPdf(false);\n    dispatch({\n      type: \"SET_MODAL\",\n      payload: false\n    });\n  };\n  const resetHighlights = () => {\n    setHighlights([]);\n  };\n  const handleSendToEditor = highlight => {\n    if (!highlight.comment || !highlight.content) {\n      console.error(\"Highlight structure is not as expected\", highlight);\n      return;\n    }\n    const payload = {\n      commentText: highlight.comment.text,\n      contentText: highlight.content.text\n    };\n    dispatch({\n      type: 'ADD_HIGHLIGHT_TEXT',\n      payload\n    });\n  };\n  const handleWheel = event => {\n    const delta = event.deltaY;\n    event.preventDefault(); // Prevent default scrolling\n\n    if (delta < 0) {\n      handlePreviousHighlight();\n    } else if (delta > 0) {\n      handleNextHighlight();\n    }\n    scrollToActiveCard(); // Ensure the new active card is scrolled to view\n  };\n  const handleHighlightClick = index => {\n    setCurrentHighlightIndex(index);\n    updateHash(highlights[index]);\n  };\n  const scrollToActiveCard = () => {\n    setTimeout(() => {\n      const activeCard = document.querySelector('.newcard.active');\n      if (activeCard) {\n        activeCard.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    }, 0);\n  };\n\n  // Call this function after updating the current highlight index\n  // setCurrentHighlightIndex(newIndex);\n  scrollToActiveCard();\n  return /*#__PURE__*/React.createElement(Resizable, {\n    className: \"box\",\n    width: dimensions.width,\n    onResize: (e, {\n      size\n    }) => setDimensions({\n      width: size.width\n    }),\n    resizeHandles: [\"e\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarnew\",\n    style: {\n      width: \"36vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-container\",\n    style: {\n      width: '100%',\n      backgroundColor: '#222d37',\n      height: '1vh',\n      margin: '1vh 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar\",\n    style: {\n      width: `${highlightProgress}%`,\n      height: '5px',\n      backgroundColor: '#2e5f8a'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: e => {\n      e.stopPropagation();\n      handlePreviousHighlight();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  }, \"Previous\"), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    caret: true,\n    color: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(DropdownMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    header: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 23\n    }\n  }, \"Jump to\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => handleFilterChange(\"AXIOM\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 23\n    }\n  }, \"Axiom\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => handleFilterChange(\"ISSUE\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 23\n    }\n  }, \"Issue\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => handleFilterChange(\"LEGAL_TEST\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 23\n    }\n  }, \"Legal Test\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => handleFilterChange(\"CONCLUSION\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 23\n    }\n  }, \"Conclusion\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    divider: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: e => {\n      e.stopPropagation();\n      handleNextHighlight();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }, \"Next\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__highlights\",\n    onWheel: handleWheel,\n    style: {\n      overflowY: \"scroll\",\n      height: \"calc(15vh)\",\n      position: \"relative\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }, highlights.length > 0 ? highlights.map((highlight, idx) => /*#__PURE__*/React.createElement(\"div\", {\n    className: `newcard ${idx === currentHighlightIndex ? 'active' : ''}`,\n    key: idx,\n    onClick: () => handleHighlightClick(idx),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 27\n    }\n  }, processMd(highlight.comment.text)), highlight.content.text && /*#__PURE__*/React.createElement(\"blockquote\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 31\n    }\n  }, `${highlight.content.text.slice(0, 90).trim()}…`), highlight.content.image && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight__image\",\n    style: {\n      marginTop: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: highlight.content.image,\n    alt: \"Screenshot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 35\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-highlights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 19\n    }\n  }, \"No Highlights Available for Selected Pdf!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ChatUI, {\n    socket: socket,\n    documentId: (_state$currentFile = state.currentFile) === null || _state$currentFile === void 0 ? void 0 : _state$currentFile.id,\n    fileName: (_state$currentFile2 = state.currentFile) === null || _state$currentFile2 === void 0 ? void 0 : _state$currentFile2.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  }))));\n}\nexport default FileViewer;","map":{"version":3,"names":["React","useContext","useState","useEffect","Modal","Button","UserContext","Resizable","processMd","axios","BASE_URL_DEV","FontAwesomeIcon","faExclamationCircle","faPlus","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","ChatUI","updateHash","highlight","document","location","hash","id","FileViewer","_state$currentFile","_state$currentFile2","state","dispatch","highlights","setHighlights","dimensions","setDimensions","height","width","selectPdf","setSelectPdf","show","setShow","index","setIndex","currentHighlightIndex","setCurrentHighlightIndex","filter","setFilter","totalHighlights","setTotalHighlights","highlightProgress","setHighlightProgress","updateProgress","currentIndex","total","handlePreviousHighlight","filteredHighlights","h","comment","text","toUpperCase","includes","length","alert","currentFilteredIndex","findIndex","prevIndex","prevHighlight","indexOf","scrollToActiveCard","handleNextHighlight","nextIndex","nextHighlight","handleFilterChange","newFilter","handleClose","currentFile","highlightUpdated","fileHighlights","reduce","acc","item","name","validHighlights","push","handleFileClick","type","payload","files","handleRemove","handleRemoveFile","data","console","log","arr","splice","a","post","fileName","headers","auth","authToken","then","response","deleteHighlight","updatedHighlights","idx","hideModal","resetHighlights","handleSendToEditor","content","error","commentText","contentText","handleWheel","event","delta","deltaY","preventDefault","handleHighlightClick","setTimeout","activeCard","querySelector","scrollIntoView","behavior","block","createElement","className","onResize","e","size","resizeHandles","__self","__source","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","margin","onClick","stopPropagation","caret","color","header","divider","onWheel","overflowY","position","map","key","slice","trim","image","marginTop","src","alt","socket","documentId"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/Dashboard/FileViewer.js"],"sourcesContent":["// @flow\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport { Resizable } from \"react-resizable\";\nimport processMd from \"./markdown\";\nimport axios from \"axios\";\nimport { BASE_URL_DEV } from \"../utils\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport ChatUI from '../shared/Chatbox';\n\nimport \"../style/resizable.css\";\n\nconst updateHash = (highlight) => {\n  document.location.hash = `pdf-highlight-${highlight.id}`;\n};\n\nfunction FileViewer() {\n  const { state, dispatch } = useContext(UserContext);\n\n  const [highlights, setHighlights] = useState([]);\n  const [dimensions, setDimensions] = useState({\n    height: 720,\n    width: 300,\n  });\n  const [selectPdf, setSelectPdf] = useState(false);\n\n  const [show, setShow] = useState(false);\n  const [index, setIndex] = useState();\n  const [currentHighlightIndex, setCurrentHighlightIndex] = useState(0);\n  const [filter, setFilter] = useState(\"\");\n  const [totalHighlights, setTotalHighlights] = useState(0);\n  const [highlightProgress, setHighlightProgress] = useState(0);\n\n  const updateProgress = (currentIndex, total) => {\n    setHighlightProgress(((currentIndex + 1) / total) * 100);\n  };\n  \n  const handlePreviousHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    if (filteredHighlights.length === 0) {\n      alert(`No highlights available for '${filter}'`);\n      return; // Early return to prevent further execution\n    }\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const prevIndex = (currentFilteredIndex - 1 + filteredHighlights.length) % filteredHighlights.length;\n    const prevHighlight = filteredHighlights[prevIndex];\n    setCurrentHighlightIndex(highlights.indexOf(prevHighlight));\n    updateHash(prevHighlight);\n    updateProgress(highlights.indexOf(prevHighlight), filteredHighlights.length);\n    scrollToActiveCard(); // Ensuring the card scrolls into view\n};\n\nconst handleNextHighlight = () => {\n    const filteredHighlights = highlights.filter(h => h.comment.text.toUpperCase().includes(filter));\n    if (filteredHighlights.length === 0) {\n      return; // Early return to prevent further execution\n    }\n    const currentFilteredIndex = filteredHighlights.findIndex(h => h === highlights[currentHighlightIndex]);\n    const nextIndex = (currentFilteredIndex + 1) % filteredHighlights.length;\n    if (nextIndex === 0 && currentFilteredIndex === filteredHighlights.length - 1) {\n      return;\n    }\n    const nextHighlight = filteredHighlights[nextIndex];\n    setCurrentHighlightIndex(highlights.indexOf(nextHighlight));\n    updateHash(nextHighlight);\n    updateProgress(highlights.indexOf(nextHighlight), filteredHighlights.length);\n    scrollToActiveCard(); // Ensuring the card scrolls into view\n};\n\n  const handleFilterChange = (newFilter) => {\n    setFilter(newFilter);\n  \n    // Apply the new filter and get filtered highlights\n    const filteredHighlights = highlights.filter(h =>\n      newFilter === \"\" || h.comment.text.toUpperCase().includes(newFilter.toUpperCase())\n    );\n  \n    // Set the total number of highlights which helps in calculating the progress\n    setTotalHighlights(filteredHighlights.length);\n  \n    // Check if there are any highlights that match the new filter\n    if (filteredHighlights.length > 0) {\n      // Reset the index to start at the first highlight of the filtered list\n      setCurrentHighlightIndex(highlights.indexOf(filteredHighlights[0]));\n      // Update the progress for the new filtered list\n      updateProgress(0, filteredHighlights.length);\n      // Update the hash to jump to the first highlight of the new filter\n      updateHash(filteredHighlights[0]);\n    } else {\n      // No highlights available for this filter\n      setCurrentHighlightIndex(-1); // Indicates no selection\n      setHighlightProgress(0); // Reset progress bar\n      // Optionally revert to the first available highlight if no filter matches\n      if (highlights.length > 0) {\n        setCurrentHighlightIndex(0);\n        updateHash(highlights[0]);\n        updateProgress(0, highlights.length);\n      } else {\n        document.location.hash = \"\"; // Clear the hash as no valid highlight\n        // alert(`No highlights available for '${newFilter}'`);\n      }\n    }\n  };\n  \n\n\n\n  const handleClose = () => setShow(false);\n  useEffect(() => {\n    if (state.currentFile) {\n      let highlightUpdated = false;\n      const filteredHighlights = state.fileHighlights.reduce((acc, item) => {\n        if (item.name === state.currentFile.name) {\n          // Include only highlights that do not have the label \"OTHER\" and match the current filter (if any)\n          const validHighlights = item.highlights.filter(highlight => \n            highlight.comment.text !== \"OTHER\" &&\n            (!filter || highlight.comment.text.toUpperCase().includes(filter))\n          );\n          acc.push(...validHighlights);\n          highlightUpdated = true;\n        }\n        return acc;\n      }, []);\n  \n      setHighlights(filteredHighlights);\n      if (!highlightUpdated || filteredHighlights.length === 0) {\n        setHighlights([]); // Clear highlights if none match or file changes\n      }\n      setCurrentHighlightIndex(0); // Reset index to start at first of new filtered list or if file changes\n    }\n  }, [state.currentFile, state.fileHighlights, filter]);  // Dependency on filter ensures index reset on filter change\n  \n  const handleFileClick = async (index) => {\n    dispatch({ type: \"SET_CURR_FILE\", payload: state.files[index] });\n    dispatch({ type: \"SET_MODAL\", payload: false });\n\n    setSelectPdf(false);\n  };\n\n  const handleRemove = (index) => {\n    setShow(true);\n    setIndex(index);\n  }\n\n  const handleRemoveFile = (data) => {\n    console.log(data, \"File Remove....\")\n\n\n\n    if (state.files.length > 0) {\n      let arr = state.files\n      arr.splice(arr.findIndex(a => a.name === data.name), 1)\n      dispatch({ type: \"ADD_FILE\", payload: arr });\n      dispatch({ type: \"SET_CURR_FILE\", payload: state.files[0] });\n    } else {\n      dispatch({ type: \"ADD_FILE\", payload: [] });\n      dispatch({\n        type: \"SET_FILE_HIGHLIGHTS\",\n        payload: [],\n      });\n      dispatch({ type: \"SET_CURR_FILE\", payload: null });\n    }\n\n\n    setShow(false);\n\n\n    axios.post(`${BASE_URL_DEV}/deletePdfAndGraphData`, { fileName: data.name }, {\n      headers: {\n        'x-access-token': state.auth && state.auth.authToken,\n      }\n    })\n      .then(function (response) {\n        console.log(\"delete api response\", response)\n\n      })\n\n  }\n\n  const deleteHighlight = (index) => {\n    const updatedHighlights = highlights.filter((highlight, idx) => {\n      if (index !== idx) {\n        return highlight;\n      }\n    });\n    setHighlights(updatedHighlights);\n  };\n  const hideModal = () => {\n    setSelectPdf(false);\n    dispatch({ type: \"SET_MODAL\", payload: false });\n\n  }\n  const resetHighlights = () => {\n    setHighlights([]);\n  };\n\n  const handleSendToEditor = (highlight) => {\n    if (!highlight.comment || !highlight.content) {\n        console.error(\"Highlight structure is not as expected\", highlight);\n        return;\n    }\n\n    const payload = {\n        commentText: highlight.comment.text,\n        contentText: highlight.content.text,\n    };\n    dispatch({ type: 'ADD_HIGHLIGHT_TEXT', payload });\n};\n\nconst handleWheel = (event) => {\n  const delta = event.deltaY;\n  event.preventDefault(); // Prevent default scrolling\n\n  if (delta < 0) {\n    handlePreviousHighlight();\n  } else if (delta > 0) {\n    handleNextHighlight();\n  }\n  scrollToActiveCard(); // Ensure the new active card is scrolled to view\n};\n\n\n\nconst handleHighlightClick = (index) => {\n  setCurrentHighlightIndex(index);\n  updateHash(highlights[index]);\n};\n\n\nconst scrollToActiveCard = () => {\n  setTimeout(() => {\n      const activeCard = document.querySelector('.newcard.active');\n      if (activeCard) {\n          activeCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n      }\n  }, 0);\n};\n\n// Call this function after updating the current highlight index\n// setCurrentHighlightIndex(newIndex);\nscrollToActiveCard();\n\nreturn (\n  <Resizable className=\"box\" width={dimensions.width} onResize={(e, { size }) => setDimensions({ width: size.width })} resizeHandles={[\"e\"]}>\n      <div className=\"sidebarnew\" style={{ width: \"36vw\" }}>\n\n          {/* Progress Bar */}\n          <div className=\"progress-container\" style={{ width: '100%', backgroundColor: '#222d37', height: '1vh', margin: '1vh 0' }}>\n              <div className=\"progress-bar\" style={{ width: `${highlightProgress}%`, height: '5px', backgroundColor: '#2e5f8a' }}></div>\n          </div>\n\n          {/* Navigation and Filtering */}\n          <div className=\"highlight-actions\">\n              <button className=\"btn btn-secondary\" onClick={(e) => {\n                  e.stopPropagation();\n                  handlePreviousHighlight();\n              }}>Previous</button>\n\n              <UncontrolledDropdown>\n                  <DropdownToggle caret color=\"warning\">\n                      Category\n                  </DropdownToggle>\n                  <DropdownMenu>\n                      <DropdownItem header>Jump to</DropdownItem>\n                      <DropdownItem onClick={() => handleFilterChange(\"AXIOM\")}>Axiom</DropdownItem>\n                      <DropdownItem onClick={() => handleFilterChange(\"ISSUE\")}>Issue</DropdownItem>\n                      <DropdownItem onClick={() => handleFilterChange(\"LEGAL_TEST\")}>Legal Test</DropdownItem>\n                      <DropdownItem onClick={() => handleFilterChange(\"CONCLUSION\")}>Conclusion</DropdownItem>\n                      <DropdownItem divider />\n                  </DropdownMenu>\n              </UncontrolledDropdown>\n\n              <button className=\"btn btn-primary\" onClick={(e) => {\n                  e.stopPropagation();\n                  handleNextHighlight();\n              }}>Next</button>\n          </div>\n\n          {/* Highlight cards within a scrollable container */}\n          <div className=\"sidebar__highlights\" onWheel={handleWheel} style={{ overflowY: \"scroll\", height: \"calc(15vh)\", position: \"relative\" }}>\n              {highlights.length > 0 ? highlights.map((highlight, idx) => (\n                  <div className={`newcard ${idx === currentHighlightIndex ? 'active' : ''}`} key={idx} onClick={() => handleHighlightClick(idx)}>\n                      <div>\n                          <strong>{processMd(highlight.comment.text)}</strong>\n                          {highlight.content.text && (\n                              <blockquote>{`${highlight.content.text.slice(0, 90).trim()}…`}</blockquote>\n                          )}\n                          {highlight.content.image && (\n                              <div className=\"highlight__image\" style={{ marginTop: \"0.5rem\" }}>\n                                  <img src={highlight.content.image} alt=\"Screenshot\" />\n                              </div>\n                          )}\n                      </div>\n                  </div>\n              )) : (\n                  <div className=\"no-highlights\">No Highlights Available for Selected Pdf!</div>\n              )}\n          </div>\n\n          {/* Summary Card Section */}\n          {/* <div className=\"description\" style={{ padding: \"1rem\" }}> */}\n          <div className=\"description\">\n\n              {/* <div className=\"summary-section\"><h2>Summary</h2></div>\n              <div className=\"highlight-card\" key={currentHighlightIndex}>\n                  <div className=\"card-body\">\n                      <strong> Details Here</strong>\n                      <blockquote>This is an example of some summary text that could be here.</blockquote>\n                  </div>\n              </div> */}\n\n\n        {/* <ChatUI /> */}\n        <ChatUI socket={socket} documentId={state.currentFile?.id} fileName={state.currentFile?.name} />\n\n          </div>\n\n      </div>\n  </Resizable>\n);\n\n}\n\nexport default FileViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}