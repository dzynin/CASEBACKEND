{"ast":null,"code":"import { createElement, isNullOrUndefined, L10n, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { WCharacterStyle, WParagraphStyle } from '../../implementation/format/style';\nimport { internalStyleCollectionChange } from '../../base/index';\nimport { BulletsAndNumberingDialog } from './index';\nimport { Query } from '@syncfusion/ej2-data';\nimport { WAbstractList } from '../list/abstract-list';\nimport { ColorPicker, TextBox } from '@syncfusion/ej2-inputs';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { SanitizeHtmlHelper } from '@syncfusion/ej2-base';\n/**\n * The Style dialog is used to create or modify styles.\n */\nvar StyleDialog = /** @class */function () {\n  /**\n   * @param {DocumentHelper} documentHelper - Specifies the document helper.\n   * @private\n   */\n  function StyleDialog(documentHelper) {\n    var _this = this;\n    this.target = undefined;\n    this.styleType = undefined;\n    this.styleBasedOn = undefined;\n    this.styleParagraph = undefined;\n    this.onlyThisDocument = undefined;\n    this.template = undefined;\n    this.fontFamily = undefined;\n    this.fontSize = undefined;\n    this.characterFormat = undefined;\n    this.paragraphFormat = undefined;\n    /**\n     *\n     * @param {DropDownButtonMenuEventArgs} args - Specifies the event args.\n     * @returns {void}\n     */\n    this.openDialog = function (args) {\n      switch (args.item.id) {\n        case 'style_font':\n          _this.showFontDialog();\n          break;\n        case 'style_paragraph':\n          _this.showParagraphDialog();\n          break;\n        case 'style_numbering':\n          _this.showNumberingBulletDialog();\n          break;\n      }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setBoldProperty = function () {\n      _this.characterFormat.bold = !_this.characterFormat.bold;\n      _this.fontButtonClicked();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setItalicProperty = function () {\n      _this.characterFormat.italic = !_this.characterFormat.italic;\n      _this.fontButtonClicked();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setUnderlineProperty = function () {\n      _this.characterFormat.underline = _this.characterFormat.underline === 'None' ? 'Single' : 'None';\n      _this.fontButtonClicked();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.fontButtonClicked = function () {\n      if (_this.characterFormat.bold) {\n        if (!_this.bold.classList.contains('e-active')) {\n          _this.bold.classList.add('e-active');\n        }\n      } else {\n        if (_this.bold.classList.contains('e-active')) {\n          _this.bold.classList.remove('e-active');\n        }\n      }\n      if (_this.characterFormat.italic) {\n        if (!_this.italic.classList.contains('e-active')) {\n          _this.italic.classList.add('e-active');\n        }\n      } else {\n        if (_this.italic.classList.contains('e-active')) {\n          _this.italic.classList.remove('e-active');\n        }\n      }\n      if (_this.characterFormat.underline !== undefined && _this.characterFormat.underline !== 'None') {\n        if (!_this.underline.classList.contains('e-active')) {\n          _this.underline.classList.add('e-active');\n          _this.characterFormat.underline = 'Single';\n        }\n      } else {\n        if (_this.underline.classList.contains('e-active')) {\n          _this.underline.classList.remove('e-active');\n          _this.characterFormat.underline = 'None';\n        }\n      }\n    };\n    /**\n     * @private\n     * @param {ChangeEventArgs} args - Specifies the event args.\n     * @returns {void}\n     */\n    this.fontSizeUpdate = function (args) {\n      _this.characterFormat.fontSize = args.value;\n    };\n    /**\n     * @private\n     * @param {ChangeEventArgs} args - Specifies the event args.\n     * @returns {void}\n     */\n    this.fontFamilyChanged = function (args) {\n      _this.characterFormat.fontFamily = args.value.toString();\n    };\n    /**\n     * @private\n     * @param {ColorPickerEventArgs} args - Specifies the event args.\n     * @returns {void}\n     */\n    this.fontColorUpdate = function (args) {\n      _this.characterFormat.fontColor = args.currentValue.hex;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setLeftAlignment = function () {\n      if (_this.paragraphFormat.textAlignment === 'Left') {\n        _this.paragraphFormat.textAlignment = 'Justify';\n      } else {\n        _this.paragraphFormat.textAlignment = 'Left';\n      }\n      _this.updateParagraphFormat();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setRightAlignment = function () {\n      if (_this.paragraphFormat.textAlignment === 'Right') {\n        _this.paragraphFormat.textAlignment = 'Left';\n      } else {\n        _this.paragraphFormat.textAlignment = 'Right';\n      }\n      _this.updateParagraphFormat();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setCenterAlignment = function () {\n      if (_this.paragraphFormat.textAlignment === 'Center') {\n        _this.paragraphFormat.textAlignment = 'Left';\n      } else {\n        _this.paragraphFormat.textAlignment = 'Center';\n      }\n      _this.updateParagraphFormat();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.setJustifyAlignment = function () {\n      if (_this.paragraphFormat.textAlignment === 'Justify') {\n        _this.paragraphFormat.textAlignment = 'Left';\n      } else {\n        _this.paragraphFormat.textAlignment = 'Justify';\n      }\n      _this.updateParagraphFormat();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.increaseBeforeAfterSpacing = function () {\n      _this.paragraphFormat.beforeSpacing += 6;\n      _this.paragraphFormat.afterSpacing += 6;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.decreaseBeforeAfterSpacing = function () {\n      if (_this.paragraphFormat.beforeSpacing >= 6) {\n        _this.paragraphFormat.beforeSpacing -= 6;\n      } else {\n        _this.paragraphFormat.beforeSpacing = 0;\n      }\n      if (_this.paragraphFormat.afterSpacing >= 6) {\n        _this.paragraphFormat.afterSpacing -= 6;\n      } else {\n        _this.paragraphFormat.afterSpacing = 0;\n      }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.updateNextStyle = function (args) {\n      var typedName = args.srcElement.value;\n      if (_this.getTypeValue() === _this.localObj.getConstant('Paragraph') && !isNullOrUndefined(typedName) && typedName !== '' && !_this.isUserNextParaUpdated) {\n        var styles = _this.documentHelper.styles.getStyleNames(_this.getTypeValue());\n        if (_this.isEdit) {\n          styles = styles.filter(function (e) {\n            return e !== _this.editStyleName;\n          });\n        }\n        styles.push(typedName);\n        _this.styleParagraph.dataSource = styles;\n        _this.styleParagraph.index = null;\n        _this.styleParagraph.index = styles.indexOf(typedName);\n        // this.styleParagraph.dataBind();\n      }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.updateOkButton = function () {\n      var styleName = _this.target.getElementsByClassName('e-input e-de-style-dlg-name-input').item(0).value;\n      _this.enableOrDisableOkButton();\n    };\n    /**\n     * @private\n     * @param {ChangeEventArgs} args - Specifies the event args.\n     * @returns {void}\n     */\n    this.styleTypeChange = function (args) {\n      if (args.isInteracted) {\n        var type = void 0;\n        if (args.value === 'Character') {\n          _this.style = new WCharacterStyle();\n          type = 'Character';\n        }\n        if (args.value === 'Paragraph' || args.value === 'Linked Style') {\n          _this.style = new WParagraphStyle();\n          type = 'Paragraph';\n        }\n        _this.toggleDisable();\n        _this.updateStyleNames(type);\n      }\n    };\n    /**\n     * @returns {void}\n     */\n    this.styleBasedOnChange = function () {\n      //Based on change\n    };\n    /**\n     * @private\n     * @param {SelectEventArgs} args - Specifies the event args.\n     * @returns {void}\n     */\n    this.styleParagraphChange = function (args) {\n      if (args.isInteracted) {\n        _this.isUserNextParaUpdated = true;\n      }\n      //Next change\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.showFontDialog = function () {\n      if (!isNullOrUndefined(_this.documentHelper.owner.fontDialogModule)) {\n        _this.documentHelper.owner.showFontDialog(_this.characterFormat);\n      }\n      _this.updateCharacterFormat();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.showParagraphDialog = function () {\n      if (!isNullOrUndefined(_this.documentHelper.owner.paragraphDialogModule)) {\n        _this.documentHelper.owner.showParagraphDialog(_this.paragraphFormat);\n      }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.showNumberingBulletDialog = function () {\n      _this.numberingBulletDialog = new BulletsAndNumberingDialog(_this.documentHelper);\n      if (_this.style instanceof WParagraphStyle && !isNullOrUndefined(_this.style.paragraphFormat)) {\n        _this.numberingBulletDialog.showNumberBulletDialog(_this.style.paragraphFormat.listFormat, _this.abstractList);\n      }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.onOkButtonClick = function () {\n      var styleName = SanitizeHtmlHelper.sanitize(_this.styleNameElement.value);\n      if (styleName.length > 0) {\n        var style = _this.documentHelper.styles.findByName(styleName);\n        var name_1;\n        if (!isNullOrUndefined(style)) {\n          _this.documentHelper.owner.editorHistoryModule.initializeHistory('ModifyStyle');\n          if (_this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo && _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.action === 'ModifyStyle') {\n            var listId_1 = style instanceof WParagraphStyle ? style.paragraphFormat.listFormat.listId : -1;\n            var styleObject = _this.documentHelper.owner.getStyleObject(style, listId_1);\n            _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.modifiedProperties.push(styleObject);\n          }\n          _this.documentHelper.owner.editorHistoryModule.updateHistory();\n          _this.style.type = _this.getTypeValue();\n          _this.style.basedOn = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleBasedOn.value));\n          if (_this.styleType.value === 'Paragraph' || _this.styleType.value === 'Linked Style') {\n            _this.style.next = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleParagraph.value));\n            _this.style.characterFormat.mergeFormat(_this.characterFormat);\n            _this.style.paragraphFormat.mergeFormat(_this.paragraphFormat, true);\n            _this.updateList();\n            _this.style.link = _this.styleType.value === 'Linked Style' ? _this.createLinkStyle(styleName, _this.isEdit) : undefined;\n          }\n          //Updating existing style implementation\n          _this.style.name = style.name;\n          name_1 = style.name;\n          style = _this.style;\n          var listId = _this.style instanceof WParagraphStyle ? _this.style.paragraphFormat.listFormat.listId : -1;\n          _this.documentHelper.owner.setStyleData(name_1, listId);\n          _this.documentHelper.owner.isShiftingEnabled = true;\n          _this.documentHelper.owner.editorModule.isSkipOperationsBuild = _this.documentHelper.owner.enableCollaborativeEditing;\n          _this.documentHelper.owner.editorModule.layoutWholeDocument();\n          _this.documentHelper.owner.editorModule.isSkipOperationsBuild = false;\n          _this.documentHelper.owner.isShiftingEnabled = false;\n        } else {\n          var tmpStyle = _this.getTypeValue() === 'Paragraph' ? new WParagraphStyle() : new WCharacterStyle();\n          tmpStyle.copyStyle(_this.style);\n          if (_this.getTypeValue() === 'Character') {\n            tmpStyle.characterFormat.copyFormat(_this.characterFormat);\n          }\n          var basedOn = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleBasedOn.value));\n          if (_this.styleType.value === 'Paragraph' || _this.styleType.value === 'Linked Style') {\n            if (styleName === _this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleParagraph.value)) {\n              tmpStyle.next = tmpStyle;\n            } else {\n              tmpStyle.next = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleParagraph.value));\n            }\n            _this.updateList();\n          }\n          tmpStyle.link = _this.styleType.value === 'Linked Style' ? _this.createLinkStyle(styleName) : undefined;\n          tmpStyle.type = _this.getTypeValue();\n          tmpStyle.name = styleName;\n          tmpStyle.basedOn = basedOn;\n          _this.documentHelper.styles.push(tmpStyle);\n          _this.documentHelper.addToStylesMap(tmpStyle);\n          name_1 = styleName;\n          _this.documentHelper.owner.editorHistoryModule.initializeHistory('ModifyStyle');\n          if (_this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo && _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.action === 'ModifyStyle') {\n            var listId_2 = tmpStyle instanceof WParagraphStyle ? tmpStyle.paragraphFormat.listFormat.listId : -1;\n            var styleObject = _this.documentHelper.owner.getStyleObject(tmpStyle, listId_2);\n            styleObject[\"isNew\"] = true;\n            _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.modifiedProperties.push(styleObject);\n          }\n          _this.documentHelper.owner.editorHistoryModule.updateHistory();\n          var listId = _this.style instanceof WParagraphStyle ? _this.style.paragraphFormat.listFormat.listId : -1;\n          _this.documentHelper.owner.setStyleData(name_1, listId);\n          _this.documentHelper.owner.editorModule.isSkipOperationsBuild = _this.styleType.value === 'Character' && _this.documentHelper.owner.enableCollaborativeEditing;\n          _this.documentHelper.owner.editorModule.applyStyle(name_1, true);\n          _this.documentHelper.owner.editorModule.isSkipOperationsBuild = false;\n          _this.documentHelper.owner.notify(internalStyleCollectionChange, {});\n        }\n        _this.documentHelper.dialog2.hide();\n        _this.documentHelper.updateFocus();\n      } else {\n        throw new Error('Enter valid Style name');\n      }\n      if (_this.style) {\n        //this.style.destroy();\n      }\n      _this.documentHelper.updateFocus();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.loadStyleDialog = function () {\n      _this.documentHelper.updateFocus();\n      _this.isUserNextParaUpdated = false;\n      _this.styleNameElement = _this.target.getElementsByClassName('e-input e-de-style-dlg-name-input').item(0);\n      _this.styleNameElement.value = null;\n      if (!_this.isEdit) {\n        _this.styleType.index = 0; //Set to paragraph            \n      }\n      var name;\n      if (_this.isEdit) {\n        var localValue = new L10n('documenteditor', _this.documentHelper.owner.defaultLocale);\n        localValue.setLocale(_this.documentHelper.owner.locale);\n        var styleName = localValue.getConstant(_this.editStyleName);\n        if (styleName === '') {\n          styleName = _this.editStyleName;\n        }\n        _this.styleNameElement.value = styleName;\n        name = _this.editStyleName;\n      }\n      _this.okButton = _this.documentHelper.dialog2.element.getElementsByClassName('e-flat e-style-okay').item(0);\n      _this.enableOrDisableOkButton();\n      _this.updateStyleNames(_this.getTypeValue(), name);\n      _this.updateCharacterFormat(_this.style.characterFormat);\n      _this.updateParagraphFormat(_this.style.paragraphFormat);\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.onCancelButtonClick = function () {\n      // if (!this.isEdit && this.style) {\n      _this.style = undefined;\n      _this.characterFormat = undefined;\n      _this.paragraphFormat = undefined;\n      // }\n      _this.documentHelper.dialog2.hide();\n      _this.documentHelper.updateFocus();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    this.closeStyleDialog = function () {\n      _this.documentHelper.updateFocus();\n    };\n    this.documentHelper = documentHelper;\n  }\n  /**\n   * @private\n   * @returns {string} Returns module name\n   */\n  StyleDialog.prototype.getModuleName = function () {\n    return 'StyleDialog';\n  };\n  /**\n   * @private\n   * @param {L10n} localValue - Specifies the locale value\n   * @param {boolean} isRtl - Specifies the is rtl\n   * @returns {void}\n   */\n  /* eslint-disable  */\n  StyleDialog.prototype.initStyleDialog = function (localValue, isRtl) {\n    var instance = this;\n    this.localObj = localValue;\n    this.target = createElement('div', {\n      className: 'e-de-style-dialog'\n    });\n    var container = createElement('div');\n    var properties = createElement('div', {\n      className: 'e-de-para-dlg-heading',\n      innerHTML: localValue.getConstant('Properties')\n    });\n    container.appendChild(properties);\n    var styleNameTypeDiv = createElement('div', {\n      className: 'e-de-container-row'\n    });\n    container.appendChild(styleNameTypeDiv);\n    var nameWholeDiv = createElement('div', {\n      className: 'e-de-subcontainer-left'\n    });\n    styleNameTypeDiv.appendChild(nameWholeDiv);\n    // let name: HTMLElement = createElement('div', { className: 'e-de-style-name', innerHTML: localValue.getConstant('Name') + ':' });\n    // nameWholeDiv.appendChild(name);\n    var nameValue = createElement('input', {\n      className: 'e-input e-de-style-dlg-name-input'\n    });\n    nameValue.addEventListener('keyup', this.updateOkButton);\n    nameValue.addEventListener('input', this.updateOkButton);\n    nameValue.addEventListener('blur', this.updateNextStyle);\n    nameWholeDiv.appendChild(nameValue);\n    new TextBox({\n      placeholder: localValue.getConstant('Name') + ':',\n      floatLabelType: 'Always'\n    }, nameValue);\n    var styleTypeWholeDiv = createElement('div', {\n      className: 'e-de-subcontainer-right'\n    });\n    styleNameTypeDiv.appendChild(styleTypeWholeDiv);\n    // let styleType: HTMLElement = createElement('div', { className: 'e-de-style-styletype', innerHTML:  });\n    // styleTypeWholeDiv.appendChild(styleType);\n    var styleTypeDivElement = createElement('div');\n    var styleTypeValue = createElement('select');\n    styleTypeValue.innerHTML = '<option value=\"Paragraph\">' + localValue.getConstant('Paragraph') + '</option><option value=\"Character\">' + localValue.getConstant('Character') + '</option><option value=\"Linked Style\">' + localValue.getConstant('Linked Style') + '</option>';\n    styleTypeDivElement.appendChild(styleTypeValue);\n    this.styleType = new DropDownList({\n      change: this.styleTypeChange,\n      popupHeight: '253px',\n      enableRtl: isRtl,\n      placeholder: localValue.getConstant('Style type') + ':',\n      floatLabelType: 'Always'\n    });\n    this.styleType.appendTo(styleTypeValue);\n    styleTypeWholeDiv.appendChild(styleTypeDivElement);\n    var styleBasedParaDiv = createElement('div', {\n      className: 'e-de-container-row'\n    });\n    container.appendChild(styleBasedParaDiv);\n    var styleBasedOnWholeDiv = createElement('div', {\n      className: 'e-de-subcontainer-left'\n    });\n    styleBasedParaDiv.appendChild(styleBasedOnWholeDiv);\n    //let styleBasedOn: HTMLElement = createElement('div', { className: 'e-de-style-style-based-on', innerHTML:  });\n    //styleBasedOnWholeDiv.appendChild(styleBasedOn);\n    var styleBasedOnDivElement = createElement('div', {\n      className: 'e-de-style-style-based-on-div'\n    });\n    var styleBasedOnValue = createElement('input');\n    //styleBasedOnValue.innerHTML = '<option>Normal</option><option>Heading 1</option><option>Heading 2</option><option>Heading 3</option><option>Heading 4</option><option>Heading 5</option><option>Heading 6</option>';\n    styleBasedOnDivElement.appendChild(styleBasedOnValue);\n    this.styleBasedOn = new DropDownList({\n      dataSource: [],\n      select: this.styleBasedOnChange,\n      popupHeight: '253px',\n      enableRtl: isRtl,\n      placeholder: localValue.getConstant('Style based on') + ':',\n      floatLabelType: 'Always'\n    });\n    this.styleBasedOn.appendTo(styleBasedOnValue);\n    styleBasedOnWholeDiv.appendChild(styleBasedOnDivElement);\n    var styleParagraphWholeDiv = createElement('div', {\n      className: 'e-de-subcontainer-right'\n    });\n    styleBasedParaDiv.appendChild(styleParagraphWholeDiv);\n    if (isRtl) {\n      nameWholeDiv.classList.add('e-de-rtl');\n      styleBasedOnWholeDiv.classList.add('e-de-rtl');\n      styleParagraphWholeDiv.classList.add('e-de-rtl');\n    }\n    //let styleParagraph: HTMLElement = createElement('div', { className: 'e-de-style-style-paragraph', innerHTML: });\n    //styleParagraphWholeDiv.appendChild(styleParagraph);\n    var styleParagraphDivElement = createElement('div');\n    var styleParagraphValue = createElement('input');\n    //styleParagraphValue.innerHTML = '<option>Normal</option><option>Heading 1</option><option>Heading 2</option><option>Heading 3</option><option>Heading 4</option><option>Heading 5</option><option>Heading 6</option>';\n    styleParagraphDivElement.appendChild(styleParagraphValue);\n    this.styleParagraph = new DropDownList({\n      dataSource: [],\n      select: this.styleParagraphChange,\n      popupHeight: '253px',\n      enableRtl: isRtl,\n      placeholder: localValue.getConstant('Style for following paragraph') + ':',\n      floatLabelType: 'Always'\n    });\n    this.styleParagraph.appendTo(styleParagraphValue);\n    styleParagraphWholeDiv.appendChild(styleParagraphDivElement);\n    var formatting = createElement('div', {\n      className: 'e-de-para-dlg-heading',\n      innerHTML: localValue.getConstant('Formatting')\n    });\n    container.appendChild(formatting);\n    var optionsDiv = createElement('div', {\n      className: 'e-de-style-options-div'\n    });\n    container.appendChild(optionsDiv);\n    var fontOptionsDiv = createElement('div', {\n      styles: 'display:flex;margin-bottom: 14px;'\n    });\n    optionsDiv.appendChild(fontOptionsDiv);\n    this.createFontOptions(fontOptionsDiv, isRtl);\n    var paragraphOptionsDiv = createElement('div', {\n      styles: 'display:flex',\n      className: 'e-style-paragraph'\n    });\n    optionsDiv.appendChild(paragraphOptionsDiv);\n    this.createParagraphOptions(paragraphOptionsDiv);\n    // let radioOptionsDiv: HTMLElement = createElement('div', { styles: 'display:flex' });\n    // container.appendChild(radioOptionsDiv);\n    // let onlyThisDocumentDiv: HTMLElement = createElement('div', { className: 'e-de-style-radio-button' });\n    // let onlyThisDocument: HTMLInputElement = createElement('input', { className: 'e-de-style-only-this-doc', attrs: { type: 'radio' } }) as HTMLInputElement;\n    // onlyThisDocumentDiv.appendChild(onlyThisDocument);\n    // this.onlyThisDocument = new RadioButton({ label: 'Only in this document', value: 'only in this document', checked: true, name: 'styles' });\n    // this.onlyThisDocument.appendTo(onlyThisDocument);\n    // radioOptionsDiv.appendChild(onlyThisDocumentDiv);\n    // let templateDiv: HTMLElement = createElement('div', { className: 'e-de-style-radio-button' });\n    // let template: HTMLInputElement = createElement('input', { className: 'e-de-style-temp', attrs: { type: 'radio' } }) as HTMLInputElement;\n    // templateDiv.appendChild(template);\n    // this.template = new RadioButton({ label: 'Template', value: 'template', name: 'styles' });\n    // this.template.appendTo(template);\n    // radioOptionsDiv.appendChild(templateDiv);\n    this.createFormatDropdown(container, localValue, isRtl);\n    this.target.appendChild(container);\n  };\n  StyleDialog.prototype.createFormatDropdown = function (parentDiv, localValue, isRtl) {\n    var _this = this;\n    var formatBtn = createElement('button', {\n      id: 'style_format_dropdown',\n      innerHTML: localValue.getConstant('Format'),\n      attrs: {\n        type: 'button'\n      }\n    });\n    formatBtn.style.height = '31px';\n    parentDiv.appendChild(formatBtn);\n    var items = [{\n      text: localValue.getConstant('Font') + '...',\n      id: 'style_font'\n    }, {\n      text: localValue.getConstant('Paragraph') + '...',\n      id: 'style_paragraph'\n    }, {\n      text: localValue.getConstant('Numbering') + '...',\n      id: 'style_numbering'\n    }];\n    this.styleDropdwn = new DropDownButton({\n      items: items,\n      cssClass: 'e-de-style-format-dropdwn',\n      enableRtl: isRtl,\n      beforeItemRender: function (args) {\n        if (_this.styleType.value === localValue.getConstant('Character')) {\n          if (args.item.id === \"style_paragraph\") {\n            args.element.classList.add('e-disabled');\n          }\n          if (args.item.id === 'style_numbering') {\n            args.element.classList.add('e-disabled');\n          }\n        } else {\n          if (args.item.id === \"style_paragraph\") {\n            args.element.classList.remove('e-disabled');\n          }\n          if (args.item.id === 'style_numbering') {\n            args.element.classList.remove('e-disabled');\n          }\n        }\n      }\n    });\n    this.styleDropdwn.appendTo(formatBtn);\n    this.styleDropdwn.addEventListener('select', this.openDialog);\n  };\n  StyleDialog.prototype.createFontOptions = function (parentDiv, isRtl) {\n    var _this = this;\n    var fontFamilyElement = createElement('input', {\n      id: this.target.id + '_fontName'\n    });\n    var fontStyle;\n    var isStringTemplate = true;\n    var itemTemplate = initializeCSPTemplate(function (data) {\n      return \"<span style=\\\"font-family: \" + data.FontName + \";\\\">\" + data.FontName + \"</span>\";\n    });\n    parentDiv.appendChild(fontFamilyElement);\n    this.fontFamily = new ComboBox({\n      dataSource: fontStyle,\n      query: new Query().select(['FontName']),\n      fields: {\n        text: 'FontName',\n        value: 'value'\n      },\n      allowCustom: true,\n      width: '123px',\n      popupWidth: '123px',\n      cssClass: 'e-style-font-fmaily-right',\n      enableRtl: isRtl,\n      change: this.fontFamilyChanged,\n      showClearButton: false,\n      itemTemplate: itemTemplate\n    });\n    this.fontFamily.appendTo(fontFamilyElement);\n    this.fontFamily.isStringTemplate = isStringTemplate;\n    var fontFamilyValue = this.documentHelper.owner.documentEditorSettings.fontFamilies;\n    for (var i = 0; i < fontFamilyValue.length; i++) {\n      var fontValue = fontFamilyValue[i];\n      var fontStyleValue = {\n        'FontName': fontValue,\n        'value': fontValue\n      };\n      this.fontFamily.addItem(fontStyleValue, i);\n    }\n    this.fontFamily.focus = function () {\n      _this.fontFamily.element.select();\n    };\n    this.fontFamily.element.parentElement.setAttribute('title', this.localObj.getConstant('Font'));\n    var fontSizeElement = createElement('input');\n    parentDiv.appendChild(fontSizeElement);\n    var sizeDataSource = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\n    this.fontSize = new ComboBox({\n      dataSource: sizeDataSource,\n      width: '73px',\n      cssClass: 'e-style-font-fmaily-right',\n      enableRtl: isRtl,\n      change: this.fontSizeUpdate\n    });\n    this.fontSize.showClearButton = false;\n    this.fontSize.appendTo(fontSizeElement);\n    var fontGroupButton = createElement('div', {\n      className: 'e-de-style-font-group-button'\n    });\n    parentDiv.appendChild(fontGroupButton);\n    this.bold = this.createButtonElement(fontGroupButton, 'e-de-bold', 'e-de-style-bold-button-size', this.documentHelper.owner.containerId + '_style_bold');\n    this.bold.setAttribute('aria-label', 'bold');\n    this.bold.addEventListener('click', this.setBoldProperty);\n    this.italic = this.createButtonElement(fontGroupButton, 'e-de-italic', 'e-de-style-icon-button-size', this.documentHelper.owner.containerId + '_style_italic');\n    this.italic.setAttribute('aria-label', 'italic');\n    this.italic.addEventListener('click', this.setItalicProperty);\n    this.underline = this.createButtonElement(fontGroupButton, 'e-de-underline', 'e-de-style-icon-button-size', this.documentHelper.owner.containerId + '_style_underline');\n    this.underline.setAttribute('aria-label', 'underline');\n    this.underline.addEventListener('click', this.setUnderlineProperty);\n    var fontColorElement = createElement('input', {\n      attrs: {\n        type: 'color'\n      },\n      className: 'e-de-style-icon-button-size'\n    });\n    parentDiv.appendChild(fontColorElement);\n    var _a = this.documentHelper.owner.documentEditorSettings.colorPickerSettings,\n      columns = _a.columns,\n      createPopupOnClick = _a.createPopupOnClick,\n      disabled = _a.disabled,\n      enablePersistence = _a.enablePersistence,\n      enableRtl = _a.enableRtl,\n      inline = _a.inline,\n      mode = _a.mode,\n      modeSwitcher = _a.modeSwitcher,\n      noColor = _a.noColor,\n      presetColors = _a.presetColors,\n      showButtons = _a.showButtons;\n    this.fontColor = new ColorPicker({\n      cssClass: 'e-de-style-font-color-picker',\n      enableRtl: isRtl,\n      change: this.fontColorUpdate,\n      locale: this.documentHelper.owner.locale,\n      enableOpacity: false,\n      mode: mode,\n      modeSwitcher: modeSwitcher,\n      showButtons: showButtons,\n      columns: columns,\n      createPopupOnClick: createPopupOnClick,\n      disabled: disabled,\n      enablePersistence: enablePersistence,\n      inline: inline,\n      noColor: noColor,\n      presetColors: presetColors\n    });\n    this.documentHelper.fontColor = this.fontColor;\n    this.fontColor.appendTo(fontColorElement);\n  };\n  StyleDialog.prototype.createParagraphOptions = function (parentDiv) {\n    var _this = this;\n    var alignmentDiv = createElement('div', {\n      className: 'e-de-style-paragraph-group-button'\n    });\n    parentDiv.appendChild(alignmentDiv);\n    this.leftAlign = this.createButtonElement(alignmentDiv, 'e-de-align-left', 'e-de-style-icon-button-size');\n    this.leftAlign.setAttribute('aria-label', 'leftAlign');\n    this.leftAlign.addEventListener('click', this.setLeftAlignment);\n    this.centerAlign = this.createButtonElement(alignmentDiv, 'e-de-align-center', 'e-de-style-icon-button-size');\n    this.centerAlign.setAttribute('aria-label', 'centerAlign');\n    this.centerAlign.addEventListener('click', this.setCenterAlignment);\n    this.rightAlign = this.createButtonElement(alignmentDiv, 'e-de-align-right', 'e-de-style-icon-button-size');\n    this.rightAlign.setAttribute('aria-label', 'rightAlign');\n    this.rightAlign.addEventListener('click', this.setRightAlignment);\n    this.justify = this.createButtonElement(alignmentDiv, 'e-de-justify', 'e-de-style-icon-button-last-size');\n    this.justify.setAttribute('aria-label', 'justify');\n    this.justify.addEventListener('click', this.setJustifyAlignment);\n    var lineSpacingDiv = createElement('div', {\n      className: 'e-de-style-paragraph-group-button'\n    });\n    parentDiv.appendChild(lineSpacingDiv);\n    this.singleLineSpacing = this.createButtonElement(lineSpacingDiv, 'e-de-single-spacing', 'e-de-style-icon-button-first-size');\n    this.singleLineSpacing.setAttribute('aria-label', 'singleLineSpacing');\n    this.singleLineSpacing.addEventListener('click', function () {\n      _this.paragraphFormat.lineSpacing = 1;\n      _this.updateParagraphFormat();\n    });\n    this.onePointFiveLineSpacing = this.createButtonElement(lineSpacingDiv, 'e-de-one-point-five-spacing', 'e-de-style-icon-button-size');\n    this.onePointFiveLineSpacing.setAttribute('aria-label', 'onePointFiveLineSpacing');\n    this.onePointFiveLineSpacing.addEventListener('click', function () {\n      _this.paragraphFormat.lineSpacing = 1.5;\n      _this.updateParagraphFormat();\n    });\n    this.doubleLineSpacing = this.createButtonElement(lineSpacingDiv, 'e-de-double-spacing', 'e-de-style-icon-button-last-size');\n    this.doubleLineSpacing.setAttribute('aria-label', 'doubleLineSpacing');\n    this.doubleLineSpacing.addEventListener('click', function () {\n      _this.paragraphFormat.lineSpacing = 2;\n      _this.updateParagraphFormat();\n    });\n    var spacingDiv = createElement('div', {\n      className: 'e-de-style-paragraph-group-button'\n    });\n    parentDiv.appendChild(spacingDiv);\n    var beforeSpacing = this.createButtonElement(spacingDiv, 'e-de-before-spacing', 'e-de-style-icon-button-first-size');\n    beforeSpacing.setAttribute('aria-label', 'beforeSpacing');\n    var afterSpacing = this.createButtonElement(spacingDiv, 'e-de-after-spacing', 'e-de-style-icon-button-last-size');\n    afterSpacing.setAttribute('aria-label', 'afterSpacing');\n    beforeSpacing.addEventListener('click', this.increaseBeforeAfterSpacing);\n    afterSpacing.addEventListener('click', this.decreaseBeforeAfterSpacing);\n    var indentingDiv = createElement('div', {\n      className: 'e-de-style-paragraph-indent-group-button'\n    });\n    parentDiv.appendChild(indentingDiv);\n    var decreaseIndent = this.createButtonElement(indentingDiv, 'e-de-indent', 'e-de-style-icon-button-first-size');\n    decreaseIndent.setAttribute('aria-label', 'decreaseIndent');\n    decreaseIndent.addEventListener('click', function () {\n      if (_this.paragraphFormat.leftIndent >= 36) {\n        _this.paragraphFormat.leftIndent -= 36;\n      } else {\n        _this.paragraphFormat.leftIndent = 0;\n      }\n    });\n    var increaseindent = this.createButtonElement(indentingDiv, 'e-de-outdent', 'e-de-style-icon-button-size');\n    increaseindent.setAttribute('aria-label', 'increaseindent');\n    increaseindent.addEventListener('click', function () {\n      _this.paragraphFormat.leftIndent += 36;\n    });\n  };\n  StyleDialog.prototype.createButtonElement = function (parentDiv, iconCss, className, id) {\n    var buttonElement = createElement('button', {\n      attrs: {\n        type: 'button'\n      }\n    });\n    if (!isNullOrUndefined(id)) {\n      buttonElement.id = id;\n    }\n    parentDiv.appendChild(buttonElement);\n    var button = new Button({\n      iconCss: iconCss,\n      cssClass: className\n    });\n    button.appendTo(buttonElement);\n    return buttonElement;\n  };\n  StyleDialog.prototype.toggleDisable = function () {\n    if (this.styleType.value === this.localObj.getConstant('Character')) {\n      this.styleParagraph.enabled = false;\n      this.target.getElementsByClassName('e-style-paragraph').item(0).setAttribute('style', 'display:flex;pointer-events:none;opacity:0.5');\n    } else {\n      this.styleParagraph.enabled = true;\n      this.target.getElementsByClassName('e-style-paragraph').item(0).removeAttribute('style');\n      this.target.getElementsByClassName('e-style-paragraph').item(0).setAttribute('style', 'display:flex');\n    }\n    this.styleBasedOn.enabled = true;\n  };\n  /**\n   * @private\n   * @param {string} styleName - Specifies the style name.\n   * @param {string} header - Specifies the header.\n   * @returns {void}\n   */\n  StyleDialog.prototype.show = function (styleName, header) {\n    var localObj = new L10n('documenteditor', this.documentHelper.owner.defaultLocale);\n    this.isEdit = !isNullOrUndefined(styleName) && styleName.length > 0 ? true : false;\n    this.editStyleName = styleName;\n    this.abstractList = new WAbstractList();\n    var style = this.documentHelper.styles.findByName(styleName);\n    this.style = !this.isEdit ? new WParagraphStyle() : style ? style : this.getStyle(styleName);\n    localObj.setLocale(this.documentHelper.owner.locale);\n    if (!this.target) {\n      this.initStyleDialog(localObj, this.documentHelper.owner.enableRtl);\n    }\n    if (!this.isEdit) {\n      this.styleType.value = 'Paragraph';\n    } else {\n      this.styleType.value = this.style instanceof WCharacterStyle ? 'Character' : 'Paragraph';\n    }\n    if (isNullOrUndefined(header)) {\n      header = localObj.getConstant('Create New Style');\n    }\n    this.documentHelper.dialog2.header = header;\n    this.documentHelper.dialog2.height = 'auto';\n    this.documentHelper.dialog2.width = 'auto';\n    this.documentHelper.dialog2.content = this.target;\n    this.documentHelper.dialog2.buttons = [{\n      click: this.onOkButtonClick,\n      buttonModel: {\n        content: localObj.getConstant('Ok'),\n        cssClass: 'e-flat e-style-okay',\n        isPrimary: true\n      }\n    }, {\n      click: this.onCancelButtonClick,\n      buttonModel: {\n        content: localObj.getConstant('Cancel'),\n        cssClass: 'e-flat e-style-cancel'\n      }\n    }];\n    this.toggleDisable();\n    this.documentHelper.dialog2.dataBind();\n    this.documentHelper.dialog2.beforeOpen = this.loadStyleDialog;\n    this.documentHelper.dialog2.close = this.closeStyleDialog;\n    this.documentHelper.dialog2.position = {\n      X: 'center',\n      Y: 'center'\n    };\n    this.documentHelper.dialog2.show();\n  };\n  StyleDialog.prototype.updateList = function () {\n    var listId = this.style.paragraphFormat.listFormat.listId;\n    if (listId > -1) {\n      if (this.documentHelper.lists.filter(function (a) {\n        return a.listId === listId;\n      }).length === 0) {\n        this.documentHelper.lists.push(this.style.paragraphFormat.listFormat.list);\n      } else {\n        this.documentHelper.lists = this.documentHelper.lists.filter(function (a) {\n          return a.listId !== listId;\n        });\n        this.documentHelper.lists.push(this.style.paragraphFormat.listFormat.list);\n      }\n    }\n    if (this.abstractList.abstractListId !== -1) {\n      this.documentHelper.abstractLists.push(this.abstractList);\n    }\n  };\n  StyleDialog.prototype.createLinkStyle = function (name, isEdit) {\n    var charStyle;\n    if (isEdit) {\n      charStyle = this.documentHelper.styles.findByName(name + ' Char', 'Character');\n    } else {\n      charStyle = new WCharacterStyle();\n    }\n    charStyle.type = 'Character';\n    charStyle.name = name + ' Char';\n    charStyle.characterFormat = this.style.characterFormat.cloneFormat();\n    charStyle.basedOn = this.style.basedOn;\n    if (!isEdit) {\n      this.documentHelper.styles.push(charStyle);\n    }\n    return this.documentHelper.styles.findByName(charStyle.name, 'Character');\n  };\n  /**\n   * @private\n   * @param {L10n} characterFormat - Specifies the character format\n   * @returns {void}\n   */\n  StyleDialog.prototype.updateCharacterFormat = function (characterFormat) {\n    if (!isNullOrUndefined(characterFormat)) {\n      this.characterFormat = characterFormat.cloneFormat();\n    }\n    this.fontFamily.value = this.characterFormat.fontFamily;\n    this.fontSize.value = this.characterFormat.fontSize;\n    var color = this.characterFormat.fontColor;\n    // \"empty\" is old value used for auto color till v19.2.49. It is maintained for backward compatibility.\n    this.fontColor.value = color === 'empty' || color === '#00000000' ? '#000000' : color;\n    this.fontButtonClicked();\n  };\n  /**\n   * @private\n   * @returns {void}\n   */\n  StyleDialog.prototype.updateParagraphFormat = function (paragraphFOrmat) {\n    if (!isNullOrUndefined(paragraphFOrmat)) {\n      this.paragraphFormat = paragraphFOrmat.cloneFormat();\n    }\n    if (isNullOrUndefined(this.paragraphFormat)) {\n      return;\n    }\n    if (this.paragraphFormat.textAlignment === 'Left') {\n      if (!this.leftAlign.classList.contains('e-active')) {\n        this.leftAlign.classList.add('e-active');\n      }\n      if (this.rightAlign.classList.contains('e-active')) {\n        this.rightAlign.classList.remove('e-active');\n      }\n      if (this.centerAlign.classList.contains('e-active')) {\n        this.centerAlign.classList.remove('e-active');\n      }\n      if (this.justify.classList.contains('e-active')) {\n        this.justify.classList.remove('e-active');\n      }\n    } else if (this.paragraphFormat.textAlignment === 'Right') {\n      if (this.leftAlign.classList.contains('e-active')) {\n        this.leftAlign.classList.remove('e-active');\n      }\n      if (!this.rightAlign.classList.contains('e-active')) {\n        this.rightAlign.classList.add('e-active');\n      }\n      if (this.centerAlign.classList.contains('e-active')) {\n        this.centerAlign.classList.remove('e-active');\n      }\n      if (this.justify.classList.contains('e-active')) {\n        this.justify.classList.remove('e-active');\n      }\n    } else if (this.paragraphFormat.textAlignment === 'Center') {\n      if (this.leftAlign.classList.contains('e-active')) {\n        this.leftAlign.classList.remove('e-active');\n      }\n      if (this.rightAlign.classList.contains('e-active')) {\n        this.rightAlign.classList.remove('e-active');\n      }\n      if (!this.centerAlign.classList.contains('e-active')) {\n        this.centerAlign.classList.add('e-active');\n      }\n      if (this.justify.classList.contains('e-active')) {\n        this.justify.classList.remove('e-active');\n      }\n    } else if (this.paragraphFormat.textAlignment === 'Justify') {\n      if (this.leftAlign.classList.contains('e-active')) {\n        this.leftAlign.classList.remove('e-active');\n      }\n      if (this.rightAlign.classList.contains('e-active')) {\n        this.rightAlign.classList.remove('e-active');\n      }\n      if (this.centerAlign.classList.contains('e-active')) {\n        this.centerAlign.classList.remove('e-active');\n      }\n      if (!this.justify.classList.contains('e-active')) {\n        this.justify.classList.add('e-active');\n      }\n    }\n    if (this.paragraphFormat.lineSpacing === 1) {\n      this.singleLineSpacing.classList.add('e-active');\n      this.onePointFiveLineSpacing.classList.remove('e-active');\n      this.doubleLineSpacing.classList.remove('e-active');\n    } else if (this.paragraphFormat.lineSpacing === 1.5) {\n      this.singleLineSpacing.classList.remove('e-active');\n      this.onePointFiveLineSpacing.classList.add('e-active');\n      this.doubleLineSpacing.classList.remove('e-active');\n    } else if (this.paragraphFormat.lineSpacing === 2) {\n      this.singleLineSpacing.classList.remove('e-active');\n      this.onePointFiveLineSpacing.classList.remove('e-active');\n      this.doubleLineSpacing.classList.add('e-active');\n    } else {\n      this.singleLineSpacing.classList.remove('e-active');\n      this.onePointFiveLineSpacing.classList.remove('e-active');\n      this.doubleLineSpacing.classList.remove('e-active');\n    }\n  };\n  StyleDialog.prototype.enableOrDisableOkButton = function () {\n    if (!isNullOrUndefined(this.okButton)) {\n      this.okButton.disabled = this.styleNameElement.value === '';\n    }\n  };\n  /**\n   * @private\n   */\n  StyleDialog.prototype.getTypeValue = function (type) {\n    var value = !isNullOrUndefined(type) ? type : this.styleType.value;\n    if (value === 'Linked Style' || value === 'Paragraph') {\n      return 'Paragraph';\n    } else {\n      return 'Character';\n    }\n  };\n  StyleDialog.prototype.updateStyleNames = function (type, name) {\n    var localValue = new L10n('documenteditor', this.documentHelper.owner.defaultLocale);\n    localValue.setLocale(this.documentHelper.owner.locale);\n    var styles = this.documentHelper.styles.getStyleNames(type);\n    var finalList = [];\n    for (var i = 0; i < styles.length; i++) {\n      var styleName = localValue.getConstant(styles[parseInt(i.toString(), 10)]);\n      if (styleName === '') {\n        styleName = styles[parseInt(i.toString(), 10)];\n      }\n      finalList.push(styleName);\n    }\n    this.styleParagraph.dataSource = finalList;\n    this.styleParagraph.index = null;\n    if (name) {\n      this.styleBasedOn.dataSource = finalList.filter(function (e) {\n        return e !== name;\n      });\n      this.styleBasedOn.index = null;\n      var style = this.getStyle(name);\n      if (style.basedOn instanceof String || isNullOrUndefined(style.basedOn)) {\n        this.styleBasedOn.enabled = false;\n      } else {\n        this.styleBasedOn.index = styles.indexOf(style.basedOn.name) > -1 ? styles.indexOf(style.basedOn.name) : 0;\n      }\n      if (style.type === 'Paragraph') {\n        if (!isNullOrUndefined(style.link)) {\n          this.styleType.index = 2;\n        } else {\n          this.styleType.index = 0;\n        }\n      } else {\n        this.styleType.index = 1;\n      }\n      if (!isNullOrUndefined(style.next)) {\n        var nxtName = style.next.name;\n        var index = 0;\n        if (styles.indexOf(nxtName) > -1) {\n          index = styles.indexOf(nxtName);\n        }\n        this.styleParagraph.index = index;\n        this.isUserNextParaUpdated = nxtName === name ? false : true;\n      }\n    } else {\n      this.styleBasedOn.dataSource = finalList;\n      this.styleBasedOn.index = null;\n      var basedOnIndex = 0;\n      if (this.documentHelper.owner.selectionModule) {\n        var styleName = void 0;\n        if (type === 'Character') {\n          styleName = this.documentHelper.owner.selectionModule.characterFormat.styleName;\n        } else {\n          styleName = this.documentHelper.owner.selectionModule.paragraphFormat.styleName;\n        }\n        basedOnIndex = styles.indexOf(styleName);\n      }\n      this.styleBasedOn.index = basedOnIndex;\n      this.styleParagraph.index = 0;\n    }\n    if (this.isEdit) {\n      this.styleType.enabled = false;\n    } else {\n      this.styleType.enabled = true;\n    }\n    // this.styleBasedOn.dataBind();\n    // this.styleParagraph.dataBind();\n  };\n  StyleDialog.prototype.getStyle = function (styleName) {\n    if (isNullOrUndefined(this.documentHelper.styles.findByName(styleName))) {\n      this.documentHelper.owner.editorModule.createStyle(this.documentHelper.preDefinedStyles.get(styleName));\n    }\n    return this.documentHelper.styles.findByName(styleName);\n  };\n  /**\n   * @private\n   * @returns {void}\n   */\n  StyleDialog.prototype.destroy = function () {\n    if (!isNullOrUndefined(this.target)) {\n      if (this.target.parentElement) {\n        this.target.parentElement.removeChild(this.target);\n      }\n      for (var n = 0; n < this.target.childNodes.length; n++) {\n        this.target.removeChild(this.target.childNodes[n]);\n        n--;\n      }\n      this.target = undefined;\n    }\n    if (this.characterFormat) {\n      this.characterFormat.destroy();\n      this.characterFormat = undefined;\n    }\n    if (this.paragraphFormat) {\n      this.paragraphFormat.destroy();\n      this.paragraphFormat = undefined;\n    }\n    if (this.fontColor) {\n      this.fontColor.destroy();\n      this.fontColor = undefined;\n    }\n    if (this.fontSize) {\n      this.fontSize.destroy();\n      this.fontSize = undefined;\n    }\n    if (this.fontFamily) {\n      this.fontFamily.destroy();\n      this.fontFamily = undefined;\n    }\n    if (this.styleType) {\n      this.styleType.destroy();\n      this.styleType = undefined;\n    }\n    if (this.styleBasedOn) {\n      this.styleBasedOn.destroy();\n      this.styleBasedOn = undefined;\n    }\n    if (this.styleParagraph) {\n      this.styleParagraph.destroy();\n      this.styleParagraph = undefined;\n    }\n    if (this.onlyThisDocument) {\n      this.onlyThisDocument.destroy();\n    }\n    this.onlyThisDocument = undefined;\n    if (this.template) {\n      this.template.destroy();\n      this.template = undefined;\n    }\n    if (this.style) {\n      this.style.destroy();\n      this.style = undefined;\n    }\n    if (this.abstractList) {\n      this.abstractList.destroy();\n      this.abstractList = undefined;\n    }\n    if (this.numberingBulletDialog) {\n      this.numberingBulletDialog.destroy();\n      this.numberingBulletDialog = undefined;\n    }\n    if (this.styleDropdwn) {\n      this.styleDropdwn.destroy();\n      this.styleDropdwn = undefined;\n    }\n    this.documentHelper = undefined;\n  };\n  return StyleDialog;\n}();\nexport { StyleDialog };","map":{"version":3,"names":["createElement","isNullOrUndefined","L10n","initializeCSPTemplate","DropDownList","ComboBox","Button","WCharacterStyle","WParagraphStyle","internalStyleCollectionChange","BulletsAndNumberingDialog","Query","WAbstractList","ColorPicker","TextBox","DropDownButton","SanitizeHtmlHelper","StyleDialog","documentHelper","_this","target","undefined","styleType","styleBasedOn","styleParagraph","onlyThisDocument","template","fontFamily","fontSize","characterFormat","paragraphFormat","openDialog","args","item","id","showFontDialog","showParagraphDialog","showNumberingBulletDialog","setBoldProperty","bold","fontButtonClicked","setItalicProperty","italic","setUnderlineProperty","underline","classList","contains","add","remove","fontSizeUpdate","value","fontFamilyChanged","toString","fontColorUpdate","fontColor","currentValue","hex","setLeftAlignment","textAlignment","updateParagraphFormat","setRightAlignment","setCenterAlignment","setJustifyAlignment","increaseBeforeAfterSpacing","beforeSpacing","afterSpacing","decreaseBeforeAfterSpacing","updateNextStyle","typedName","srcElement","getTypeValue","localObj","getConstant","isUserNextParaUpdated","styles","getStyleNames","isEdit","filter","e","editStyleName","push","dataSource","index","indexOf","updateOkButton","styleName","getElementsByClassName","enableOrDisableOkButton","styleTypeChange","isInteracted","type","style","toggleDisable","updateStyleNames","styleBasedOnChange","styleParagraphChange","owner","fontDialogModule","updateCharacterFormat","paragraphDialogModule","numberingBulletDialog","showNumberBulletDialog","listFormat","abstractList","onOkButtonClick","sanitize","styleNameElement","length","findByName","name_1","editorHistoryModule","initializeHistory","currentBaseHistoryInfo","action","listId_1","listId","styleObject","getStyleObject","modifiedProperties","updateHistory","basedOn","stylesDialogModule","getStyleName","next","mergeFormat","updateList","link","createLinkStyle","name","setStyleData","isShiftingEnabled","editorModule","isSkipOperationsBuild","enableCollaborativeEditing","layoutWholeDocument","tmpStyle","copyStyle","copyFormat","addToStylesMap","listId_2","applyStyle","notify","dialog2","hide","updateFocus","Error","loadStyleDialog","localValue","defaultLocale","setLocale","locale","okButton","element","onCancelButtonClick","closeStyleDialog","prototype","getModuleName","initStyleDialog","isRtl","instance","className","container","properties","innerHTML","appendChild","styleNameTypeDiv","nameWholeDiv","nameValue","addEventListener","placeholder","floatLabelType","styleTypeWholeDiv","styleTypeDivElement","styleTypeValue","change","popupHeight","enableRtl","appendTo","styleBasedParaDiv","styleBasedOnWholeDiv","styleBasedOnDivElement","styleBasedOnValue","select","styleParagraphWholeDiv","styleParagraphDivElement","styleParagraphValue","formatting","optionsDiv","fontOptionsDiv","createFontOptions","paragraphOptionsDiv","createParagraphOptions","createFormatDropdown","parentDiv","formatBtn","attrs","height","items","text","styleDropdwn","cssClass","beforeItemRender","fontFamilyElement","fontStyle","isStringTemplate","itemTemplate","data","FontName","query","fields","allowCustom","width","popupWidth","showClearButton","fontFamilyValue","documentEditorSettings","fontFamilies","i","fontValue","fontStyleValue","addItem","focus","parentElement","setAttribute","fontSizeElement","sizeDataSource","fontGroupButton","createButtonElement","containerId","fontColorElement","_a","colorPickerSettings","columns","createPopupOnClick","disabled","enablePersistence","inline","mode","modeSwitcher","noColor","presetColors","showButtons","enableOpacity","alignmentDiv","leftAlign","centerAlign","rightAlign","justify","lineSpacingDiv","singleLineSpacing","lineSpacing","onePointFiveLineSpacing","doubleLineSpacing","spacingDiv","indentingDiv","decreaseIndent","leftIndent","increaseindent","iconCss","buttonElement","button","enabled","removeAttribute","show","header","getStyle","content","buttons","click","buttonModel","isPrimary","dataBind","beforeOpen","close","position","X","Y","lists","a","list","abstractListId","abstractLists","charStyle","cloneFormat","color","paragraphFOrmat","finalList","parseInt","String","nxtName","basedOnIndex","selectionModule","createStyle","preDefinedStyles","get","destroy","removeChild","n","childNodes"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-documenteditor/src/document-editor/implementation/dialogs/style-dialog.js"],"sourcesContent":["import { createElement, isNullOrUndefined, L10n, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { WCharacterStyle, WParagraphStyle } from '../../implementation/format/style';\nimport { internalStyleCollectionChange } from '../../base/index';\nimport { BulletsAndNumberingDialog } from './index';\nimport { Query } from '@syncfusion/ej2-data';\nimport { WAbstractList } from '../list/abstract-list';\nimport { ColorPicker, TextBox } from '@syncfusion/ej2-inputs';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { SanitizeHtmlHelper } from '@syncfusion/ej2-base';\n/**\n * The Style dialog is used to create or modify styles.\n */\nvar StyleDialog = /** @class */ (function () {\n    /**\n     * @param {DocumentHelper} documentHelper - Specifies the document helper.\n     * @private\n     */\n    function StyleDialog(documentHelper) {\n        var _this = this;\n        this.target = undefined;\n        this.styleType = undefined;\n        this.styleBasedOn = undefined;\n        this.styleParagraph = undefined;\n        this.onlyThisDocument = undefined;\n        this.template = undefined;\n        this.fontFamily = undefined;\n        this.fontSize = undefined;\n        this.characterFormat = undefined;\n        this.paragraphFormat = undefined;\n        /**\n         *\n         * @param {DropDownButtonMenuEventArgs} args - Specifies the event args.\n         * @returns {void}\n         */\n        this.openDialog = function (args) {\n            switch (args.item.id) {\n                case 'style_font':\n                    _this.showFontDialog();\n                    break;\n                case 'style_paragraph':\n                    _this.showParagraphDialog();\n                    break;\n                case 'style_numbering':\n                    _this.showNumberingBulletDialog();\n                    break;\n            }\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setBoldProperty = function () {\n            _this.characterFormat.bold = !_this.characterFormat.bold;\n            _this.fontButtonClicked();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setItalicProperty = function () {\n            _this.characterFormat.italic = !_this.characterFormat.italic;\n            _this.fontButtonClicked();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setUnderlineProperty = function () {\n            _this.characterFormat.underline = _this.characterFormat.underline === 'None' ? 'Single' : 'None';\n            _this.fontButtonClicked();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.fontButtonClicked = function () {\n            if (_this.characterFormat.bold) {\n                if (!_this.bold.classList.contains('e-active')) {\n                    _this.bold.classList.add('e-active');\n                }\n            }\n            else {\n                if (_this.bold.classList.contains('e-active')) {\n                    _this.bold.classList.remove('e-active');\n                }\n            }\n            if (_this.characterFormat.italic) {\n                if (!_this.italic.classList.contains('e-active')) {\n                    _this.italic.classList.add('e-active');\n                }\n            }\n            else {\n                if (_this.italic.classList.contains('e-active')) {\n                    _this.italic.classList.remove('e-active');\n                }\n            }\n            if (_this.characterFormat.underline !== undefined && _this.characterFormat.underline !== 'None') {\n                if (!_this.underline.classList.contains('e-active')) {\n                    _this.underline.classList.add('e-active');\n                    _this.characterFormat.underline = 'Single';\n                }\n            }\n            else {\n                if (_this.underline.classList.contains('e-active')) {\n                    _this.underline.classList.remove('e-active');\n                    _this.characterFormat.underline = 'None';\n                }\n            }\n        };\n        /**\n         * @private\n         * @param {ChangeEventArgs} args - Specifies the event args.\n         * @returns {void}\n         */\n        this.fontSizeUpdate = function (args) {\n            _this.characterFormat.fontSize = args.value;\n        };\n        /**\n         * @private\n         * @param {ChangeEventArgs} args - Specifies the event args.\n         * @returns {void}\n         */\n        this.fontFamilyChanged = function (args) {\n            _this.characterFormat.fontFamily = args.value.toString();\n        };\n        /**\n         * @private\n         * @param {ColorPickerEventArgs} args - Specifies the event args.\n         * @returns {void}\n         */\n        this.fontColorUpdate = function (args) {\n            _this.characterFormat.fontColor = args.currentValue.hex;\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setLeftAlignment = function () {\n            if (_this.paragraphFormat.textAlignment === 'Left') {\n                _this.paragraphFormat.textAlignment = 'Justify';\n            }\n            else {\n                _this.paragraphFormat.textAlignment = 'Left';\n            }\n            _this.updateParagraphFormat();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setRightAlignment = function () {\n            if (_this.paragraphFormat.textAlignment === 'Right') {\n                _this.paragraphFormat.textAlignment = 'Left';\n            }\n            else {\n                _this.paragraphFormat.textAlignment = 'Right';\n            }\n            _this.updateParagraphFormat();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setCenterAlignment = function () {\n            if (_this.paragraphFormat.textAlignment === 'Center') {\n                _this.paragraphFormat.textAlignment = 'Left';\n            }\n            else {\n                _this.paragraphFormat.textAlignment = 'Center';\n            }\n            _this.updateParagraphFormat();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.setJustifyAlignment = function () {\n            if (_this.paragraphFormat.textAlignment === 'Justify') {\n                _this.paragraphFormat.textAlignment = 'Left';\n            }\n            else {\n                _this.paragraphFormat.textAlignment = 'Justify';\n            }\n            _this.updateParagraphFormat();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.increaseBeforeAfterSpacing = function () {\n            _this.paragraphFormat.beforeSpacing += 6;\n            _this.paragraphFormat.afterSpacing += 6;\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.decreaseBeforeAfterSpacing = function () {\n            if (_this.paragraphFormat.beforeSpacing >= 6) {\n                _this.paragraphFormat.beforeSpacing -= 6;\n            }\n            else {\n                _this.paragraphFormat.beforeSpacing = 0;\n            }\n            if (_this.paragraphFormat.afterSpacing >= 6) {\n                _this.paragraphFormat.afterSpacing -= 6;\n            }\n            else {\n                _this.paragraphFormat.afterSpacing = 0;\n            }\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.updateNextStyle = function (args) {\n            var typedName = args.srcElement.value;\n            if (_this.getTypeValue() === _this.localObj.getConstant('Paragraph') && !isNullOrUndefined(typedName) && typedName !== '' && !_this.isUserNextParaUpdated) {\n                var styles = _this.documentHelper.styles.getStyleNames(_this.getTypeValue());\n                if (_this.isEdit) {\n                    styles = styles.filter(function (e) { return e !== _this.editStyleName; });\n                }\n                styles.push(typedName);\n                _this.styleParagraph.dataSource = styles;\n                _this.styleParagraph.index = null;\n                _this.styleParagraph.index = styles.indexOf(typedName);\n                // this.styleParagraph.dataBind();\n            }\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.updateOkButton = function () {\n            var styleName = _this.target.getElementsByClassName('e-input e-de-style-dlg-name-input').item(0).value;\n            _this.enableOrDisableOkButton();\n        };\n        /**\n         * @private\n         * @param {ChangeEventArgs} args - Specifies the event args.\n         * @returns {void}\n         */\n        this.styleTypeChange = function (args) {\n            if (args.isInteracted) {\n                var type = void 0;\n                if (args.value === 'Character') {\n                    _this.style = new WCharacterStyle();\n                    type = 'Character';\n                }\n                if (args.value === 'Paragraph' || args.value === 'Linked Style') {\n                    _this.style = new WParagraphStyle();\n                    type = 'Paragraph';\n                }\n                _this.toggleDisable();\n                _this.updateStyleNames(type);\n            }\n        };\n        /**\n         * @returns {void}\n         */\n        this.styleBasedOnChange = function () {\n            //Based on change\n        };\n        /**\n         * @private\n         * @param {SelectEventArgs} args - Specifies the event args.\n         * @returns {void}\n         */\n        this.styleParagraphChange = function (args) {\n            if (args.isInteracted) {\n                _this.isUserNextParaUpdated = true;\n            }\n            //Next change\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.showFontDialog = function () {\n            if (!isNullOrUndefined(_this.documentHelper.owner.fontDialogModule)) {\n                _this.documentHelper.owner.showFontDialog(_this.characterFormat);\n            }\n            _this.updateCharacterFormat();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.showParagraphDialog = function () {\n            if (!isNullOrUndefined(_this.documentHelper.owner.paragraphDialogModule)) {\n                _this.documentHelper.owner.showParagraphDialog(_this.paragraphFormat);\n            }\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.showNumberingBulletDialog = function () {\n            _this.numberingBulletDialog = new BulletsAndNumberingDialog(_this.documentHelper);\n            if (_this.style instanceof WParagraphStyle && (!isNullOrUndefined(_this.style.paragraphFormat))) {\n                _this.numberingBulletDialog.showNumberBulletDialog(_this.style.paragraphFormat.listFormat, _this.abstractList);\n            }\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.onOkButtonClick = function () {\n            var styleName = SanitizeHtmlHelper.sanitize(_this.styleNameElement.value);\n            if (styleName.length > 0) {\n                var style = _this.documentHelper.styles.findByName(styleName);\n                var name_1;\n                if (!isNullOrUndefined(style)) {\n                    _this.documentHelper.owner.editorHistoryModule.initializeHistory('ModifyStyle');\n                    if (_this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo && _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.action === 'ModifyStyle') {\n                        var listId_1 = style instanceof WParagraphStyle ? style.paragraphFormat.listFormat.listId : -1;\n                        var styleObject = _this.documentHelper.owner.getStyleObject(style, listId_1);\n                        _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.modifiedProperties.push(styleObject);\n                    }\n                    _this.documentHelper.owner.editorHistoryModule.updateHistory();\n                    _this.style.type = _this.getTypeValue();\n                    _this.style.basedOn = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleBasedOn.value));\n                    if (_this.styleType.value === 'Paragraph' || _this.styleType.value === 'Linked Style') {\n                        _this.style.next = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleParagraph.value));\n                        _this.style.characterFormat.mergeFormat(_this.characterFormat);\n                        _this.style.paragraphFormat.mergeFormat(_this.paragraphFormat, true);\n                        _this.updateList();\n                        _this.style.link = (_this.styleType.value === 'Linked Style') ? _this.createLinkStyle(styleName, _this.isEdit) : undefined;\n                    }\n                    //Updating existing style implementation\n                    _this.style.name = style.name;\n                    name_1 = style.name;\n                    style = _this.style;\n                    var listId = _this.style instanceof WParagraphStyle ? _this.style.paragraphFormat.listFormat.listId : -1;\n                    _this.documentHelper.owner.setStyleData(name_1, listId);\n                    _this.documentHelper.owner.isShiftingEnabled = true;\n                    _this.documentHelper.owner.editorModule.isSkipOperationsBuild = _this.documentHelper.owner.enableCollaborativeEditing;\n                    _this.documentHelper.owner.editorModule.layoutWholeDocument();\n                    _this.documentHelper.owner.editorModule.isSkipOperationsBuild = false;\n                    _this.documentHelper.owner.isShiftingEnabled = false;\n                }\n                else {\n                    var tmpStyle = _this.getTypeValue() === 'Paragraph' ? new WParagraphStyle() : new WCharacterStyle;\n                    tmpStyle.copyStyle(_this.style);\n                    if (_this.getTypeValue() === 'Character') {\n                        tmpStyle.characterFormat.copyFormat(_this.characterFormat);\n                    }\n                    var basedOn = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleBasedOn.value));\n                    if (_this.styleType.value === 'Paragraph' || _this.styleType.value === 'Linked Style') {\n                        if (styleName === _this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleParagraph.value)) {\n                            tmpStyle.next = tmpStyle;\n                        }\n                        else {\n                            tmpStyle.next = _this.documentHelper.styles.findByName(_this.documentHelper.owner.stylesDialogModule.getStyleName(_this.styleParagraph.value));\n                        }\n                        _this.updateList();\n                    }\n                    tmpStyle.link = (_this.styleType.value === 'Linked Style') ? _this.createLinkStyle(styleName) : undefined;\n                    tmpStyle.type = _this.getTypeValue();\n                    tmpStyle.name = styleName;\n                    tmpStyle.basedOn = basedOn;\n                    _this.documentHelper.styles.push(tmpStyle);\n                    _this.documentHelper.addToStylesMap(tmpStyle);\n                    name_1 = styleName;\n                    _this.documentHelper.owner.editorHistoryModule.initializeHistory('ModifyStyle');\n                    if (_this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo && _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.action === 'ModifyStyle') {\n                        var listId_2 = tmpStyle instanceof WParagraphStyle ? tmpStyle.paragraphFormat.listFormat.listId : -1;\n                        var styleObject = _this.documentHelper.owner.getStyleObject(tmpStyle, listId_2);\n                        styleObject[\"isNew\"] = true;\n                        _this.documentHelper.owner.editorHistoryModule.currentBaseHistoryInfo.modifiedProperties.push(styleObject);\n                    }\n                    _this.documentHelper.owner.editorHistoryModule.updateHistory();\n                    var listId = _this.style instanceof WParagraphStyle ? _this.style.paragraphFormat.listFormat.listId : -1;\n                    _this.documentHelper.owner.setStyleData(name_1, listId);\n                    _this.documentHelper.owner.editorModule.isSkipOperationsBuild = _this.styleType.value === 'Character' && _this.documentHelper.owner.enableCollaborativeEditing;\n                    _this.documentHelper.owner.editorModule.applyStyle(name_1, true);\n                    _this.documentHelper.owner.editorModule.isSkipOperationsBuild = false;\n                    _this.documentHelper.owner.notify(internalStyleCollectionChange, {});\n                }\n                _this.documentHelper.dialog2.hide();\n                _this.documentHelper.updateFocus();\n            }\n            else {\n                throw new Error('Enter valid Style name');\n            }\n            if (_this.style) {\n                //this.style.destroy();\n            }\n            _this.documentHelper.updateFocus();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.loadStyleDialog = function () {\n            _this.documentHelper.updateFocus();\n            _this.isUserNextParaUpdated = false;\n            _this.styleNameElement = _this.target.getElementsByClassName('e-input e-de-style-dlg-name-input').item(0);\n            _this.styleNameElement.value = null;\n            if (!_this.isEdit) {\n                _this.styleType.index = 0; //Set to paragraph            \n            }\n            var name;\n            if (_this.isEdit) {\n                var localValue = new L10n('documenteditor', _this.documentHelper.owner.defaultLocale);\n                localValue.setLocale(_this.documentHelper.owner.locale);\n                var styleName = localValue.getConstant(_this.editStyleName);\n                if (styleName === '') {\n                    styleName = _this.editStyleName;\n                }\n                _this.styleNameElement.value = styleName;\n                name = _this.editStyleName;\n            }\n            _this.okButton = _this.documentHelper.dialog2.element.getElementsByClassName('e-flat e-style-okay').item(0);\n            _this.enableOrDisableOkButton();\n            _this.updateStyleNames(_this.getTypeValue(), name);\n            _this.updateCharacterFormat(_this.style.characterFormat);\n            _this.updateParagraphFormat(_this.style.paragraphFormat);\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.onCancelButtonClick = function () {\n            // if (!this.isEdit && this.style) {\n            _this.style = undefined;\n            _this.characterFormat = undefined;\n            _this.paragraphFormat = undefined;\n            // }\n            _this.documentHelper.dialog2.hide();\n            _this.documentHelper.updateFocus();\n        };\n        /**\n         * @private\n         * @returns {void}\n         */\n        this.closeStyleDialog = function () {\n            _this.documentHelper.updateFocus();\n        };\n        this.documentHelper = documentHelper;\n    }\n    /**\n     * @private\n     * @returns {string} Returns module name\n     */\n    StyleDialog.prototype.getModuleName = function () {\n        return 'StyleDialog';\n    };\n    /**\n     * @private\n     * @param {L10n} localValue - Specifies the locale value\n     * @param {boolean} isRtl - Specifies the is rtl\n     * @returns {void}\n     */\n    /* eslint-disable  */\n    StyleDialog.prototype.initStyleDialog = function (localValue, isRtl) {\n        var instance = this;\n        this.localObj = localValue;\n        this.target = createElement('div', { className: 'e-de-style-dialog' });\n        var container = createElement('div');\n        var properties = createElement('div', { className: 'e-de-para-dlg-heading', innerHTML: localValue.getConstant('Properties') });\n        container.appendChild(properties);\n        var styleNameTypeDiv = createElement('div', { className: 'e-de-container-row' });\n        container.appendChild(styleNameTypeDiv);\n        var nameWholeDiv = createElement('div', { className: 'e-de-subcontainer-left' });\n        styleNameTypeDiv.appendChild(nameWholeDiv);\n        // let name: HTMLElement = createElement('div', { className: 'e-de-style-name', innerHTML: localValue.getConstant('Name') + ':' });\n        // nameWholeDiv.appendChild(name);\n        var nameValue = createElement('input', { className: 'e-input e-de-style-dlg-name-input' });\n        nameValue.addEventListener('keyup', this.updateOkButton);\n        nameValue.addEventListener('input', this.updateOkButton);\n        nameValue.addEventListener('blur', this.updateNextStyle);\n        nameWholeDiv.appendChild(nameValue);\n        new TextBox({ placeholder: localValue.getConstant('Name') + ':', floatLabelType: 'Always' }, nameValue);\n        var styleTypeWholeDiv = createElement('div', { className: 'e-de-subcontainer-right' });\n        styleNameTypeDiv.appendChild(styleTypeWholeDiv);\n        // let styleType: HTMLElement = createElement('div', { className: 'e-de-style-styletype', innerHTML:  });\n        // styleTypeWholeDiv.appendChild(styleType);\n        var styleTypeDivElement = createElement('div');\n        var styleTypeValue = createElement('select');\n        styleTypeValue.innerHTML = '<option value=\"Paragraph\">' + localValue.getConstant('Paragraph') + '</option><option value=\"Character\">' + localValue.getConstant('Character') + '</option><option value=\"Linked Style\">' + localValue.getConstant('Linked Style') + '</option>';\n        styleTypeDivElement.appendChild(styleTypeValue);\n        this.styleType = new DropDownList({\n            change: this.styleTypeChange,\n            popupHeight: '253px', enableRtl: isRtl,\n            placeholder: localValue.getConstant('Style type') + ':', floatLabelType: 'Always'\n        });\n        this.styleType.appendTo(styleTypeValue);\n        styleTypeWholeDiv.appendChild(styleTypeDivElement);\n        var styleBasedParaDiv = createElement('div', { className: 'e-de-container-row' });\n        container.appendChild(styleBasedParaDiv);\n        var styleBasedOnWholeDiv = createElement('div', { className: 'e-de-subcontainer-left' });\n        styleBasedParaDiv.appendChild(styleBasedOnWholeDiv);\n        //let styleBasedOn: HTMLElement = createElement('div', { className: 'e-de-style-style-based-on', innerHTML:  });\n        //styleBasedOnWholeDiv.appendChild(styleBasedOn);\n        var styleBasedOnDivElement = createElement('div', { className: 'e-de-style-style-based-on-div' });\n        var styleBasedOnValue = createElement('input');\n        //styleBasedOnValue.innerHTML = '<option>Normal</option><option>Heading 1</option><option>Heading 2</option><option>Heading 3</option><option>Heading 4</option><option>Heading 5</option><option>Heading 6</option>';\n        styleBasedOnDivElement.appendChild(styleBasedOnValue);\n        this.styleBasedOn = new DropDownList({\n            dataSource: [], select: this.styleBasedOnChange, popupHeight: '253px', enableRtl: isRtl,\n            placeholder: localValue.getConstant('Style based on') + ':', floatLabelType: 'Always'\n        });\n        this.styleBasedOn.appendTo(styleBasedOnValue);\n        styleBasedOnWholeDiv.appendChild(styleBasedOnDivElement);\n        var styleParagraphWholeDiv = createElement('div', { className: 'e-de-subcontainer-right' });\n        styleBasedParaDiv.appendChild(styleParagraphWholeDiv);\n        if (isRtl) {\n            nameWholeDiv.classList.add('e-de-rtl');\n            styleBasedOnWholeDiv.classList.add('e-de-rtl');\n            styleParagraphWholeDiv.classList.add('e-de-rtl');\n        }\n        //let styleParagraph: HTMLElement = createElement('div', { className: 'e-de-style-style-paragraph', innerHTML: });\n        //styleParagraphWholeDiv.appendChild(styleParagraph);\n        var styleParagraphDivElement = createElement('div');\n        var styleParagraphValue = createElement('input');\n        //styleParagraphValue.innerHTML = '<option>Normal</option><option>Heading 1</option><option>Heading 2</option><option>Heading 3</option><option>Heading 4</option><option>Heading 5</option><option>Heading 6</option>';\n        styleParagraphDivElement.appendChild(styleParagraphValue);\n        this.styleParagraph = new DropDownList({\n            dataSource: [], select: this.styleParagraphChange, popupHeight: '253px', enableRtl: isRtl,\n            placeholder: localValue.getConstant('Style for following paragraph') + ':', floatLabelType: 'Always'\n        });\n        this.styleParagraph.appendTo(styleParagraphValue);\n        styleParagraphWholeDiv.appendChild(styleParagraphDivElement);\n        var formatting = createElement('div', { className: 'e-de-para-dlg-heading', innerHTML: localValue.getConstant('Formatting') });\n        container.appendChild(formatting);\n        var optionsDiv = createElement('div', { className: 'e-de-style-options-div' });\n        container.appendChild(optionsDiv);\n        var fontOptionsDiv = createElement('div', { styles: 'display:flex;margin-bottom: 14px;' });\n        optionsDiv.appendChild(fontOptionsDiv);\n        this.createFontOptions(fontOptionsDiv, isRtl);\n        var paragraphOptionsDiv = createElement('div', { styles: 'display:flex', className: 'e-style-paragraph' });\n        optionsDiv.appendChild(paragraphOptionsDiv);\n        this.createParagraphOptions(paragraphOptionsDiv);\n        // let radioOptionsDiv: HTMLElement = createElement('div', { styles: 'display:flex' });\n        // container.appendChild(radioOptionsDiv);\n        // let onlyThisDocumentDiv: HTMLElement = createElement('div', { className: 'e-de-style-radio-button' });\n        // let onlyThisDocument: HTMLInputElement = createElement('input', { className: 'e-de-style-only-this-doc', attrs: { type: 'radio' } }) as HTMLInputElement;\n        // onlyThisDocumentDiv.appendChild(onlyThisDocument);\n        // this.onlyThisDocument = new RadioButton({ label: 'Only in this document', value: 'only in this document', checked: true, name: 'styles' });\n        // this.onlyThisDocument.appendTo(onlyThisDocument);\n        // radioOptionsDiv.appendChild(onlyThisDocumentDiv);\n        // let templateDiv: HTMLElement = createElement('div', { className: 'e-de-style-radio-button' });\n        // let template: HTMLInputElement = createElement('input', { className: 'e-de-style-temp', attrs: { type: 'radio' } }) as HTMLInputElement;\n        // templateDiv.appendChild(template);\n        // this.template = new RadioButton({ label: 'Template', value: 'template', name: 'styles' });\n        // this.template.appendTo(template);\n        // radioOptionsDiv.appendChild(templateDiv);\n        this.createFormatDropdown(container, localValue, isRtl);\n        this.target.appendChild(container);\n    };\n    StyleDialog.prototype.createFormatDropdown = function (parentDiv, localValue, isRtl) {\n        var _this = this;\n        var formatBtn = createElement('button', {\n            id: 'style_format_dropdown', innerHTML: localValue.getConstant('Format'),\n            attrs: { type: 'button' }\n        });\n        formatBtn.style.height = '31px';\n        parentDiv.appendChild(formatBtn);\n        var items = [{ text: localValue.getConstant('Font') + '...', id: 'style_font' },\n            { text: localValue.getConstant('Paragraph') + '...', id: 'style_paragraph' },\n            { text: localValue.getConstant('Numbering') + '...', id: 'style_numbering' }];\n        this.styleDropdwn = new DropDownButton({\n            items: items, cssClass: 'e-de-style-format-dropdwn', enableRtl: isRtl,\n            beforeItemRender: function (args) {\n                if (_this.styleType.value === localValue.getConstant('Character')) {\n                    if (args.item.id === \"style_paragraph\") {\n                        args.element.classList.add('e-disabled');\n                    }\n                    if (args.item.id === 'style_numbering') {\n                        args.element.classList.add('e-disabled');\n                    }\n                }\n                else {\n                    if (args.item.id === \"style_paragraph\") {\n                        args.element.classList.remove('e-disabled');\n                    }\n                    if (args.item.id === 'style_numbering') {\n                        args.element.classList.remove('e-disabled');\n                    }\n                }\n            },\n        });\n        this.styleDropdwn.appendTo(formatBtn);\n        this.styleDropdwn.addEventListener('select', this.openDialog);\n    };\n    StyleDialog.prototype.createFontOptions = function (parentDiv, isRtl) {\n        var _this = this;\n        var fontFamilyElement = createElement('input', {\n            id: this.target.id + '_fontName',\n        });\n        var fontStyle;\n        var isStringTemplate = true;\n        var itemTemplate = initializeCSPTemplate(function (data) { return \"<span style=\\\"font-family: \" + data.FontName + \";\\\">\" + data.FontName + \"</span>\"; });\n        parentDiv.appendChild(fontFamilyElement);\n        this.fontFamily = new ComboBox({\n            dataSource: fontStyle, query: new Query().select(['FontName']), fields: { text: 'FontName', value: 'value' },\n            allowCustom: true, width: '123px', popupWidth: '123px',\n            cssClass: 'e-style-font-fmaily-right', enableRtl: isRtl, change: this.fontFamilyChanged,\n            showClearButton: false, itemTemplate: itemTemplate\n        });\n        this.fontFamily.appendTo(fontFamilyElement);\n        this.fontFamily.isStringTemplate = isStringTemplate;\n        var fontFamilyValue = this.documentHelper.owner.documentEditorSettings.fontFamilies;\n        for (var i = 0; i < fontFamilyValue.length; i++) {\n            var fontValue = fontFamilyValue[i];\n            var fontStyleValue = { 'FontName': fontValue, 'value': fontValue };\n            this.fontFamily.addItem(fontStyleValue, i);\n        }\n        this.fontFamily.focus = function () { _this.fontFamily.element.select(); };\n        this.fontFamily.element.parentElement.setAttribute('title', this.localObj.getConstant('Font'));\n        var fontSizeElement = createElement('input');\n        parentDiv.appendChild(fontSizeElement);\n        var sizeDataSource = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\n        this.fontSize = new ComboBox({\n            dataSource: sizeDataSource, width: '73px', cssClass: 'e-style-font-fmaily-right',\n            enableRtl: isRtl, change: this.fontSizeUpdate\n        });\n        this.fontSize.showClearButton = false;\n        this.fontSize.appendTo(fontSizeElement);\n        var fontGroupButton = createElement('div', { className: 'e-de-style-font-group-button' });\n        parentDiv.appendChild(fontGroupButton);\n        this.bold = this.createButtonElement(fontGroupButton, 'e-de-bold', 'e-de-style-bold-button-size', this.documentHelper.owner.containerId + '_style_bold');\n        this.bold.setAttribute('aria-label', 'bold');\n        this.bold.addEventListener('click', this.setBoldProperty);\n        this.italic = this.createButtonElement(fontGroupButton, 'e-de-italic', 'e-de-style-icon-button-size', this.documentHelper.owner.containerId + '_style_italic');\n        this.italic.setAttribute('aria-label', 'italic');\n        this.italic.addEventListener('click', this.setItalicProperty);\n        this.underline = this.createButtonElement(fontGroupButton, 'e-de-underline', 'e-de-style-icon-button-size', this.documentHelper.owner.containerId + '_style_underline');\n        this.underline.setAttribute('aria-label', 'underline');\n        this.underline.addEventListener('click', this.setUnderlineProperty);\n        var fontColorElement = createElement('input', { attrs: { type: 'color' }, className: 'e-de-style-icon-button-size' });\n        parentDiv.appendChild(fontColorElement);\n        var _a = this.documentHelper.owner.documentEditorSettings.colorPickerSettings, columns = _a.columns, createPopupOnClick = _a.createPopupOnClick, disabled = _a.disabled, enablePersistence = _a.enablePersistence, enableRtl = _a.enableRtl, inline = _a.inline, mode = _a.mode, modeSwitcher = _a.modeSwitcher, noColor = _a.noColor, presetColors = _a.presetColors, showButtons = _a.showButtons;\n        this.fontColor = new ColorPicker({ cssClass: 'e-de-style-font-color-picker', enableRtl: isRtl, change: this.fontColorUpdate, locale: this.documentHelper.owner.locale, enableOpacity: false, mode: mode, modeSwitcher: modeSwitcher, showButtons: showButtons, columns: columns, createPopupOnClick: createPopupOnClick, disabled: disabled, enablePersistence: enablePersistence, inline: inline, noColor: noColor, presetColors: presetColors });\n        this.documentHelper.fontColor = this.fontColor;\n        this.fontColor.appendTo(fontColorElement);\n    };\n    StyleDialog.prototype.createParagraphOptions = function (parentDiv) {\n        var _this = this;\n        var alignmentDiv = createElement('div', { className: 'e-de-style-paragraph-group-button' });\n        parentDiv.appendChild(alignmentDiv);\n        this.leftAlign = this.createButtonElement(alignmentDiv, 'e-de-align-left', 'e-de-style-icon-button-size');\n        this.leftAlign.setAttribute('aria-label', 'leftAlign');\n        this.leftAlign.addEventListener('click', this.setLeftAlignment);\n        this.centerAlign = this.createButtonElement(alignmentDiv, 'e-de-align-center', 'e-de-style-icon-button-size');\n        this.centerAlign.setAttribute('aria-label', 'centerAlign');\n        this.centerAlign.addEventListener('click', this.setCenterAlignment);\n        this.rightAlign = this.createButtonElement(alignmentDiv, 'e-de-align-right', 'e-de-style-icon-button-size');\n        this.rightAlign.setAttribute('aria-label', 'rightAlign');\n        this.rightAlign.addEventListener('click', this.setRightAlignment);\n        this.justify = this.createButtonElement(alignmentDiv, 'e-de-justify', 'e-de-style-icon-button-last-size');\n        this.justify.setAttribute('aria-label', 'justify');\n        this.justify.addEventListener('click', this.setJustifyAlignment);\n        var lineSpacingDiv = createElement('div', { className: 'e-de-style-paragraph-group-button' });\n        parentDiv.appendChild(lineSpacingDiv);\n        this.singleLineSpacing = this.createButtonElement(lineSpacingDiv, 'e-de-single-spacing', 'e-de-style-icon-button-first-size');\n        this.singleLineSpacing.setAttribute('aria-label', 'singleLineSpacing');\n        this.singleLineSpacing.addEventListener('click', function () {\n            _this.paragraphFormat.lineSpacing = 1;\n            _this.updateParagraphFormat();\n        });\n        this.onePointFiveLineSpacing = this.createButtonElement(lineSpacingDiv, 'e-de-one-point-five-spacing', 'e-de-style-icon-button-size');\n        this.onePointFiveLineSpacing.setAttribute('aria-label', 'onePointFiveLineSpacing');\n        this.onePointFiveLineSpacing.addEventListener('click', function () {\n            _this.paragraphFormat.lineSpacing = 1.5;\n            _this.updateParagraphFormat();\n        });\n        this.doubleLineSpacing = this.createButtonElement(lineSpacingDiv, 'e-de-double-spacing', 'e-de-style-icon-button-last-size');\n        this.doubleLineSpacing.setAttribute('aria-label', 'doubleLineSpacing');\n        this.doubleLineSpacing.addEventListener('click', function () {\n            _this.paragraphFormat.lineSpacing = 2;\n            _this.updateParagraphFormat();\n        });\n        var spacingDiv = createElement('div', { className: 'e-de-style-paragraph-group-button' });\n        parentDiv.appendChild(spacingDiv);\n        var beforeSpacing = this.createButtonElement(spacingDiv, 'e-de-before-spacing', 'e-de-style-icon-button-first-size');\n        beforeSpacing.setAttribute('aria-label', 'beforeSpacing');\n        var afterSpacing = this.createButtonElement(spacingDiv, 'e-de-after-spacing', 'e-de-style-icon-button-last-size');\n        afterSpacing.setAttribute('aria-label', 'afterSpacing');\n        beforeSpacing.addEventListener('click', this.increaseBeforeAfterSpacing);\n        afterSpacing.addEventListener('click', this.decreaseBeforeAfterSpacing);\n        var indentingDiv = createElement('div', { className: 'e-de-style-paragraph-indent-group-button' });\n        parentDiv.appendChild(indentingDiv);\n        var decreaseIndent = this.createButtonElement(indentingDiv, 'e-de-indent', 'e-de-style-icon-button-first-size');\n        decreaseIndent.setAttribute('aria-label', 'decreaseIndent');\n        decreaseIndent.addEventListener('click', function () {\n            if (_this.paragraphFormat.leftIndent >= 36) {\n                _this.paragraphFormat.leftIndent -= 36;\n            }\n            else {\n                _this.paragraphFormat.leftIndent = 0;\n            }\n        });\n        var increaseindent = this.createButtonElement(indentingDiv, 'e-de-outdent', 'e-de-style-icon-button-size');\n        increaseindent.setAttribute('aria-label', 'increaseindent');\n        increaseindent.addEventListener('click', function () {\n            _this.paragraphFormat.leftIndent += 36;\n        });\n    };\n    StyleDialog.prototype.createButtonElement = function (parentDiv, iconCss, className, id) {\n        var buttonElement = createElement('button', { attrs: { type: 'button' } });\n        if (!isNullOrUndefined(id)) {\n            buttonElement.id = id;\n        }\n        parentDiv.appendChild(buttonElement);\n        var button = new Button({ iconCss: iconCss, cssClass: className });\n        button.appendTo(buttonElement);\n        return buttonElement;\n    };\n    StyleDialog.prototype.toggleDisable = function () {\n        if (this.styleType.value === this.localObj.getConstant('Character')) {\n            this.styleParagraph.enabled = false;\n            this.target.getElementsByClassName('e-style-paragraph').item(0).setAttribute('style', 'display:flex;pointer-events:none;opacity:0.5');\n        }\n        else {\n            this.styleParagraph.enabled = true;\n            this.target.getElementsByClassName('e-style-paragraph').item(0).removeAttribute('style');\n            this.target.getElementsByClassName('e-style-paragraph').item(0).setAttribute('style', 'display:flex');\n        }\n        this.styleBasedOn.enabled = true;\n    };\n    /**\n     * @private\n     * @param {string} styleName - Specifies the style name.\n     * @param {string} header - Specifies the header.\n     * @returns {void}\n     */\n    StyleDialog.prototype.show = function (styleName, header) {\n        var localObj = new L10n('documenteditor', this.documentHelper.owner.defaultLocale);\n        this.isEdit = (!isNullOrUndefined(styleName) && styleName.length > 0) ? true : false;\n        this.editStyleName = styleName;\n        this.abstractList = new WAbstractList();\n        var style = this.documentHelper.styles.findByName(styleName);\n        this.style = !this.isEdit ? new WParagraphStyle() : style ? style : this.getStyle(styleName);\n        localObj.setLocale(this.documentHelper.owner.locale);\n        if (!this.target) {\n            this.initStyleDialog(localObj, this.documentHelper.owner.enableRtl);\n        }\n        if (!this.isEdit) {\n            this.styleType.value = 'Paragraph';\n        }\n        else {\n            this.styleType.value = this.style instanceof WCharacterStyle ? 'Character' : 'Paragraph';\n        }\n        if (isNullOrUndefined(header)) {\n            header = localObj.getConstant('Create New Style');\n        }\n        this.documentHelper.dialog2.header = header;\n        this.documentHelper.dialog2.height = 'auto';\n        this.documentHelper.dialog2.width = 'auto';\n        this.documentHelper.dialog2.content = this.target;\n        this.documentHelper.dialog2.buttons = [{\n                click: this.onOkButtonClick,\n                buttonModel: { content: localObj.getConstant('Ok'), cssClass: 'e-flat e-style-okay', isPrimary: true }\n            },\n            {\n                click: this.onCancelButtonClick,\n                buttonModel: { content: localObj.getConstant('Cancel'), cssClass: 'e-flat e-style-cancel' }\n            }];\n        this.toggleDisable();\n        this.documentHelper.dialog2.dataBind();\n        this.documentHelper.dialog2.beforeOpen = this.loadStyleDialog;\n        this.documentHelper.dialog2.close = this.closeStyleDialog;\n        this.documentHelper.dialog2.position = { X: 'center', Y: 'center' };\n        this.documentHelper.dialog2.show();\n    };\n    StyleDialog.prototype.updateList = function () {\n        var listId = this.style.paragraphFormat.listFormat.listId;\n        if (listId > -1) {\n            if (this.documentHelper.lists.filter(function (a) { return (a.listId === listId); }).length === 0) {\n                this.documentHelper.lists.push(this.style.paragraphFormat.listFormat.list);\n            }\n            else {\n                this.documentHelper.lists = this.documentHelper.lists.filter(function (a) { return (a.listId !== listId); });\n                this.documentHelper.lists.push(this.style.paragraphFormat.listFormat.list);\n            }\n        }\n        if (this.abstractList.abstractListId !== -1) {\n            this.documentHelper.abstractLists.push(this.abstractList);\n        }\n    };\n    StyleDialog.prototype.createLinkStyle = function (name, isEdit) {\n        var charStyle;\n        if (isEdit) {\n            charStyle = this.documentHelper.styles.findByName((name + ' Char'), 'Character');\n        }\n        else {\n            charStyle = new WCharacterStyle();\n        }\n        charStyle.type = 'Character';\n        charStyle.name = name + ' Char';\n        charStyle.characterFormat = this.style.characterFormat.cloneFormat();\n        charStyle.basedOn = this.style.basedOn;\n        if (!isEdit) {\n            this.documentHelper.styles.push(charStyle);\n        }\n        return this.documentHelper.styles.findByName(charStyle.name, 'Character');\n    };\n    /**\n     * @private\n     * @param {L10n} characterFormat - Specifies the character format\n     * @returns {void}\n     */\n    StyleDialog.prototype.updateCharacterFormat = function (characterFormat) {\n        if (!isNullOrUndefined(characterFormat)) {\n            this.characterFormat = characterFormat.cloneFormat();\n        }\n        this.fontFamily.value = this.characterFormat.fontFamily;\n        this.fontSize.value = this.characterFormat.fontSize;\n        var color = this.characterFormat.fontColor;\n        // \"empty\" is old value used for auto color till v19.2.49. It is maintained for backward compatibility.\n        this.fontColor.value = (color === 'empty' || color === '#00000000') ? '#000000' : color;\n        this.fontButtonClicked();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    StyleDialog.prototype.updateParagraphFormat = function (paragraphFOrmat) {\n        if (!isNullOrUndefined(paragraphFOrmat)) {\n            this.paragraphFormat = paragraphFOrmat.cloneFormat();\n        }\n        if (isNullOrUndefined(this.paragraphFormat)) {\n            return;\n        }\n        if (this.paragraphFormat.textAlignment === 'Left') {\n            if (!this.leftAlign.classList.contains('e-active')) {\n                this.leftAlign.classList.add('e-active');\n            }\n            if (this.rightAlign.classList.contains('e-active')) {\n                this.rightAlign.classList.remove('e-active');\n            }\n            if (this.centerAlign.classList.contains('e-active')) {\n                this.centerAlign.classList.remove('e-active');\n            }\n            if (this.justify.classList.contains('e-active')) {\n                this.justify.classList.remove('e-active');\n            }\n        }\n        else if (this.paragraphFormat.textAlignment === 'Right') {\n            if (this.leftAlign.classList.contains('e-active')) {\n                this.leftAlign.classList.remove('e-active');\n            }\n            if (!this.rightAlign.classList.contains('e-active')) {\n                this.rightAlign.classList.add('e-active');\n            }\n            if (this.centerAlign.classList.contains('e-active')) {\n                this.centerAlign.classList.remove('e-active');\n            }\n            if (this.justify.classList.contains('e-active')) {\n                this.justify.classList.remove('e-active');\n            }\n        }\n        else if (this.paragraphFormat.textAlignment === 'Center') {\n            if (this.leftAlign.classList.contains('e-active')) {\n                this.leftAlign.classList.remove('e-active');\n            }\n            if (this.rightAlign.classList.contains('e-active')) {\n                this.rightAlign.classList.remove('e-active');\n            }\n            if (!this.centerAlign.classList.contains('e-active')) {\n                this.centerAlign.classList.add('e-active');\n            }\n            if (this.justify.classList.contains('e-active')) {\n                this.justify.classList.remove('e-active');\n            }\n        }\n        else if (this.paragraphFormat.textAlignment === 'Justify') {\n            if (this.leftAlign.classList.contains('e-active')) {\n                this.leftAlign.classList.remove('e-active');\n            }\n            if (this.rightAlign.classList.contains('e-active')) {\n                this.rightAlign.classList.remove('e-active');\n            }\n            if (this.centerAlign.classList.contains('e-active')) {\n                this.centerAlign.classList.remove('e-active');\n            }\n            if (!this.justify.classList.contains('e-active')) {\n                this.justify.classList.add('e-active');\n            }\n        }\n        if (this.paragraphFormat.lineSpacing === 1) {\n            this.singleLineSpacing.classList.add('e-active');\n            this.onePointFiveLineSpacing.classList.remove('e-active');\n            this.doubleLineSpacing.classList.remove('e-active');\n        }\n        else if (this.paragraphFormat.lineSpacing === 1.5) {\n            this.singleLineSpacing.classList.remove('e-active');\n            this.onePointFiveLineSpacing.classList.add('e-active');\n            this.doubleLineSpacing.classList.remove('e-active');\n        }\n        else if (this.paragraphFormat.lineSpacing === 2) {\n            this.singleLineSpacing.classList.remove('e-active');\n            this.onePointFiveLineSpacing.classList.remove('e-active');\n            this.doubleLineSpacing.classList.add('e-active');\n        }\n        else {\n            this.singleLineSpacing.classList.remove('e-active');\n            this.onePointFiveLineSpacing.classList.remove('e-active');\n            this.doubleLineSpacing.classList.remove('e-active');\n        }\n    };\n    StyleDialog.prototype.enableOrDisableOkButton = function () {\n        if (!isNullOrUndefined(this.okButton)) {\n            this.okButton.disabled = (this.styleNameElement.value === '');\n        }\n    };\n    /**\n     * @private\n     */\n    StyleDialog.prototype.getTypeValue = function (type) {\n        var value = !isNullOrUndefined(type) ? type : this.styleType.value;\n        if (value === 'Linked Style' || value === 'Paragraph') {\n            return 'Paragraph';\n        }\n        else {\n            return 'Character';\n        }\n    };\n    StyleDialog.prototype.updateStyleNames = function (type, name) {\n        var localValue = new L10n('documenteditor', this.documentHelper.owner.defaultLocale);\n        localValue.setLocale(this.documentHelper.owner.locale);\n        var styles = this.documentHelper.styles.getStyleNames(type);\n        var finalList = [];\n        for (var i = 0; i < styles.length; i++) {\n            var styleName = localValue.getConstant(styles[parseInt(i.toString(), 10)]);\n            if (styleName === '') {\n                styleName = styles[parseInt(i.toString(), 10)];\n            }\n            finalList.push(styleName);\n        }\n        this.styleParagraph.dataSource = finalList;\n        this.styleParagraph.index = null;\n        if (name) {\n            this.styleBasedOn.dataSource = finalList.filter(function (e) { return e !== name; });\n            this.styleBasedOn.index = null;\n            var style = this.getStyle(name);\n            if (style.basedOn instanceof String || isNullOrUndefined(style.basedOn)) {\n                this.styleBasedOn.enabled = false;\n            }\n            else {\n                this.styleBasedOn.index = styles.indexOf(style.basedOn.name) > -1 ? styles.indexOf(style.basedOn.name) : 0;\n            }\n            if (style.type === 'Paragraph') {\n                if (!isNullOrUndefined(style.link)) {\n                    this.styleType.index = 2;\n                }\n                else {\n                    this.styleType.index = 0;\n                }\n            }\n            else {\n                this.styleType.index = 1;\n            }\n            if (!isNullOrUndefined(style.next)) {\n                var nxtName = style.next.name;\n                var index = 0;\n                if (styles.indexOf(nxtName) > -1) {\n                    index = styles.indexOf(nxtName);\n                }\n                this.styleParagraph.index = index;\n                this.isUserNextParaUpdated = (nxtName === name) ? false : true;\n            }\n        }\n        else {\n            this.styleBasedOn.dataSource = finalList;\n            this.styleBasedOn.index = null;\n            var basedOnIndex = 0;\n            if (this.documentHelper.owner.selectionModule) {\n                var styleName = void 0;\n                if (type === 'Character') {\n                    styleName = this.documentHelper.owner.selectionModule.characterFormat.styleName;\n                }\n                else {\n                    styleName = this.documentHelper.owner.selectionModule.paragraphFormat.styleName;\n                }\n                basedOnIndex = styles.indexOf(styleName);\n            }\n            this.styleBasedOn.index = basedOnIndex;\n            this.styleParagraph.index = 0;\n        }\n        if (this.isEdit) {\n            this.styleType.enabled = false;\n        }\n        else {\n            this.styleType.enabled = true;\n        }\n        // this.styleBasedOn.dataBind();\n        // this.styleParagraph.dataBind();\n    };\n    StyleDialog.prototype.getStyle = function (styleName) {\n        if (isNullOrUndefined(this.documentHelper.styles.findByName(styleName))) {\n            this.documentHelper.owner.editorModule.createStyle(this.documentHelper.preDefinedStyles.get(styleName));\n        }\n        return this.documentHelper.styles.findByName(styleName);\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    StyleDialog.prototype.destroy = function () {\n        if (!isNullOrUndefined(this.target)) {\n            if (this.target.parentElement) {\n                this.target.parentElement.removeChild(this.target);\n            }\n            for (var n = 0; n < this.target.childNodes.length; n++) {\n                this.target.removeChild(this.target.childNodes[n]);\n                n--;\n            }\n            this.target = undefined;\n        }\n        if (this.characterFormat) {\n            this.characterFormat.destroy();\n            this.characterFormat = undefined;\n        }\n        if (this.paragraphFormat) {\n            this.paragraphFormat.destroy();\n            this.paragraphFormat = undefined;\n        }\n        if (this.fontColor) {\n            this.fontColor.destroy();\n            this.fontColor = undefined;\n        }\n        if (this.fontSize) {\n            this.fontSize.destroy();\n            this.fontSize = undefined;\n        }\n        if (this.fontFamily) {\n            this.fontFamily.destroy();\n            this.fontFamily = undefined;\n        }\n        if (this.styleType) {\n            this.styleType.destroy();\n            this.styleType = undefined;\n        }\n        if (this.styleBasedOn) {\n            this.styleBasedOn.destroy();\n            this.styleBasedOn = undefined;\n        }\n        if (this.styleParagraph) {\n            this.styleParagraph.destroy();\n            this.styleParagraph = undefined;\n        }\n        if (this.onlyThisDocument) {\n            this.onlyThisDocument.destroy();\n        }\n        this.onlyThisDocument = undefined;\n        if (this.template) {\n            this.template.destroy();\n            this.template = undefined;\n        }\n        if (this.style) {\n            this.style.destroy();\n            this.style = undefined;\n        }\n        if (this.abstractList) {\n            this.abstractList.destroy();\n            this.abstractList = undefined;\n        }\n        if (this.numberingBulletDialog) {\n            this.numberingBulletDialog.destroy();\n            this.numberingBulletDialog = undefined;\n        }\n        if (this.styleDropdwn) {\n            this.styleDropdwn.destroy();\n            this.styleDropdwn = undefined;\n        }\n        this.documentHelper = undefined;\n    };\n    return StyleDialog;\n}());\nexport { StyleDialog };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}