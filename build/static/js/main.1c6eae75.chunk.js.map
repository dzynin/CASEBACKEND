{"version":3,"sources":["shared/Spinner.js","utils.js","images/logo-mini.svg","shared/DashboardCard.js","Dashboard/DashboardView.js","images/faces/face15.jpg","Dashboard/markdown.js","serviceWorker.js","index.js","shared/Highlight.js","AppRoutes.js","Reducers.js","Dashboard/Highlight.js","Dashboard/Register.js","Dashboard/Login.js","TextEditor.js","shared/Sidebar.js","Dashboard/HighlightButton.js","Dashboard/FileUploadComponent.js","Dashboard/Search.js","shared/Navbar.js","Dashboard/FileViewer.js","App.js","images/logo.svg"],"names":["style","display","alignItems","height","className","BASE_URL_DEV","fetchAuth","auth","JSON","parse","localStorage","getItem","authToken","userPublicId","username","email","expiry","Date","auth_token","module","exports","DashboardCard","title","icon","footerText","number","color","DashboardView","useContext","UserContext","state","dispatch","width","Row","Col","lg","md","xs","sm","processMd","text","unified","use","math","remark2rehype","katex","rehype2react","createElement","React","processSync","result","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","Highlight","props","useState","highlights","setState","url","setPdfUrl","useEffect","a","axios","result_json","pdf_name","Object","keys","data","fetchData","useRef","padding","marginBottom","map","highlight","index","key","onClick","hash","id","updateHash","float","filter","idx","deleteHighlight","comment","content","marginTop","slice","trim","image","src","alt","position","pageNumber","length","Dashboard","lazy","AppRoutes","fallback","Spinner","showFileViewer","showDashboardView","showHighlight","InitialState","files","currentFile","fileHighlights","reducer","action","type","Array","isArray","payload","Allfiles","fileNames","file","includes","name","push","setItem","stringify","clear","log","fileUpdated","singleFile","Register","history","useHistory","password1","password2","userDetails","setUserDetails","registerUser","e","preventDefault","fetch","method","headers","body","response","json","ok","require","placeholder","onChange","target","value","Button","to","Login","password","loginUser","Form","Group","Control","size","TOOLBAR_OPTIONS","header","font","list","background","script","align","TextEditor","showTextEditor","setShowTextEditor","documentId","socket","setSocket","quill","setQuill","s","io","disconnect","once","setContents","enable","emit","interval","setInterval","getContents","clearInterval","handler","delta","updateContents","on","off","wrapperRef","useCallback","wrapper","innerHTML","editor","append","q","Quill","theme","modules","toolbar","disable","setText","handleClose","Fragment","Modal","show","onHide","backdrop","centered","Body","ref","Footer","variant","Sidebar","setHighlight","fileViewer","setFileViewer","dashboardView","setDashboardView","href","Trans","Dropdown","alignRight","Toggle","as","Menu","evt","DashboardViewClicks","FileViewerClicks","HighlightClicks","HighlightButton","hightlightResponse","setHightlightResponse","post","statusText","outline","FileUploadComponent","setFile","_handleSubmit","FormData","onSubmit","reader","FileReader","onload","readAsDataURL","_handleImageChange","aria-describedby","htmlFor","Search","Input","Navbar","savedAuth","classList","toggle","querySelector","FileViewer","setHighlights","selectPdf","setSelectPdf","highlightUpdated","forEach","item","minWidth","overflowY","updatedHighlights","margin","Header","closeButton","Title","pdf","handleFileClick","createContext","useReducer","setShowHighlight","setShowFileViewer","setShowDashboardView","Provider","path","exact","val"],"mappings":"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","file":"static/js/main.1c6eae75.chunk.js","sourcesContent":["import React from \"react\";\n\nimport \"../style/Spinner.css\";\n\nexport default () => {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        height: \"100vh\"\n      }}\n    >\n      <div className=\"sk-fading-circle\">\n        <div className=\"sk-circle1 sk-circle\" />\n        <div className=\"sk-circle2 sk-circle\" />\n        <div className=\"sk-circle3 sk-circle\" />\n        <div className=\"sk-circle4 sk-circle\" />\n        <div className=\"sk-circle5 sk-circle\" />\n        <div className=\"sk-circle6 sk-circle\" />\n        <div className=\"sk-circle7 sk-circle\" />\n        <div className=\"sk-circle8 sk-circle\" />\n        <div className=\"sk-circle9 sk-circle\" />\n        <div className=\"sk-circle10 sk-circle\" />\n        <div className=\"sk-circle11 sk-circle\" />\n        <div className=\"sk-circle12 sk-circle\" />\n      </div>\n    </div>\n  );\n};\n","const BASE_URL_DEV = \"http://127.0.0.1:5000\";\n\nexport { BASE_URL_DEV };\n\nexport const fetchAuth = () => {\n  const auth = JSON.parse(localStorage.getItem(\"authDetails\"));\n  if (\n    !auth ||\n    !auth.authToken ||\n    !auth.userPublicId ||\n    !auth.username ||\n    !auth.email ||\n    !auth.expiry\n  ) {\n    return null;\n  }\n  if(auth.expiry < Date.parse(new Date())) return null;\n  return {\n    authToken: auth.authToken,\n    auth_token: auth.authToken,\n    userPublicId: auth.userPublicId,\n    username: auth.username,\n    email: auth.email,\n    expiry: auth.expiry,\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/logo-mini.c949e51e.svg\";","import React from \"react\";\n\nfunction DashboardCard({ title, icon, footerText, number, color }) {\n  return (\n    <div className=\"grid-margin\">\n      <div className=\"card dashboard-card\">\n        <div className=\"card-body\">\n          <div className=\"row my-2\">\n            <div className=\"col-4 col-sm-12 col-xl-4 text-center text-xl-right\">\n              <i\n                className={`icon-lg mdi ${\n                  icon ? icon : \"mdi-monitor\"\n                } ${color ? 'text-'+color : 'text-primary'} ml-auto`}\n              ></i>\n            </div>\n            <div className=\"col-8 col-sm-12 col-xl-8 my-auto\">\n              <div className=\"row\">\n                <h5 className=\"w-100 text-center\">{title}</h5>\n              </div>\n              <div className=\"row\">\n                <h2 className=\"mb-0 w-100 text-center\">{number}</h2>\n              </div>\n            </div>\n          </div>\n          <div className=\"row text-center px-2\">\n            <h6 className=\"text-white w-100 font-weight-normal\">{footerText}</h6>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DashboardCard;\n","// @flow\nimport React, { useContext } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { UserContext } from \"../App\";\nimport DashboardCard from \"../shared/DashboardCard\";\n\nfunction DashboardView() {\n  const { state, dispatch } = useContext(UserContext);\n\n  return (\n    <div\n      className=\"dashboard-view bg-dark p-5 text-center\"\n      style={{ width: \"100%\" }}\n    >\n      <Row>\n        <Col lg={3} md={4} xs={12} sm={12}>\n          <DashboardCard\n            title={\"Revenue\"}\n            icon={\"mdi-currency-usd\"}\n            footerText={\"11% revenue growth\"}\n            number={34234}\n            color={\"success\"}\n          />\n        </Col>\n        <Col lg={3} md={4} xs={12} sm={12}>\n          <DashboardCard\n            title={\"Sales\"}\n            icon={\"mdi-sale\"}\n            footerText={\"15% sales increase\"}\n            number={34234}\n            color={\"danger\"}\n          />\n        </Col>\n        <Col lg={3} md={4} xs={12} sm={12}>\n          <DashboardCard\n            title={\"Customers\"}\n            icon={\"mdi-account\"}\n            footerText={\"22% customer growth\"}\n            number={34234}\n            color={\"warning\"}\n          />\n        </Col>\n        <Col lg={3} md={4} xs={12} sm={12}>\n          <DashboardCard\n            title={\"Stats\"}\n            icon={\"mdi-elevation-rise\"}\n            footerText={\"17% overall growth\"}\n            number={34234}\n            color={\"success\"}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default DashboardView;\n","module.exports = __webpack_public_path__ + \"static/media/face15.736ec0d9.jpg\";","import React from \"react\";\r\n\r\nimport unified from 'unified'\r\nimport parse from 'remark-parse'\r\nimport remark2rehype from 'remark-rehype'\r\nimport rehype2react from 'rehype-react'\r\nimport math from 'remark-math'\r\nimport katex from 'rehype-katex'\r\n\r\nfunction processMd(text) {\r\n  return (\r\n    unified()\r\n    .use(parse)\r\n    .use(math)\r\n    .use(remark2rehype)\r\n    .use(katex)\r\n    .use(rehype2react, {createElement: React.createElement})\r\n    .processSync(text).result\r\n  )\r\n}\r\n\r\nexport default processMd;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// @flow\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport processMd from \"../Dashboard/markdown\";\r\nimport axios from \"axios\";\r\nimport type { T_Highlight } from \"react-pdf-highlighter/src/types\";\r\ntype T_ManuscriptHighlight = T_Highlight;\r\n\r\ntype Props = {\r\n  highlights: Array<T_ManuscriptHighlight>,\r\n  resetHighlights: () => void,\r\n  deleteHighlight: (index: number) => void,\r\n};\r\n\r\nconst updateHash = (highlight) => {\r\n  document.location.hash = `highlight-${highlight.id}`;\r\n};\r\n\r\nfunction Highlight(props) {\r\n  const [state, setState] = useState({ highlights: [] });\r\n  const [PdfUrl, setPdfUrl] = useState({ url: \"\" });\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const result_json = await axios(\"http://127.0.0.1:5000/api/v1/json\");\r\n      const pdf_name = Object.keys(result_json.data)[0];\r\n      setPdfUrl({ url: `http://127.0.0.1:5000/api/v1/pdf/${pdf_name}` });\r\n      setState({ highlights: result_json.data[pdf_name] });\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const parseIdFromHash = () =>\r\n    document.location.hash.slice(\"#highlight-\".length);\r\n\r\n  const pdfHighlighter = useRef(null);\r\n  const getHighlightById = (id) =>\r\n    state.highlights.find((highlight) => highlight.id === id);\r\n  const scrollToHighlightFromHash = () => {\r\n    const highlight = getHighlightById(parseIdFromHash());\r\n    if (highlight) {\r\n      pdfHighlighter.current.scrollTo(highlight);\r\n    }\r\n  };\r\n\r\n  const deleteHighlight = (index: number) => {\r\n    const highlights = state.highlights.filter((highlight, idx) => {\r\n      if (index !== idx) {\r\n        return highlight;\r\n      }\r\n    });\r\n    setState({ highlights });\r\n  };\r\n\r\n  function updateHighlight(\r\n    highlightId: string,\r\n    position: Object,\r\n    content: Object\r\n  ) {\r\n\r\n    setState({\r\n      highlights: state.highlights.map((h) => {\r\n        return h.id === highlightId\r\n          ? {\r\n              ...h,\r\n              position: { ...h.position, ...position },\r\n              content: { ...h.content, ...content },\r\n            }\r\n          : h;\r\n      }),\r\n    });\r\n  }\r\n\r\n  const { highlights } = state;\r\n\r\n  const resetHighlights = () => {\r\n    setState({\r\n      highlights: [],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sidebarnew\"style={{ width: \"25vw\" }}>\r\n      {/*  */}\r\n      <div className=\"description\" style={{ padding: \"1rem\" }}>\r\n        <h2 style={{ marginBottom: \"1rem\" }}>SUPO</h2>\r\n\r\n        <p>\r\n          <small>\r\n            To create area highlight hold ⌥ Option key (Alt), then click and\r\n            drag.\r\n          </small>\r\n        </p>\r\n      </div>\r\n\r\n      <ul className=\"sidebar__highlights\">\r\n        {highlights.map((highlight, index) => (\r\n          <li\r\n            key={index}\r\n            className=\"sidebar__highlight\"\r\n            onClick={() => {\r\n              updateHash(highlight);\r\n            }}\r\n          >\r\n            <div>\r\n              <div style={{ padding: \"4px\" }}>\r\n                <button\r\n                  style={{ float: \"right\" }}\r\n                  onClick={() => deleteHighlight(index)}\r\n                  className=\"sidebar__btn\"\r\n                >\r\n                  <i className=\"fa fa-close\"></i>\r\n                </button>\r\n              </div>\r\n              <strong>{processMd(highlight.comment.text)}</strong>\r\n              {highlight.content.text ? (\r\n                <blockquote style={{ marginTop: \"0.5rem\" }}>\r\n                  {`${highlight.content.text.slice(0, 90).trim()}…`}\r\n                </blockquote>\r\n              ) : null}\r\n              {highlight.content.image ? (\r\n                <div\r\n                  className=\"highlight__image\"\r\n                  style={{ marginTop: \"0.5rem\" }}\r\n                >\r\n                  <img src={highlight.content.image} alt={\"Screenshot\"} />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n            <div className=\"highlight__location\">\r\n              Page {highlight.position.pageNumber}\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {highlights.length > 0 ? (\r\n        <div style={{ padding: \"1rem\" }}>\r\n          <button onClick={resetHighlights}>Reset highlights</button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Highlight;\r\n","import React, { Suspense, lazy } from \"react\";\r\nimport Spinner from \"./shared/Spinner\";\r\nimport Highlight from \"./shared/Highlight\";\r\nconst Dashboard = lazy(() => import(\"./Dashboard/Index\"));\r\n\r\nfunction AppRoutes(props) {\r\n  return (\r\n    <Suspense fallback={<Spinner />}>\r\n      {props.highlight === true && <Highlight />}\r\n      <Dashboard\r\n        showFileViewer={props.showFileViewer}\r\n        showDashboardView={props.showDashboardView}\r\n        showHighlight={props.showHighlight}\r\n      />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default AppRoutes;\r\n","export const InitialState = {\n  files: [],\n  currentFile: null,\n  fileHighlights: [],\n  error: null,\n  message: null,\n  auth: {\n    authToken: null,\n    userPublicId: null,\n    username: null,\n    email: null,\n    expiry: null,\n  }\n};\n\nexport const reducer = (state, action) => {\n  if (action.type === \"ADD_FILE\") {\n    if(!Array.isArray(action.payload)) action.payload = [action.payload];\n    let Allfiles = [...state.files, ...action.payload];\n    let fileNames = [];\n    let files = Allfiles.filter((file) => {\n      if(fileNames.includes(file.name)) return false;\n      fileNames.push(file.name);\n      return true;\n    })\n    return {\n      ...state,\n      files,\n      currentFile: state.currentFile || action.payload[0],\n    };\n  }\n  if (action.type === \"AUTH\") {\n    const auth = {\n        authToken: action.payload.auth_token,\n        userPublicId: action.payload.userPublicId,\n        username: action.payload.username,\n        email: action.payload.email,\n        expiry: action.payload.expiry || Date.parse(new Date()) + (29*60*1000),\n      };\n    localStorage.setItem('authDetails', JSON.stringify(auth));\n    return {\n      ...state,\n      auth, \n    };\n  }\n  if (action.type === \"LOG_OUT\") {\n    localStorage.clear();\n    return InitialState;\n  }\n  if (action.type === \"SET_CURR_FILE\") {\n    return {\n      ...state,\n      currentFile: action.payload,\n    };\n  }\n  if (action.type === \"FETCH_FILE_HIGHLIGHTS\") {\n    console.log(action.payload);\n    return {\n      ...state,\n      fileHighlights: action.payload,\n    };\n  }\n  if (action.type === \"SET_FILE_HIGHLIGHTS\") {\n    console.log(action.payload);\n    let highlights = [];\n    if(state.fileHighlights.length > 0) {\n      let fileUpdated = false;\n      highlights = state.fileHighlights.map((singleFile) => {\n        if(singleFile.name === action.payload.name) {\n          singleFile.highlights = action.payload.highlights;\n          fileUpdated = true;\n        }\n        return singleFile;\n      });\n      if(!fileUpdated) {\n        highlights = [...state.fileHighlights, action.payload];\n      }\n    } else {\n      highlights = [action.payload];\n    }\n    console.log(highlights);\n    return {\n      ...state,\n      fileHighlights: highlights,\n    };\n  }\n  if (action.type === \"ERROR\") {\n    return {\n      ...state,\n      error: action.payload,\n    };\n  }\n  if (action.type === \"MESSAGE\") {\n    return {\n      ...state,\n      message: action.payload,\n    };\n  }\n  return state;\n};\n","// @flow\r\nimport React, { useState, useEffect } from \"react\";\r\nimport processMd from \"./markdown\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL_DEV } from \"../utils\";\r\n\r\n\r\nconst updateHash = (highlight) => {\r\n  document.location.hash = `highlight-${highlight.id}`;\r\n};\r\n\r\nfunction Highlight(props) {\r\n  const [state, setState] = useState({ highlights: [] });\r\n  const [PdfUrl, setPdfUrl] = useState({ url: \"\" });\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const result_json = await axios(\"http://127.0.0.1:5000/api/v1/json\");\r\n      const pdf_name = Object.keys(result_json.data)[0];\r\n      setPdfUrl({ url: `${BASE_URL_DEV}/api/v1/pdf/${pdf_name}` });\r\n      setState({ highlights: result_json.data[pdf_name] });\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  const deleteHighlight = (index: number) => {\r\n    const highlights = state.highlights.filter((highlight, idx) => {\r\n      if (index !== idx) {\r\n        return highlight;\r\n      }\r\n    });\r\n    setState({ highlights });\r\n  };\r\n\r\n  const { highlights } = state;\r\n\r\n  const resetHighlights = () => {\r\n    setState({\r\n      highlights: [],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sidebarnew\"style={{ width: \"25vw\" }}>\r\n      {/*  */}\r\n      <div className=\"description\" style={{ padding: \"1rem\" }}>\r\n        <h2 style={{ marginBottom: \"1rem\" }}>SUPO</h2>\r\n\r\n        <p>\r\n          <small>\r\n            To create area highlight hold ⌥ Option key (Alt), then click and\r\n            drag.\r\n          </small>\r\n        </p>\r\n      </div>\r\n\r\n      <ul className=\"sidebar__highlights\">\r\n     \r\n        {highlights.map((highlight, index) => (\r\n          <li\r\n            key={index}\r\n            className=\"sidebar__highlight\"\r\n            onClick={() => {\r\n              updateHash(highlight);\r\n            }}\r\n          >\r\n            <div>\r\n              <div style={{ padding: \"4px\" }}>\r\n                <button\r\n                  style={{ float: \"right\" }}\r\n                  onClick={() => deleteHighlight(index)}\r\n                  className=\"sidebar__btn\"\r\n                >\r\n                  <i className=\"fa fa-close\"></i>\r\n                </button>\r\n              </div>\r\n              <strong>{processMd(highlight.comment.text)}</strong>\r\n              {highlight.content.text ? (\r\n                <blockquote style={{ marginTop: \"0.5rem\" }}>\r\n                  {`${highlight.content.text.slice(0, 90).trim()}…`}\r\n                </blockquote>\r\n              ) : null}\r\n              {highlight.content.image ? (\r\n                <div\r\n                  className=\"highlight__image\"\r\n                  style={{ marginTop: \"0.5rem\" }}\r\n                >\r\n                  <img src={highlight.content.image} alt={\"Screenshot\"} />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n            <div className=\"highlight__location\">\r\n              Page {highlight.position.pageNumber}\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {highlights.length > 0 ? (\r\n        <div style={{ padding: \"1rem\" }}>\r\n          <button onClick={resetHighlights}>Reset highlights</button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Highlight;\r\n","import React, { useEffect } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { BASE_URL_DEV, fetchAuth } from \"../utils\";\n\nconst Register = () => {\n\n  const history = useHistory();\n\n  const [userDetails, setUserDetails] = React.useState({\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n\n  useEffect(() => {\n    const auth = fetchAuth();\n    if (auth && auth.authToken && auth.userPublicId) {\n      history.push(\"/dashboard\");\n      console.log(auth);\n    }\n  }, [history]);\n\n  const registerUser = async (e) => {\n    e.preventDefault();\n    if(!userDetails.username || !userDetails.email || !userDetails.password1 || !userDetails.password2) return null;\n    if(userDetails.password1 !== userDetails.password2) return null;\n    console.log(userDetails);\n    const response = await fetch(`${BASE_URL_DEV}/api/user/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(userDetails),\n    });\n    const json = await response.json();\n    console.log(json);\n    if(response.ok) {\n      history.push('/login');\n    }\n  };\n\n  return (\n    <div className=\"mb-2 auth-page\">\n      <div className=\"d-flex align-items-center auth px-0 h-100\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-4 mx-auto\">\n            <div className=\"card text-left py-5 my-5 bg-dark px-4 px-sm-5\">\n              <div className=\"brand-logo\">\n                <img src={require(\"../images/logo.svg\")} alt=\"logo\" />\n              </div>\n              <h4>New here?</h4>\n              <h6 className=\"font-weight-light\">\n                Signing up is easy. It only takes a few steps\n              </h6>\n              <form className=\"pt-3\">\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control form-control-lg\"\n                    id=\"inputUsername1\"\n                    placeholder=\"Username\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        username: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"email\"\n                    className=\"form-control form-control-lg\"\n                    id=\"inputEmail1\"\n                    placeholder=\"Email\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        email: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control form-control-lg\"\n                    id=\"inputPassword1\"\n                    placeholder=\"Password\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        password1: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control form-control-lg\"\n                    id=\"inputConfirmPassword1\"\n                    placeholder=\"Confirm Password\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        password2: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n                <div className=\"mt-3\">\n                  <Button\n                    className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                    onClick={registerUser}\n                  >\n                    SIGN UP\n                  </Button>\n                </div>\n                <div className=\"text-center mt-4 font-weight-light\">\n                  Already have an account?{\" \"}\n                  <Link to=\"/login\" className=\"text-primary\">\n                    Login\n                  </Link>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { BASE_URL_DEV, fetchAuth } from \"../utils\";\nimport { UserContext } from \"../App\";\n\nconst Login = () => {\n  const history = useHistory();\n  const { dispatch } = useContext(UserContext);\n\n  const [userDetails, setUserDetails] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  useEffect(() => {\n    const auth = fetchAuth();\n    if (auth && auth.authToken && auth.userPublicId) {\n      history.push(\"/dashboard\");\n      console.log(auth);\n    }\n  }, [history]);\n\n  const loginUser = async (e) => {\n    e.preventDefault();\n    if (!userDetails.username || !userDetails.password) return null;\n    const response = await fetch(`${BASE_URL_DEV}/api/user/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"Authorization\",\n      },\n      body: JSON.stringify(userDetails),\n    });\n    const json = await response.json();\n    console.log(json);\n    if (response.ok) {\n      dispatch({ type: \"AUTH\", payload: json });\n      history.push(\"/dashboard\");\n    }\n  };\n\n  return (\n    <div className=\"mt-5 auth-page\" style={{ height: \"85vh\" }}>\n      <div className=\"d-flex align-items-center auth px-0\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-4 mx-auto\">\n            <div className=\"card text-left py-5 my-5 bg-dark px-4 px-sm-5\">\n              <div className=\"brand-logo\">\n                <img src={require(\"../images/logo.svg\")} alt=\"logo\" />\n              </div>\n              <h4>Hello! let's get started</h4>\n              <h6 className=\"font-weight-light\">Sign in to continue.</h6>\n              <Form className=\"pt-3\">\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        username: e.target.value,\n                      })\n                    }\n                  />\n                </Form.Group>\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                    onChange={(e) =>\n                      setUserDetails({\n                        ...userDetails,\n                        password: e.target.value,\n                      })\n                    }\n                  />\n                </Form.Group>\n                <div className=\"mt-3\">\n                  <Button\n                    className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                    onClick={loginUser}\n                  >\n                    SIGN IN\n                  </Button>\n                </div>\n                <div className=\"text-center mt-4 font-weight-light\">\n                  Don't have an account?{\" \"}\n                  <Link to=\"/register\" className=\"text-primary\">\n                    Create\n                  </Link>\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport Quill from \"quill\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport \"quill/dist/quill.snow.css\";\nimport { io } from \"socket.io-client\";\n\n// Time in milliseconds to auto save the document\nconst SAVE_INTERVAL_MS = 60000;\n\n// Options available in toolbar\nconst TOOLBAR_OPTIONS = [\n  [{ header: [1, 2, 3, 4, 5, 6, false] }],\n  [{ font: [] }],\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\n  [\"bold\", \"italic\", \"underline\"],\n  [{ color: [] }, { background: [] }],\n  [{ script: \"sub\" }, { script: \"super\" }],\n  [{ align: [] }],\n  [\"blockquote\", \"code-block\"],\n  [\"clean\"],\n];\n\nexport default function TextEditor({ id, showTextEditor, setShowTextEditor }) {\n  const documentId = id;\n  const [socket, setSocket] = useState();\n  const [quill, setQuill] = useState();\n\n  useEffect(() => {\n    const s = io(\"http://localhost:5000\");\n    setSocket(s);\n\n    return () => {\n      s.disconnect();\n    };\n  }, []);\n\n  // To load Initial document\n  useEffect(() => {\n    if (socket == null || quill == null) return;\n\n    socket.once(\"load-document\", (document) => {\n      quill.setContents(document);\n      quill.enable();\n    });\n\n    socket.emit(\"get-document\", documentId);\n  }, [socket, quill, documentId]);\n\n  // To auto save document according to SAVE_INTERVAL_MS\n  useEffect(() => {\n    if (socket == null || quill == null) return;\n\n    const interval = setInterval(() => {\n      socket.emit(\"save-document\", quill.getContents());\n    }, SAVE_INTERVAL_MS);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [socket, quill]);\n\n  // to revieve the changes done somewhere else in the same document\n  useEffect(() => {\n    if (socket == null || quill == null) return;\n\n    const handler = (delta) => {\n      quill.updateContents(delta);\n    };\n    socket.on(\"receive-changes\", handler);\n\n    return () => {\n      socket.off(\"receive-changes\", handler);\n    };\n  }, [socket, quill]);\n\n  // useEffect(() => {\n  //   if (socket == null || quill == null) return;\n\n  //   const handler = (delta, oldDelta, source) => {\n  //     if (source !== \"user\") return;\n  //     socket.emit(\"send-changes\", delta);\n  //   };\n  //   quill.on(\"text-change\", handler);\n\n  //   return () => {\n  //     quill.off(\"text-change\", handler);\n  //   };\n  // }, [socket, quill]);\n\n  // Setting up the quill editor\n  const wrapperRef = useCallback((wrapper) => {\n    if (wrapper == null) return;\n\n    wrapper.innerHTML = \"\";\n    const editor = document.createElement(\"div\");\n    wrapper.append(editor);\n    const q = new Quill(editor, {\n      theme: \"snow\",\n      modules: { toolbar: TOOLBAR_OPTIONS },\n    });\n    q.disable();\n    q.setText(\"Loading...\");\n    setQuill(q);\n  }, []);\n\n  // to close note editor\n  const handleClose = () => {\n    setShowTextEditor(false);\n    socket.disconnect();\n  };\n\n  // called when save button in clicked\n  const handleNoteSave = () => {\n    if (socket == null || quill == null) return;\n    socket.emit(\"save-document\", quill.getContents());\n    handleClose();\n  }\n\n  return (\n    <React.Fragment>\n      <Modal\n        style={{ color: \"#050505\" }}\n        show={showTextEditor || false}\n        onHide={handleClose}\n        backdrop=\"static\"\n        size=\"xl\"\n        centered={true}\n      >\n        <Modal.Body>\n          <div className=\"container\" ref={wrapperRef}></div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={handleNoteSave}>\n            Save\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { Trans } from \"react-i18next\";\nimport TextEditor from \"../TextEditor\";\nimport { UserContext } from \"../App\";\n\nfunction Sidebar(props) {\n  const { state } = useContext(UserContext);\n  const [highlight, setHighlight] = useState(false);\n  const [fileViewer, setFileViewer] = useState(false);\n  const [dashboardView, setDashboardView] = useState(true);\n  const [menuState, setMenuState] = useState(false);\n\n  // function toggleMenuState(menuState) {\n  //   if (menuState) {\n  //     setMenuState(false);\n  //   } else if (Object.keys(this.state).length === 0) {\n  //     setMenuState(true);\n  //   } else {\n  //     Object.keys(this.state).forEach((i) => {\n  //       this.setState({ [i]: false });\n  //     });\n  //     setMenuState(true);\n  //   }\n  // }\n  const [showTextEditor, setShowTextEditor] = useState(false);\n\n  const handleTextEditor = (e) => {\n    e.preventDefault();\n    setShowTextEditor(true);\n  };\n\n  function highlightClick() {\n    if (fileViewer) setFileViewer(false);\n    if (dashboardView) setDashboardView(false);\n    if(!highlight) {\n      setHighlight(true);\n      props.HighlightClicks(true);\n      props.FileViewerClicks(false);\n      props.DashboardViewClicks(false);\n    }\n  }\n\n  function handleFileViewer() {\n    if (highlight) setHighlight(false);\n    if (dashboardView) setDashboardView(false);\n    if(!fileViewer) { \n      setFileViewer(true);\n      props.FileViewerClicks(true);\n      props.DashboardViewClicks(false);\n      props.HighlightClicks(false);\n    }\n  }\n\n  function dashboardClick() {\n    if(highlight) setHighlight(false);\n    if(fileViewer) setFileViewer(false);\n    if (!dashboardView) {\n      setDashboardView(true);\n      props.DashboardViewClicks(true);\n      props.FileViewerClicks(false);\n      props.HighlightClicks(false);\n    }\n  }\n  return (\n    <nav className=\"sidebar sidebar-offcanvas\" id=\"sidebar\">\n      <div className=\"sidebar-brand-wrapper d-none d-lg-flex align-items-center justify-content-center fixed-top\">\n        <a className=\"sidebar-brand brand-logo\" href=\"index.html\">\n          <img src={require(\"../images/logo.svg\")} alt=\"logo\" />\n        </a>\n        <a className=\"sidebar-brand brand-logo-mini\" href=\"index.html\">\n          <img src={require(\"../images/logo-mini.svg\")} alt=\"logo\" />\n        </a>\n      </div>\n      <ul className=\"nav\">\n        <li className=\"nav-item profile\">\n          <div className=\"profile-desc\">\n            <div className=\"profile-pic\">\n              <div className=\"count-indicator\">\n                <img\n                  className=\"img-xs rounded-circle \"\n                  src={require(\"../images/faces/face15.jpg\")}\n                  alt=\"profile\"\n                />\n                <span className=\"count bg-success\"></span>\n              </div>\n              <div className=\"profile-name\">\n                <h5 className=\"mb-0 font-weight-normal\">\n                  <Trans>Henry Klein</Trans>\n                </h5>\n                <span>\n                  <Trans>Gold Member</Trans>\n                </span>\n              </div>\n            </div>\n            <Dropdown alignRight>\n              <Dropdown.Toggle as=\"a\" className=\"cursor-pointer no-caret\">\n                <i className=\"mdi mdi-dots-vertical\"></i>\n              </Dropdown.Toggle>\n              <Dropdown.Menu className=\"sidebar-dropdown preview-list\">\n                <a\n                  href=\"!#\"\n                  className=\"dropdown-item preview-item\"\n                  onClick={(evt) => evt.preventDefault()}\n                >\n                  <div className=\"preview-thumbnail\">\n                    <div className=\"preview-icon bg-dark rounded-circle\">\n                      <i className=\"mdi mdi-settings text-primary\"></i>\n                    </div>\n                  </div>\n                  <div className=\"preview-item-content\">\n                    <p className=\"preview-subject ellipsis mb-1 text-small\">\n                      <Trans>Account settings</Trans>\n                    </p>\n                  </div>\n                </a>\n                <div className=\"dropdown-divider\"></div>\n                <a\n                  href=\"!#\"\n                  className=\"dropdown-item preview-item\"\n                  onClick={(evt) => evt.preventDefault()}\n                >\n                  <div className=\"preview-thumbnail\">\n                    <div className=\"preview-icon bg-dark rounded-circle\">\n                      <i className=\"mdi mdi-onepassword  text-info\"></i>\n                    </div>\n                  </div>\n                  <div className=\"preview-item-content\">\n                    <p className=\"preview-subject ellipsis mb-1 text-small\">\n                      <Trans>Change Password</Trans>\n                    </p>\n                  </div>\n                </a>\n                <div className=\"dropdown-divider\"></div>\n                <a\n                  href=\"!#\"\n                  className=\"dropdown-item preview-item\"\n                  onClick={(evt) => evt.preventDefault()}\n                >\n                  <div className=\"preview-thumbnail\">\n                    <div className=\"preview-icon bg-dark rounded-circle\">\n                      <i className=\"mdi mdi-calendar-today text-success\"></i>\n                    </div>\n                  </div>\n                  <div className=\"preview-item-content\">\n                    <p className=\"preview-subject ellipsis mb-1 text-small\">\n                      <Trans>To-do list</Trans>\n                    </p>\n                  </div>\n                </a>\n              </Dropdown.Menu>\n            </Dropdown>\n          </div>\n        </li>\n        <li className=\"nav-item nav-category\">\n          <span className=\"nav-link\">\n            <Trans>Navigation</Trans>\n          </span>\n        </li>\n        <li\n          className={\n            dashboardView ? \"nav-item menu-items active\" : \"nav-item menu-items\"\n          }\n        >\n          <a className=\"nav-link\" onClick={dashboardClick}>\n            <span className=\"menu-icon\">\n              <i className=\"mdi mdi-speedometer\"></i>\n            </span>\n            <span className=\"menu-title\">\n              <Trans>Dashboard</Trans>\n            </span>\n          </a>\n        </li>\n\n        {/* highlight */}\n        <li\n          className={\n            highlight ? \"nav-item menu-items active\" : \"nav-item menu-items\"\n          }\n        >\n          <a\n            style={{ position: \"relative\" }}\n            className=\"nav-link\"\n            onClick={highlightClick}\n          >\n            <span className=\"menu-icon\">\n              <i className=\"mdi mdi-lightbulb\"></i>\n            </span>\n            <span className=\"menu-title\">\n              <Trans>Highlight</Trans>\n            </span>\n            <i className=\"fa fa-angle-right\"></i>\n          </a>\n        </li>\n        <li className={\"nav-item menu-items\"}>\n          <a\n            style={{ position: \"relative\" }}\n            className=\"nav-link\"\n            onClick={handleTextEditor}\n          >\n            <span className=\"menu-icon\">\n              <i className=\"mdi mdi-text\"></i>\n            </span>\n            <span className=\"menu-title\">\n              <Trans>Create Notes</Trans>\n            </span>\n            <i className=\"fa fa-angle-right\"></i>\n          </a>\n        </li>\n        <li\n          className={\n            fileViewer ? \"nav-item menu-items active\" : \"nav-item menu-items\"\n          }\n        >\n          <a\n            style={{ position: \"relative\" }}\n            className=\"nav-link\"\n            onClick={handleFileViewer}\n          >\n            <span className=\"menu-icon\">\n              <i className=\"mdi mdi-file\"></i>\n            </span>\n            <span className=\"menu-title\">\n              <Trans>File Viewer</Trans>\n            </span>\n            <i className=\"fa fa-angle-right\"></i>\n          </a>\n        </li>\n      </ul>\n      {showTextEditor && (\n        <TextEditor\n          id={state.auth && state.auth.userPublicId}\n          showTextEditor={showTextEditor}\n          setShowTextEditor={setShowTextEditor}\n        />\n      )}\n    </nav>\n  );\n}\n\nexport default Sidebar;\n","import React, { useState, useContext } from \"react\";\r\nimport { Fragment } from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../App\";\r\nimport { BASE_URL_DEV } from \"../utils\";\r\n\r\nfunction HighlightButton(props) {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [hightlightResponse, setHightlightResponse] = useState(\"\");\r\n\r\n  async function saveHighlightData() {\r\n    await axios\r\n      .post(`${BASE_URL_DEV}/save-highlights`, state.fileHighlights, {\r\n        headers: {\r\n          \"x-access-token\": state.auth && state.auth.authToken,\r\n        },\r\n      })\r\n      .then(function (response) {\r\n        if (response.data) {\r\n          dispatch({ type: \"MESSAGE\", payload: response.data.message });\r\n          setHightlightResponse(response.data.message);\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response) {\r\n          dispatch({ type: \"ERROR\", payload: error.response.statusText });\r\n          setHightlightResponse(\r\n            error && error.response && error.response.statusText\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"highlight_btn\">\r\n        <Button\r\n          className=\"btn btn-md\"\r\n          outline\r\n          color=\"light\"\r\n          onClick={saveHighlightData}\r\n        >\r\n          Save Highlight JSON\r\n        </Button>\r\n        <p>{hightlightResponse}</p>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default HighlightButton;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Fragment } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"reactstrap\";\r\nimport { UserContext } from \"../App\";\r\nimport { BASE_URL_DEV } from \"../utils\";\r\n\r\nfunction FileUploadComponent(props) {\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  const [file, setFile] = useState(\"\");\r\n  // const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\r\n  // const [uploadedResponse, setUploadedResponse] = useState(\"\");\r\n\r\n  async function _handleSubmit(e) {\r\n    e.preventDefault();\r\n    // let uploadedFile = {\r\n    //   lastModified: file.lastModified,\r\n    //   lastModifiedDate: new Date(file.lastModifiedDate),\r\n    //   name: file.name,\r\n    //   size: file.size,\r\n    //   type: file.type,\r\n    // };\r\n    if(!file) return null;\r\n    dispatch({ type: \"ADD_FILE\", payload: file });\r\n    const data = new FormData();\r\n    data.append(\"file\", file);\r\n    console.log(state.auth);\r\n    await axios\r\n      .post(`${BASE_URL_DEV}/upload/file`, data, {\r\n        headers: {\r\n          'x-access-token': state.auth && state.auth.authToken,\r\n        }\r\n      })\r\n      .then(function (response) {\r\n        // console.log(response)\r\n        // setUploadedResponse(response.data);\r\n        if(response.data) {\r\n          dispatch({ type: \"MESSAGE\", payload: response.data.message });\r\n          return (async () => {\r\n            const result = await axios(\r\n              `${BASE_URL_DEV}/highlights-json/${\r\n                state.auth && state.auth.userPublicId\r\n              }/${file.name}`\r\n            );\r\n            const fileHighlights = result.data;\r\n            console.log('fileHighlights: ');\r\n            console.log(fileHighlights);\r\n            if (\r\n              fileHighlights &&\r\n              fileHighlights.highlights\r\n              ) {\r\n              dispatch({\r\n                type: \"SET_FILE_HIGHLIGHTS\",\r\n                payload: fileHighlights.highlights,\r\n              });\r\n            }\r\n          })();\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        // setUploadedResponse(\r\n        //   error && error.response !== undefined && error.response.statusText\r\n        // );\r\n        if (error && error.response) {\r\n          dispatch({ type: \"ERROR\", payload: error.response.statusText || 'File Upload Failed!!' });\r\n        }\r\n      });\r\n      setFile('');\r\n  }\r\n\r\n  function _handleImageChange(e) {\r\n    e.preventDefault();\r\n\r\n    let reader = new FileReader();\r\n    let file = e.target.files[0];\r\n\r\n    reader.onload = () => {\r\n      setFile(file);\r\n      // setImagePreviewUrl(reader.result);\r\n    };\r\n\r\n    if(file) reader.readAsDataURL(file);\r\n  }\r\n\r\n  // let $imagePreview = null;\r\n  // if (imagePreviewUrl) {\r\n  //   $imagePreview = <img src={imagePreviewUrl} height=\"50px\" width=\"50px\" />;\r\n  // }\r\n  //   else {\r\n  //     $imagePreview = (\r\n  //         <div></div>\r\n  //     //   <div className=\"previewText\">Please select an Image for Preview</div>\r\n  //     );\r\n  //   }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"previewComponent\">\r\n        <form onSubmit={(e) => _handleSubmit(e)}>\r\n          <div className=\"input-group\">\r\n            {/* <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                Upload\r\n              </span>\r\n            </div> */}\r\n            <div className=\"custom-file\">\r\n              <input\r\n                type=\"file\"\r\n                className=\"custom-file-input\"\r\n                id=\"inputGroupFile01\"\r\n                onChange={(e) => _handleImageChange(e)}\r\n                aria-describedby=\"inputGroupFileAddon01\"\r\n              />\r\n              <label style={{ color: '#c7c7c7' }} className=\"custom-file-label\" htmlFor=\"inputGroupFile01\">\r\n                {file === '' ? 'Choose file' : file.name}\r\n              </label>\r\n            </div>\r\n          </div>\r\n          {/* \r\n<Input\r\n            className=\"fileInput\"\r\n            type=\"file\"\r\n           \r\n          /> */}\r\n\r\n          <Button\r\n            className=\"btn btn-md submitButton\"\r\n            color=\"success\"\r\n            type=\"submit\"\r\n            onClick={(e) => _handleSubmit(e)}\r\n          >\r\n            Upload File\r\n          </Button>\r\n        </form>\r\n        {/* <div className=\"preview_Sec\">\r\n          {$imagePreview !== null && (\r\n            <div className=\"imgPreview\">{$imagePreview}</div>\r\n          )}\r\n          {uploadedResponse !== \"\" && <p>File Uploaded Successfully</p>}\r\n        </div> */}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default FileUploadComponent;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Fragment } from \"react\";\r\nimport { Input } from \"reactstrap\";\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <Fragment>\r\n      <form className=\"nav-link mt-2 mt-md-0 d-none d-lg-flex search\">\r\n        <Input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search products\"\r\n        />\r\n      </form>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React, { useContext, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport HighlightButton from '../Dashboard/HighlightButton';\nimport FileUploadComponent from '../Dashboard/FileUploadComponent';\nimport Search from '../Dashboard/Search';\nimport { Col, Row } from 'reactstrap';\n\nimport { UserContext } from \"../App\";\nimport { fetchAuth } from '../utils';\n\nconst Navbar = () => {\n  \n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    if (state && state.auth) {\n      const auth = state.auth;\n      console.log('Auth Expiry Time', new Date(auth.expiry));\n      if (!auth.authToken || !auth.userPublicId || !auth.username || !auth.email) {\n        const savedAuth = fetchAuth();\n        if(!savedAuth) {\n          history.push(\"/login\");\n        } else {\n          dispatch({ type: \"AUTH\", payload: savedAuth });\n        }\n      }\n    }\n  }, [state.auth]);\n\n  const toggleOffcanvas = () => {\n    document.querySelector('.sidebar-offcanvas').classList.toggle('active');\n  }\n  const toggleRightSidebar = () => {\n    document.querySelector('.right-sidebar').classList.toggle('open');\n  }\n    return (\n      <nav className=\"navbar p-0 fixed-top d-flex flex-row\">\n        <div className=\"navbar-brand-wrapper d-flex d-lg-none align-items-center justify-content-center\">\n          <Link className=\"navbar-brand brand-logo-mini\" to=\"/\">\n            <img src={require(\"../images/logo-mini.svg\")} alt=\"logo\" />\n          </Link>\n        </div>\n        <div className=\"navbar-menu-wrapper flex-grow d-flex align-items-stretch\">\n          <button\n            className=\"navbar-toggler align-self-center\"\n            type=\"button\"\n            onClick={() => document.body.classList.toggle(\"sidebar-icon-only\")}\n          >\n            <span className=\"mdi mdi-menu\"></span>\n          </button>\n          <Row\n            style={{ alignItems: \"center\", width: \"100%\" }}\n            className=\"nav_items_upload\"\n          >\n            <Col lg={3} md={4} xs={12} sm={12}>\n              <Search />\n            </Col>\n            <Col lg={6} md={6} xs={12} sm={12}>\n              <FileUploadComponent />\n            </Col>\n            <Col lg={3} md={2} xs={12} sm={12}>\n              <HighlightButton />\n            </Col>\n          </Row>\n          <button\n            className=\"navbar-toggler navbar-toggler-right d-lg-none align-self-center\"\n            type=\"button\"\n            onClick={toggleOffcanvas}\n          >\n            <span className=\"mdi mdi-format-line-spacing\"></span>\n          </button>\n\n          <button\n            style={{ height: '35px' }}\n            className=\"navbar-toggler bg-danger align-self-center text-white btn btn-danger\"\n            type=\"button\"\n            onClick={() => dispatch({ type: \"LOG_OUT\" })}\n          >\n            LogOut\n          </button>\n        </div>\n      </nav>\n    );\n  }\n\nexport default Navbar;\n","// @flow\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { UserContext } from \"../App\";\nimport processMd from \"./markdown\";\nimport { BASE_URL_DEV } from \"../utils\";\n\nconst updateHash = (highlight) => {\n  document.location.hash = `pdf-highlight-${highlight.id}`;\n};\n\nfunction FileViewer() {\n  const { state, dispatch } = useContext(UserContext);\n\n  const [highlights, setHighlights] = useState([]);\n  const [selectPdf, setSelectPdf] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      const result = await axios(`${BASE_URL_DEV}/get/files`, {\n        headers: {\n          \"x-access-token\": state.auth && state.auth.authToken,\n        },\n      });\n      const files = result.data && result.data.files;\n      console.log(files);\n      dispatch({ type: \"ADD_FILE\", payload: files });\n    })();\n    if (state.fileHighlights && state.fileHighlights.length === 0) {\n      (async () => {\n        const result = await axios(`${BASE_URL_DEV}/get-highlights`, {\n          headers: {\n            \"x-access-token\": state.auth && state.auth.authToken,\n          },\n        });\n        const fileHighlights = result.data;\n        console.log(fileHighlights);\n        if (\n          fileHighlights &&\n          fileHighlights.highlights &&\n          fileHighlights.highlights.length > 0\n        ) {\n          dispatch({\n            type: \"FETCH_FILE_HIGHLIGHTS\",\n            payload: fileHighlights.highlights,\n          });\n        }\n      })();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (state.currentFile) {\n      console.log(state);\n      let highlightUpdated = false;\n      state.fileHighlights.forEach((item) => {\n        if (item.name === state.currentFile.name) {\n          setHighlights(item.highlights);\n          highlightUpdated = true;\n        }\n      });\n      if (!highlightUpdated) setHighlights([]);\n    }\n  }, [state.currentFile, state.fileHighlights]);\n\n  const handleFileClick = (index) => {\n    dispatch({ type: \"SET_CURR_FILE\", payload: state.files[index] });\n    setSelectPdf(false);\n  };\n\n  const deleteHighlight = (index) => {\n    const updatedHighlights = highlights.filter((highlight, idx) => {\n      if (index !== idx) {\n        return highlight;\n      }\n    });\n    setHighlights(updatedHighlights);\n  };\n\n  const resetHighlights = () => {\n    setHighlights([]);\n  };\n\n  return (\n    <div\n      className=\"sidebarnew\"\n      style={{\n        width: \"25%\",\n        minWidth: \"20%\",\n        height: \"calc(100vh - 70px)\",\n        overflowY: \"scroll\",\n      }}\n    >\n      <div className=\"description\" style={{ padding: \"1rem\" }}>\n        <h2 style={{ marginBottom: \"1rem\" }}>SUPO</h2>\n        <p>\n          <small>\n            To create area highlight hold ⌥ Option key (Alt), then click and\n            drag.\n          </small>\n        </p>\n      </div>\n\n      <ul className=\"sidebar__highlights\">\n        <li\n          className=\"sidebar__highlight h4 bg-secondary\"\n          onClick={() => setSelectPdf(true)}\n        >\n          Select Another File\n        </li>\n        {highlights.length > 0 ? (\n          highlights.map((highlight, index) => (\n            <li\n              key={index}\n              className=\"sidebar__highlight\"\n              onClick={() => {\n                updateHash(highlight);\n              }}\n            >\n              <div>\n                <div style={{ padding: \"4px\" }}>\n                  <button\n                    style={{ float: \"right\" }}\n                    onClick={() => deleteHighlight(index)}\n                    className=\"sidebar__btn\"\n                  >\n                    <i className=\"fa fa-close\"></i>\n                  </button>\n                </div>\n                <strong>{processMd(highlight.comment.text)}</strong>\n                {highlight.content.text ? (\n                  <blockquote style={{ marginTop: \"0.5rem\" }}>\n                    {`${highlight.content.text.slice(0, 90).trim()}…`}\n                  </blockquote>\n                ) : null}\n                {highlight.content.image ? (\n                  <div\n                    className=\"highlight__image\"\n                    style={{ marginTop: \"0.5rem\" }}\n                  >\n                    <img src={highlight.content.image} alt={\"Screenshot\"} />\n                  </div>\n                ) : null}\n              </div>\n              <div className=\"highlight__location\">\n                Page {highlight.position.pageNumber}\n              </div>\n            </li>\n          ))\n        ) : (\n          <li className=\"sidebar__highlight\">\n            <div className=\"p-2\">\n              <p style={{ margin: 0 }}>\n                No Highlights Available for Selected Pdf!\n              </p>\n            </div>\n          </li>\n        )}\n      </ul>\n      {highlights.length > 0 ? (\n        <div style={{ padding: \"1rem\" }}>\n          <button onClick={resetHighlights}>Reset highlights</button>\n        </div>\n      ) : null}\n      <Modal\n        style={{ color: \"#050505\" }}\n        show={selectPdf}\n        onHide={() => setSelectPdf(false)}\n        backdrop=\"static\"\n        size=\"md\"\n        centered={true}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"example-modal-sizes-title-sm\">\n            Select File\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {state.files && state.files.length > 0 ? (\n            state.files.map((pdf, index) => (\n              <div\n                key={index}\n                className=\"btn btn-secondary w-100 rounded-0 py-3 my-1\"\n                onClick={() => handleFileClick(index)}\n              >\n                {state.currentFile.name === pdf.name ? (\n                  <strong>\n                    <p style={{ margin: 0 }}>{pdf.name}</p>\n                  </strong>\n                ) : (\n                  <p style={{ margin: 0 }}>{pdf.name}</p>\n                )}\n              </div>\n            ))\n          ) : (\n            <div className=\"w-100 p-2\">\n              <p style={{ margin: 0 }}>No Pdfs uploaded!</p>\n            </div>\n          )}\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n}\n\nexport default FileViewer;\n","// @flow\r\n\r\n// Based on https://github.com/agentcooper/react-pdf-highlighter/tree/master/packages/example\r\n// rewritten with hooks\r\n\r\nimport React, { useState, useReducer, createContext } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport AppRoutes from \"./AppRoutes\";\r\n\r\nimport { reducer, InitialState } from \"./Reducers\";\r\nimport {\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  BrowserRouter as Router,\r\n} from \"react-router-dom\";\r\nimport Highlight from \"./Dashboard/Highlight\";\r\n\r\nimport Register from \"./Dashboard/Register\";\r\nimport DashboardView from \"./Dashboard/DashboardView\";\r\nimport Login from \"./Dashboard/Login\";\r\n//import testHighlights from \"./test-highlights\";\r\n\r\nimport Sidebar from \"./shared/Sidebar\";\r\nimport \"./App.scss\";\r\n\r\nimport \"./style/App.css\";\r\nimport Navbar from \"./shared/Navbar\";\r\nimport FileViewer from \"./Dashboard/FileViewer\";\r\nimport { fetchAuth } from \"./utils\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, InitialState);\r\n  const [showHighlight, setShowHighlight] = useState(false);\r\n  const [showFileViewer, setShowFileViewer] = useState(false);\r\n  const [showDashboardView, setShowDashboardView] = useState(true);\r\n\r\n  function getHighlightClicks(val) {\r\n    setShowHighlight(val);\r\n    if (val) setShowFileViewer(false);\r\n    if (val) setShowDashboardView(false);\r\n  }\r\n\r\n  function getFileViewerClicks(val) {\r\n    setShowFileViewer(val);\r\n    if (val) setShowHighlight(false);\r\n    if (val) setShowDashboardView(false);\r\n  }\r\n\r\n  function getDashboardViewClicks(val) {\r\n    setShowDashboardView(val);\r\n    if (val) setShowHighlight(false);\r\n    if (val) setShowFileViewer(false);\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={{ state, dispatch }}>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/login\">\r\n            <Login />\r\n          </Route>\r\n          <Route path=\"/register\">\r\n            <Register />\r\n          </Route>\r\n          <Route exact path=\"/dashboard\">\r\n            <div className=\"container-scroller\">\r\n              <Sidebar\r\n                HighlightClicks={getHighlightClicks}\r\n                FileViewerClicks={getFileViewerClicks}\r\n                DashboardViewClicks={getDashboardViewClicks}\r\n              />\r\n              <div className=\"container-fluid page-body-wrapper\">\r\n                <Navbar />\r\n                <div className=\"main-panel\">\r\n                  <div className=\"show_side\" style={{ display: \"flex\" }}>\r\n                    {showHighlight === true && <Highlight />}\r\n                    {showFileViewer === true && <FileViewer />}\r\n                    <div className=\"content-wrapper\" style={{ width: \"75%\" }}>\r\n                      <AppRoutes\r\n                        showFileViewer={showFileViewer}\r\n                        showDashboardView={showDashboardView}\r\n                        showHighlight={showHighlight}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Route>\r\n          <Redirect to=\"/login\" />\r\n        </Switch>\r\n      </Router>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.8d2895f5.svg\";"],"sourceRoot":""}