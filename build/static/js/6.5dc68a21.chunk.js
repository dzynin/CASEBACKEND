(this["webpackJsonpreact-pdf-markdown-highlighter"]=this["webpackJsonpreact-pdf-markdown-highlighter"]||[]).push([[6],{534:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=534},536:function(e,t,n){"use strict";var i=n(1),a=n.n(i),o=n(87);n(541);t.a=function(e){const[t,n]=Object(i.useState)({compact:!0,text:"",emoji:""}),{onConfirm:l,onOpen:c}=e,{compact:r,text:s,emoji:h}=t;return a.a.createElement("div",{className:"Tip"},r?a.a.createElement("div",{className:"Tip__compact",onClick:()=>{c(),n({compact:!1})}},"Add highlight"):a.a.createElement("form",{className:"Tip__card",onSubmit:e=>{e.preventDefault(),l({text:s,emoji:h})}},a.a.createElement("div",null,a.a.createElement("textarea",{width:"100%",placeholder:"Your comments",autoFocus:!0,value:s,onChange:e=>n({text:e.target.value}),ref:e=>{e&&e.focus()}})),a.a.createElement("div",{id:"preview",width:"100%"},Object(o.a)(t.text)),a.a.createElement("div",null,a.a.createElement("input",{type:"submit",value:"Save"}))))}},541:function(e,t,n){},552:function(e,t){},554:function(e,t){},555:function(e,t){},556:function(e,t){},557:function(e,t){},558:function(e,t){},575:function(e,t,n){"use strict";n.r(t);var i=n(560),a=n(1),o=n.n(a),l=n(537);var c,r=function(e){let{isScrolledTo:t,position:n,comment:i}=e;const a=document.querySelector(".pdf-viewer"),l=a?.004*a.clientWidth:0,c={position:"absolute",left:"".concat(l,"px"),top:"".concat(n.boundingRect.top,"px"),background:"yellow",padding:"10px",borderRadius:"5px",boxShadow:"10 2px 5px rgba(0,0,0,0.3)",zIndex:1e3};return o.a.createElement("div",{style:c},i&&i.text)},s=n(646),h=n(561),u=n(153),d=n(536),m=n(87),g=n(32);n(12),n(157);const p=()=>{document.location.hash=""},f=e=>{let{comment:t}=e;return t.text?o.a.createElement("div",{className:"Highlight__popup"},t.emoji," ",Object(m.a)(t.text)):null},E=h.a.div(c||(c=Object(i.a)(["\n  .Highlight__part {\n    background: ",";\n  }\n  .AreaHighlight {\n    border: 3px solid ",";\n  }\n  .Highlight__part.OTHER {\n    background: rgb(93, 115, 240);\n  }\n  .Highlight__part.LEGALTEST {\n    background: ",";\n  }\n  .Highlight__part.ISSUE {\n    background: ",";\n  }\n  .Highlight__part.CONCLUSION {\n    background: ",";\n  }\n"])),e=>e.highlightColors.default||"#000000",e=>e.highlightColors.default||"#000000",e=>e.highlightColors.legalTest,e=>e.highlightColors.issue,e=>e.highlightColors.conclusion);t.default=function(){const{state:e,dispatch:t}=Object(a.useContext)(g.a),[n,i]=Object(a.useState)(null),[c,h]=Object(a.useState)([]);Object(a.useEffect)(()=>{var n;c.length>0&&t({type:"SET_FILE_HIGHLIGHTS",payload:{highlights:c,name:null===(n=e.currentFile)||void 0===n?void 0:n.name}})},[c]),Object(a.useEffect)(()=>{if(e.currentFile)if(e.currentFile.url)i(e.currentFile.url);else if(e.currentFile instanceof Blob){const t=new FileReader;t.onload=()=>{i(t.result)},t.readAsDataURL(e.currentFile)}else console.error("Current file is not a Blob");else i(null)},[e.currentFile]),Object(a.useEffect)(()=>{if(e.currentFile){const t=e.fileHighlights.find(t=>t.name===e.currentFile.name);h(t?t.highlights:[])}else h([])},[e.currentFile,e.fileHighlights]);const m=Object(a.useRef)(null),v=()=>{const e=(t=document.location.hash.slice("#pdf-highlight-".length),c.find(e=>e.id===t));var t;e&&m.current.scrollTo(e)};return Object(a.useEffect)(()=>(window.addEventListener("hashchange",v,!1),()=>window.removeEventListener("hashchange",v)),[c]),o.a.createElement(E,{highlightColors:e.highlightColors},o.a.createElement("div",{className:"d-flex"},o.a.createElement("div",{style:{minHeight:"calc(100vh - 70px)",color:"#000000",width:"80%"},className:"pdf-viewer"},n?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.d,{className:"my-pdf-viewer",url:n,beforeLoad:o.a.createElement(u.a,null)},e=>o.a.createElement(l.c,{ref:m,pdfDocument:e,enableAreaSelection:e=>e.altKey,onScrollChange:p,scrollRef:e=>{},onSelectionFinished:(e,t,n,i)=>o.a.createElement(d.a,{onOpen:i,onConfirm:i=>{var a;a={content:t,position:e,comment:i},h([{...a,id:String(Math.random()).slice(2)},...c]),n()}}),highlightTransform:(e,t,n,i,a,s,u)=>{const d=!Boolean(e.content&&e.content.image)?o.a.createElement(r,{isScrolledTo:u,position:e.position,comment:e.comment}):o.a.createElement(l.a,{highlight:e,onChange:t=>{var n,i,o;n=e.id,i={boundingRect:a(t)},o={image:s(t)},h(c.map(e=>e.id===n?{...e,position:{...e.position,...i},content:{...e.content,...o}}:e))}});return o.a.createElement(l.e,{popupContent:o.a.createElement(f,e),onMouseOver:t=>n(e,e=>t),onMouseOut:i,key:t,children:d})},highlights:c}))):e.files&&0===e.files.length?o.a.createElement(s.a,null,o.a.createElement("div",{className:"h3 text-center mt-5"},"No File Selected!!")):o.a.createElement(u.a,null))))}}}]);
//# sourceMappingURL=6.5dc68a21.chunk.js.map